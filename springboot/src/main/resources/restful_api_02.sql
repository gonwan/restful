-- MySQL dump 10.13  Distrib 5.7.17, for macos10.12 (x86_64)
--
-- Host: 192.168.11.196    Database: restful_api
-- ------------------------------------------------------
-- Server version	5.7.21-0ubuntu0.16.04.1-log

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Dumping data for table `t_api`
--

LOCK TABLES `t_api` WRITE;
/*!40000 ALTER TABLE `t_api` DISABLE KEYS */;
INSERT INTO `t_api` VALUES (1,1,'mysql_user1','1',1,1,1,'select [columns] from user',NULL,1,NULL,'gonwan',NULL,NULL,NULL,NULL,NULL);
INSERT INTO `t_api` VALUES (2,1,'mysql_user2','1,2',1,1,1,'select [columns] from user','Host = \'localhost\'',1,NULL,'gonwan',NULL,NULL,NULL,NULL,NULL);
INSERT INTO `t_api` VALUES (3,1,'mysql_user3','1,2',1,1,1,'select [columns] from user',NULL,1,'password_last_changed:date','gonwan',NULL,NULL,NULL,NULL,NULL);
INSERT INTO `t_api` VALUES (4,1,'additional_issue_info','1',1,2,1,'select [columns] from additional_issue_info','',1,'','sky','2016-09-19 14:47:18','','','','');
INSERT INTO `t_api` VALUES (5,1,'agency','1',1,2,1,'SELECT CASE WHEN a.Bond_ID IS NOT NULL AND a.Listed_Market = \'CIB\' THEN CONCAT(SUBSTRING_INDEX(a.Bond_ID, \".\", 1), \'.IB\') \r\n            ELSE a.Bond_ID \r\n       END AS Bond_ID\r\n     , a.Short_Name\r\n     , a.Bond_Key\r\n     , \'TRU\' AS Relation_Type\r\n     , \'\' AS Institution_Code\r\n     , CASE WHEN (a.Listed_Market = \'SSE\' OR a.Listed_Market = \'SZE\') THEN \'中证登\'\r\n            WHEN a.Listed_Market = \'CIB\' AND LENGTH(a.Bond_ID) = 9 THEN \'上清所\'\r\n            WHEN a.Listed_Market = \'CIB\' AND LENGTH(a.Bond_ID) <> 9 THEN \'中债登\'\r\n            ELSE \'\'\r\n       END AS Institution_Name\r\nFROM p_bond_list_info AS a \r\nLEFT JOIN bond AS b ON a.Bond_Key = b.Bond_Key\r\nWHERE (CASE\r\n          WHEN a.Delisted_Date IS NOT NULL AND b.Maturity_Date IS NOT NULL AND a.Delisted_Date < b.Maturity_Date AND a.Delisted_Date >= CURRENT_DATE() THEN 1\r\n          WHEN a.Delisted_Date IS NOT NULL AND b.Maturity_Date IS NOT NULL AND a.Delisted_Date >= b.Maturity_Date AND b.Maturity_Date >= CURRENT_DATE() THEN 1\r\n          WHEN a.Delisted_Date IS NOT NULL AND b.Maturity_Date IS NULL AND a.Delisted_Date >= CURRENT_DATE() THEN 1\r\n          WHEN a.Delisted_Date IS NULL AND b.Maturity_Date IS NOT NULL AND b.Maturity_Date >= CURRENT_DATE() THEN 1\r\n          ELSE 0 END) = 1\r\nUNION ALL\r\nSELECT CASE WHEN a.Bond_ID IS NOT NULL AND a.Listed_Market = \'CIB\' THEN CONCAT(SUBSTRING_INDEX(a.Bond_ID, \".\", 1), \'.IB\') \r\n            ELSE a.Bond_ID END AS Bond_ID\r\n     , a.Short_Name\r\n     , a.Bond_Key\r\n     , c.Underwriter_Type AS Relation_Type\r\n     , c.Underwriter_Code AS Institution_Code\r\n     , d.Full_Name_C AS Institution_Name\r\nFROM p_bond_list_info AS a \r\nINNER JOIN bond AS b ON a.Bond_Key = b.Bond_Key\r\nINNER JOIN p_underwriter_info AS c ON a.Bond_Key = c.Bond_Key\r\nINNER JOIN institution AS d ON c.Underwriter_Code = d.Institution_Code','(\r\n		CASE\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date < b.Maturity_Date\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date >= b.Maturity_Date\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NULL\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		ELSE\r\n			0\r\n		END\r\n	) = 1',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (6,1,'agency2','1',1,2,1,'SELECT CASE WHEN a.Bond_ID IS NOT NULL AND a.Listed_Market = \'CIB\' THEN CONCAT(SUBSTRING_INDEX(a.Bond_ID, \".\", 1), \'.IB\')              ELSE a.Bond_ID         END AS Bond_ID      , a.Short_Name      , a.Bond_Key      , \'TRU\' AS Relation_Type      , \'\' AS Institution_Code      , CASE WHEN (a.Listed_Market = \'SSE\' OR a.Listed_Market = \'SZE\') THEN \'中证登\'             WHEN a.Listed_Market = \'CIB\' AND LENGTH(a.Bond_ID) = 9 THEN \'上清所\'             WHEN a.Listed_Market = \'CIB\' AND LENGTH(a.Bond_ID) <> 9 THEN \'中债登\'             ELSE \'\'        END AS Institution_Name FROM p_bond_list_info AS a  LEFT JOIN bond AS b ON a.Bond_Key = b.Bond_Key WHERE (CASE           WHEN a.Delisted_Date IS NOT NULL AND b.Maturity_Date IS NOT NULL AND a.Delisted_Date < b.Maturity_Date AND a.Delisted_Date >= CURRENT_DATE() THEN 1           WHEN a.Delisted_Date IS NOT NULL AND b.Maturity_Date IS NOT NULL AND a.Delisted_Date >= b.Maturity_Date AND b.Maturity_Date >= CURRENT_DATE() THEN 1           WHEN a.Delisted_Date IS NOT NULL AND b.Maturity_Date IS NULL AND a.Delisted_Date >= CURRENT_DATE() THEN 1           WHEN a.Delisted_Date IS NULL AND b.Maturity_Date IS NOT NULL AND b.Maturity_Date >= CURRENT_DATE() THEN 1           ELSE 0 END) = 1 UNION ALL SELECT CASE WHEN a.Bond_ID IS NOT NULL AND a.Listed_Market = \'CIB\' THEN CONCAT(SUBSTRING_INDEX(a.Bond_ID, \".\", 1), \'.IB\')              ELSE a.Bond_ID END AS Bond_ID      , a.Short_Name      , a.Bond_Key      , c.Underwriter_Type AS Relation_Type      , c.Underwriter_Code AS Institution_Code      , d.Full_Name_C AS Institution_Name FROM p_bond_list_info AS a  INNER JOIN bond AS b ON a.Bond_Key = b.Bond_Key INNER JOIN p_underwriter_info AS c ON a.Bond_Key = c.Bond_Key INNER JOIN institution AS d ON c.Underwriter_Code = d.Institution_Code','( 		CASE 		WHEN a.Delisted_Date IS NOT NULL 		AND b.Maturity_Date IS NOT NULL 		AND a.Delisted_Date < b.Maturity_Date 		AND a.Delisted_Date >= CURRENT_DATE () THEN 			1 		WHEN a.Delisted_Date IS NOT NULL 		AND b.Maturity_Date IS NOT NULL 		AND a.Delisted_Date >= b.Maturity_Date 		AND b.Maturity_Date >= CURRENT_DATE () THEN 			1 		WHEN a.Delisted_Date IS NOT NULL 		AND b.Maturity_Date IS NULL 		AND a.Delisted_Date >= CURRENT_DATE () THEN 			1 		WHEN a.Delisted_Date IS NULL 		AND b.Maturity_Date IS NOT NULL 		AND b.Maturity_Date >= CURRENT_DATE () THEN 			1 		ELSE 			0 		END 	) = 1',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (7,1,'assets_and_liabilities','1',1,2,1,'SELECT\r\n	a.Institution_Code,\r\n	b.Full_Name_C AS Institution_Name,\r\n	DATE_FORMAT(a.END_DATE, \"%Y-%m-%d\") AS END_DATE,\r\n	a.BS_01,\r\n	a.BS_02,\r\n	a.BS_03,\r\n	a.BS_04,\r\n	a.BS_05,\r\n	a.BS_06,\r\n	a.BS_07,\r\n	a.BS_08,\r\n	a.BS_09,\r\n	a.BS_0901,\r\n	a.BS_10,\r\n	a.BS_11,\r\n	a.BS_12,\r\n	a.BS_13,\r\n	a.BS_14,\r\n	a.BS_15,\r\n	a.BS_16,\r\n	a.BS_17,\r\n	a.BS_18,\r\n	a.BS_19,\r\n	a.BS_20,\r\n	a.BS_21,\r\n	a.BS_22,\r\n	a.BS_23,\r\n	a.BS_24,\r\n	a.BS_25,\r\n	a.BS_26,\r\n	a.BS_27,\r\n	a.BS_28,\r\n	a.BS_29,\r\n	a.BS_30,\r\n	a.BS_31,\r\n	a.BS_32,\r\n	a.BS_33,\r\n	a.BS_34,\r\n	a.BS_35,\r\n	a.BS_36,\r\n	a.BS_37,\r\n	a.BS_38,\r\n	a.BS_39,\r\n	a.BS_40,\r\n	a.BS_4001,\r\n	a.BS_41,\r\n	a.BS_42,\r\n	a.BS_43,\r\n	a.BS_44,\r\n	a.BS_45,\r\n	a.BS_46,\r\n	a.BS_47,\r\n	a.BS_48,\r\n	a.BS_49,\r\n	a.BS_50,\r\n	a.BS_51,\r\n	a.BS_52,\r\n	a.BS_53,\r\n	a.BS_54,\r\n	a.BS_55,\r\n	a.BS_56,\r\n	a.BS_57,\r\n	a.BS_58,\r\n	a.BS_59,\r\n	a.BS_60,\r\n	a.BS_61,\r\n	a.BS_62,\r\n	a.BS_63,\r\n	a.BS_64,\r\n	a.BS_65,\r\n	a.BS_66,\r\n	a.BS_67,\r\n	a.BS_68,\r\n	a.BS_69,\r\n	a.BS_70,\r\n	a.BS_71,\r\n	a.BS_72,\r\n	a.BS_73,\r\n	a.BS_74,\r\n	a.BS_75,\r\n	a.BS_76,\r\n	a.BS_7601,\r\n	a.BS_77,\r\n	a.BS_78,\r\n	a.BS_79,\r\n	a.BS_80,\r\n	a.BS_81,\r\n	a.BS_82,\r\n	a.BS_83,\r\n	a.BS_84,\r\n	a.BS_85,\r\n	a.BS_86,\r\n	a.BS_87\r\nFROM\r\n	ss_finance.p_gen_data a\r\nINNER JOIN ss_product.institution b ON a.Institution_Code = b.Institution_Code','',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (8,1,'auction_info_with_bond','1',1,2,1,'select b.id, b.bond_id, b.short_name, b.maturity_term, b.term_unit, pai.auction_date, pai.auction_time_start, pai.auction_time_end, pai.auction_type from p_auction_info pai left join bond b on pai.bond_key=b.bond_key','',1,'pai.auction_date:date','sky','2016-10-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (9,1,'augment_lgf','1,3',1,2,1,'select\r\n	[columns]\r\nfrom\r\n(\r\nSELECT \r\nCASE\r\n	WHEN\r\n	bl.bond_id IS NOT NULL AND bl.Listed_Market=\'CIB\'\r\n	THEN\r\n	CONCAT(SUBSTRING_INDEX(bl.bond_id,\'.\',1),\'.IB\')\r\n	ELSE\r\n	bl.bond_id\r\nEND AS Bond_Id,\r\nbl.Short_Name,\r\npr.Bond_Key,\r\nLGF_Description as Description,\r\nLocal_Government as Guarantor,\r\nLGF_Type,\r\nLGF_Amount,\r\nLGF_Level,\r\nCF_Start_Date,\r\nCF_Term,\r\nCF_Frequency,\r\nCF_Description,\r\nCF_Memo as Memo\r\nFROM p_rating_augment_lgf AS pr INNER JOIN p_bond_list_info AS bl\r\nON pr.bond_key=bl.bond_key ) AS result','',1,'','yangxb','2017-08-04 09:42:50','点石债券地方政府资金支持数据查询','','','');
INSERT INTO `t_api` VALUES (10,1,'AvgFixing','1',1,2,1,'select Index_Value,Index_Date,GJK_Code from macro_base_index_values',' GJK_Code in (\'CMB1D00126\' ,\'CMB1D00132\' ,\'CMB1D00129\',\'CMB1D00130\') and Index_Value is not null and Index_Date<=curdate() order by Index_Date desc',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (11,1,'basic_information_of_bond','1',1,2,1,'SELECT\r\n	CASE\r\nWHEN a.Bond_ID IS NOT NULL\r\nAND a.Listed_Market = \'CIB\' THEN\r\n	CONCAT(\r\n		SUBSTRING_INDEX(a.Bond_ID, \'.\', 1),\r\n		\'.IB\'\r\n	)\r\nELSE\r\n	a.Bond_ID\r\nEND AS Bond_ID,\r\n a.Short_Name,\r\n a.Bond_Key,\r\n b.Full_Name,\r\n case\r\n	when \r\n	b.Bond_Type=\'GOV\'\r\n	then\r\n	\'国债\'\r\n	when\r\n	b.Bond_Type=\'CBB\'\r\n	then\r\n	\'央票\'\r\n	when\r\n	b.Bond_Type=\'LGB\'\r\n	then\r\n	\'地方债\'\r\n	when\r\n	b.Bond_Type=\'FIN\' AND b.Bond_Subtype=\'PBB\'\r\n	then\r\n	\'金融债\'\r\n	when\r\n	b.Bond_Type in(\'FIN\',\'GBB\') AND b.Bond_Subtype<>\'PBB\' AND Bond_Subtype<>\'TET\' AND Bond_Subtype<>\'RAB\'\r\n	then\r\n	\'金融机构债\'\r\n	when\r\n	b.Bond_Subtype in(\'CCP\',\'LCP\',\'LSP\',\'CSP\')\r\n	then\r\n	\'短融\'\r\n	when\r\n	b.External_Type=\'MTN\'\r\n	then\r\n	\'中票\'\r\n	when\r\n	b.Ent_Cor=\'ENT\' AND b.External_Type=\'EPB\' AND b.Bond_Subtype IN(\'CEB\',\'LEB\')\r\n	then\r\n	\'企业债\'\r\n	when\r\n	(b.Ent_Cor=\'COP\' AND b.External_Type=\'EPB\' AND b.Bond_Subtype IN(\'CEB\',\'LEB\')) OR (b.Ent_Cor=\'COP\' AND b.External_Type=\'PPN\' AND b.Bond_Subtype=\'PPN\')\r\n	then\r\n	\'公司债\'\r\n	when\r\n	b.Bond_Subtype=\'PPN\' AND b.Ent_Cor IS NULL\r\n	then\r\n	\'PPN\'\r\n	when\r\n	b.Bond_Type=\'ABS\'\r\n	then\r\n	\'资产支持证券\'\r\n	when\r\n	(b.Ent_Cor=\'ENT\' AND b.External_Type=\'EPB\' AND b.Bond_Subtype=\'CCB\') OR (b.External_Type=\'SMN\')\r\n	then\r\n	\'集合债\'\r\n	when\r\n	b.Bond_Type=\'COR\' AND b.Bond_Subtype IN(\'SCV\',\'CVB\')\r\n	then\r\n	\'可转债\'\r\n	when\r\n	b.Bond_Type=\'NCD\'\r\n	then\r\n	\'NCD\'\r\n	when\r\n	b.Bond_Subtype IN(\'TET\',\'RAB\',\'INT\',\'PDB\')\r\n	then\r\n	\'其他\'\r\n	else\r\n	\'\'\r\nend as Bond_Type,\r\ncase\r\n	when \r\n	b.Bond_Type=\'GOV\'\r\n	then\r\n	\'记账式国债\'\r\n	when\r\n	b.Bond_Type=\'CBB\'\r\n	then\r\n	\'央行票据\'\r\n	when\r\n	b.Bond_Type=\'LGB\' and b.Bond_Subtype=\'LLB\'\r\n	then\r\n	\'地方政府自发自偿\'\r\n	when\r\n	b.Bond_Type=\'LGB\' and b.Bond_Subtype=\'TLB\'\r\n	then\r\n	\'财政部代发代偿\'\r\n	when\r\n	Bond_Type=\'FIN\' AND Bond_Subtype=\'PBB\'\r\n	then\r\n	\'政策性银行债券\'\r\n	when \r\n	b.Bond_Subtype=\'PSB\' AND b.External_Type=\'PBB\'\r\n	then\r\n	\'政策性银行次级债券\'\r\n	when \r\n	b.Bond_Subtype=\'CBB\' AND b.External_Type=\'COB\'\r\n	then\r\n	\'商业银行债券\'\r\n	when \r\n	b.Bond_Subtype=\'CSB\' AND b.External_Type=\'COB\'\r\n	then\r\n	\'商业银行次级债券\'\r\n	when \r\n	b.Bond_Subtype=\'CXB\' AND b.External_Type=\'COB\'\r\n	then\r\n	\'商业银行混合资本债券\'\r\n	when \r\n	b.Bond_Subtype=\'NCB\'\r\n	then\r\n	\'非银行金融机构债\'\r\n	when \r\n	b.Bond_Subtype=\'SEB\' AND b.External_Type=\'NCB\'\r\n	then\r\n	\'证券公司债\'\r\n	when \r\n	b.Bond_Subtype=\'SSB\' AND b.External_Type=\'CPB\'\r\n	then\r\n	\'证券公司短期融资券\'\r\n	when \r\n	b.Bond_Subtype=\'SES\' AND b.External_Type=\'NCB\'\r\n	then\r\n	\'证券公司次级债\'\r\n	when \r\n	b.Bond_Subtype=\'HJB\'\r\n	then\r\n	\'汇金债\'\r\n	when\r\n	b.External_Type=\'CPB\' AND b.Bond_Subtype=\'CCP\'\r\n	then\r\n	\'中央企业短期融资券\'\r\n	when\r\n	b.External_Type=\'SCP\' AND b.Bond_Subtype=\'CSP\'\r\n	then\r\n	\'中央企业超短期融资券\'\r\n	when\r\n	b.External_Type=\'CPB\' AND b.Bond_Subtype=\'LCP\'\r\n	then\r\n	\'地方企业短期融资券\'\r\n	when\r\n	b.External_Type=\'SCP\' AND b.Bond_Subtype=\'LSP\'\r\n	then\r\n	\'地方企业超短期融资券\'\r\n	when\r\n	b.External_Type=\'MTN\' and b.Bond_Subtype=\'CMN\'\r\n	then\r\n	\'中央企业中期票据\'\r\n	when\r\n	b.External_Type=\'MTN\' and b.Bond_Subtype=\'LMN\'\r\n	then\r\n	\'地方企业中期票据\'\r\n	when\r\n	b.Ent_Cor=\'ENT\' AND b.External_Type=\'EPB\' and b.Bond_Subtype=\'CEB\'\r\n	then\r\n	\'中央企业债\'\r\n	when\r\n	b.Ent_Cor=\'ENT\' AND b.External_Type=\'EPB\' and b.Bond_Subtype=\'LEB\'\r\n	then\r\n	\'地方企业债\'\r\n	when\r\n	b.Ent_Cor=\'COP\' AND b.External_Type=\'EPB\' AND b.Bond_Subtype IN(\'CEB\',\'LEB\')\r\n	then\r\n	\'公司债\'\r\n	when\r\n	b.Ent_Cor=\'COP\' AND b.External_Type=\'PPN\' AND b.Bond_Subtype=\'PPN\'\r\n	then\r\n	\'非公开公司债\'\r\n	when\r\n	b.Bond_Type=\'ABS\' and b.Bond_Subtype=\'AMP\'\r\n	then\r\n	\'专项资产管理计划\'\r\n	when\r\n	b.Bond_Type=\'ABS\' and b.Bond_Subtype=\'LBS\'\r\n	then\r\n	\'信贷资产证券化信托\'\r\n	when\r\n	b.Bond_Type=\'ABS\' and b.Bond_Subtype=\'CBS\'\r\n	then\r\n	\'个人汽车抵押贷款证券化信托\'\r\n	when\r\n	b.Bond_Type=\'ABS\' and b.Bond_Subtype=\'MBS\'\r\n	then\r\n	\'个人住房抵押贷款证券化信托\'\r\n	when\r\n	b.Ent_Cor=\'ENT\' AND b.External_Type=\'EPB\' AND b.Bond_Subtype=\'CCB\'\r\n	then\r\n	\'集合企业债\'\r\n	when\r\n	b.External_Type=\'SMN\'\r\n	then\r\n	\'集合票据\'\r\n	when\r\n	b.Bond_Type=\'COR\' AND b.Bond_Subtype=\'SCV\'\r\n	then\r\n	\'可分离可转债\'\r\n	when\r\n	b.Bond_Subtype=\'CVB\'\r\n	then\r\n	\'不可分离可转债\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'MCD\'\r\n	then\r\n	\'五大行同业存单\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'SPD\'\r\n	then\r\n	\'政策性银行同业存单\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'SHD\'\r\n	then\r\n	\'股份制银行同业存单\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'CCD\'\r\n	then\r\n	\'城商行同业存单\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'RRD\'\r\n	then\r\n	\'三农机构同业存单\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'RTD\'\r\n	then\r\n	\'村镇银行同业存单\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'FRD\'\r\n	then\r\n	\'外资银行同业存单\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'OTD\'\r\n	then\r\n	\'其他金融机构同业存单\'\r\n	when\r\n	b.Bond_Subtype=\'RAB\'\r\n	then\r\n	\'铁道债\'\r\n	when\r\n	b.Bond_Subtype=\'TET\'\r\n	then\r\n	\'二级资本工具\'\r\n	when\r\n	b.Bond_Subtype=\'INT\'\r\n	then\r\n	\'国际机构债\'\r\n	when\r\n	b.Bond_Subtype=\'PDB\'\r\n	then\r\n	\'熊猫债\'\r\n	else\r\n	\'\'\r\n\r\nend as Bond_SubType,\r\n b.Issuer_Code AS Institution_Code,\r\n c.Full_Name_C AS Institution_Name,\r\n c.Issuer_Type,\r\n c.Province,\r\n c.City,\r\n c.SW_Sector,\r\n c.SW_Subsector,\r\n b.Announce_Date,\r\n b.Issue_Year,\r\n b.Issue_No,\r\n b.Currency,\r\n b.Auction_Date_Start as Auction_Date,\r\n b.Issue_Start_Date,\r\n b.Issue_End_Date,\r\n b.Dist_Date_Start,\r\n b.Dist_Date_End,\r\n CASE\r\nWHEN (\r\n	(\r\n		b.Bond_Type IN (\'GOV\', \'CBB\', \'LGB\')\r\n	)\r\n	OR (\r\n		b.Bond_Type = \'FIN\'\r\n		AND b.Bond_Subtype = \'PBB\'\r\n	)\r\n) THEN\r\n	\'利率债\'\r\nELSE\r\n	\'信用债\'\r\nEND AS bond_attribute,\r\n b.Issue_Reference,\r\n b.Issue_Reference_Desc,\r\n \'\' + b.Planned_Issue_Amount / 10000 AS Planned_Issue_Amount,\r\n \'\' + b.Issue_Amount / 10000 AS Issue_Amount,\r\n \'\' + b.Outstanding_Amount / 10000 AS Outstanding_Amount,\r\n b.Coupon_Type,\r\n b.Compound_Frequency,\r\n b.Coupon_Frequency,\r\n b.Coupon_Rate_Current as Coupon_Rate,\r\n CASE\r\nWHEN b.Coupon_Type = \'FRN\' THEN\r\n	b.Coupon_Rate_Spread\r\nELSE\r\n	NULL\r\nEND AS Coupon_Rate_Spread,\r\n b.Interest_Start_Date,\r\n b.Maturity_Date,\r\n b.Maturity_Term_Y,\r\n CONCAT(\r\n	(\'\' + b.Maturity_Term),\r\n	b.Term_Unit\r\n) AS Maturity_Term,\r\n b.Payment_Date,\r\n b.Issue_Commission_Rate,\r\n b.Redm_Commission_Rate,\r\n \'\' + b.Issue_Price AS Issue_Price,\r\n \'\' + b.Issue_Rate AS Issue_Rate,\r\n b.Interest_Basis,\r\n b.Coupon_Dist,\r\n b.Simple_Compound,\r\n b.Sceniority,\r\n a.Listed_Date,\r\n a.Listed_Market,\r\n a.Delisted_Date,\r\n CASE\r\nWHEN a.Is_Cross_Mkt = \'Y\' THEN\r\n	1\r\nELSE\r\n	0\r\nEND AS Is_Cross_Mkt,\r\n CASE\r\nWHEN b.Is_Municipal = \'Y\' THEN\r\n	1\r\nELSE\r\n	0\r\nEND AS Is_Municipal,\r\n CASE\r\nWHEN c.CBRC_Financing_Platform = \'Y\' THEN\r\n	1\r\nELSE\r\n	0\r\nEND AS CBRC_Financing_Platform,\r\n CASE\r\nWHEN b.Redemption_Str IS NOT NULL THEN\r\n	1\r\nELSE\r\n	0\r\nEND AS Is_Redemption,\r\n CASE\r\nWHEN b.Option_Type IS NOT NULL THEN\r\n	1\r\nELSE\r\n	0\r\nEND AS Is_Option\r\nFROM\r\n	p_bond_list_info AS a\r\nLEFT JOIN bond AS b ON a.Bond_Key = b.Bond_Key\r\nLEFT JOIN institution AS c ON b.Issuer_Code = c.Institution_Code','(\r\n		CASE\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date < b.Maturity_Date\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date >= b.Maturity_Date\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NULL\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		ELSE\r\n			0\r\n		END\r\n	) != 0',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (12,1,'BOND','1',1,2,1,'select [columns] from bond','delflag = 0',1,'LISTED_DATE:number','zz','2016-08-26 09:46:41','TEST','','','');
INSERT INTO `t_api` VALUES (13,1,'BondDealKLine1m','1',1,2,1,'select [columns] from BondDealKLine1m','',1,'Tran_Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (14,1,'BondDealKLine5m','1',1,2,1,'select [columns] from BondDealKLine5m','',1,'Tran_Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (15,1,'BondDealKLine_day','1',1,2,1,'select [columns] from BondDealKLine_day','',1,'Tran_Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (16,1,'BondDealKLine_month','1',1,2,1,'select [columns] from BondDealKLine_month','',1,'Tran_Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (17,1,'BondDealKLine_week','1',1,2,1,'select [columns] from BondDealKLine_week','',1,'Tran_Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (18,1,'BondDealKLine_year','1',1,2,1,'select [columns] from BondDealKLine_year','',1,'Tran_Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (19,1,'Bonddef','1',1,2,1,'select p_bond_list_info.Short_Name,p_bond_list_info.Bond_ID,bond.Bond_Type,bond.Bond_Subtype,bond.External_Type,bond.Ent_Cor,bond.Is_CIB,bond.Issue_Start_Date,bond.Issue_Amount,bond.Compound_Frequency,bond.Coupon_Frequency,bond.Coupon_Rate_Current,bond.Interest_Start_Date,bond.Maturity_Date,bond.Delisted_Date,\r\n  bond.Listed_Date,bond.Issue_No,bond.Maturity_Term_Y,bond.Coupon_Rate_Spread,bond_coupon_rate.Index_Rate,bond.Payment_Date as Bond_Payment_Date,bond.Issue_Commission_Rate,bond.Redm_Commission_Rate,bond.Issue_Price,bond.Issue_Rate,       bond.Option_Type,bond.Redemption_No,bond.Redemption_Str,bond.ISIN,bond.Full_Name,institution.Issuer_Type,institution_info.Institution_Subtype,institution.SW_Sector,institution.SW_Subsector,p_bond_attribute.Attribute,institution.Province,institution.City,p_selective_info.Selective_Content,bond.Planned_Issue_Amount,\r\n  bond.Ann_Status,p_bond_list_info.Listed_Market,institution.Full_Name_C,bond.FRN_Index_ID,bond.Currency,bond.Rating_Current,bond.Issuer_Rating_Current,bond.Coupon_Type,bond.Fixing_Digit,bond.Interest_Basis,\r\n                                                                                                          p_cash_flow.Payment_Date as Cash_Payment_Date,bond_rating_institution.Full_Name_C as bond_rating_institution_Full_Name_C,issuer_rating_institution.Full_Name_C as issuer_rating_institution_Full_Name_C,\r\n                                                                                                          warranter_institution.Full_Name_C as warranter_institution_Full_Name_C from\r\n  (select * from p_bond_list_info where Bond_ID is not null and delflag=0 and (Delisted_Date > curdate() or Delisted_Date is null))p_bond_list_info join\r\n  (select * from bond where delflag=0 and Bond_ID is not null and Bond_Key is not null and First_Issue_Key is null)bond on p_bond_list_info.Bond_Key=bond.Bond_Key join\r\n  (select * from institution where delflag=0 group by Institution_Code Having count(*)=1)institution on bond.Issuer_Code = institution.Institution_Code left join\r\n  (select * from institution_info where delflag=0 group by Institution_Code Having count(*)=1)institution_info on bond.Issuer_Code = institution_info.Institution_Code left join\r\n  (select bond_coupon_rate.Bond_Key,bond_coupon_rate.Index_Rate from (select * from bond_coupon_rate where delflag=0)bond_coupon_rate join (select Bond_Key, Max(Interest_Start_Date_T) as Interest_Start_Date_T from bond_coupon_rate where Interest_Start_Date_T <= curdate() and delflag=0 group by Bond_Key) b on bond_coupon_rate.Bond_key = b.Bond_key where bond_coupon_rate.Interest_Start_Date_T = b.Interest_Start_Date_T)bond_coupon_rate on bond.Bond_Key = bond_coupon_rate.Bond_Key left join\r\n  (select Bond_Key,Attribute from p_bond_attribute where delflag=0 group by Bond_Key,Attribute Having count(*)=1)p_bond_attribute on bond.Bond_Key = p_bond_attribute.Bond_Key left join\r\n  (select Bond_Key,Min(Payment_Date) as Payment_Date from p_cash_flow group by Bond_Key)p_cash_flow on bond.Bond_Key = p_cash_flow.Bond_Key left join\r\n  institution bond_rating_institution on bond.Rating_Institution_Code=bond_rating_institution.institution_code left join\r\n  institution issuer_rating_institution on bond.Issuer_Rating_Institution_Code=issuer_rating_institution.institution_code left join\r\n  institution warranter_institution on bond.Warranter=warranter_institution.institution_code left join\r\n  (SELECT Selective_Code,Selective_Content from p_selective_info GROUP BY Selective_Code)p_selective_info on bond.Yield_Curve_Type=p_selective_info.Selective_Code','',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (20,1,'BondMarketDescription','1',1,2,1,'select [columns] from BondMarketDescription','',1,'modifyTime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (21,1,'BondMarketFinMarLeadIndex','1',1,2,1,'select [columns] from BondMarketFinMarLeadIndex','',1,'Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (22,1,'BondMarketMMIndex','1',1,2,1,'select [columns] from BondMarketMMIndex','',1,'Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (23,1,'BondMarketPriMarIndex','1',1,2,1,'select [columns] from BondMarketPriMarIndex','',1,'Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (24,1,'BondMarketSeting','1',1,2,1,'select [columns] from BondMarketSeting','',1,'ModifyTime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (25,1,'BondMarketThermometer','1',1,2,1,'select [columns] from BondMarketThermometer','',1,'Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (26,1,'bond_additional_query','1,3',1,2,1,'select  \r\n[columns] \r\n\r\nfrom\r\n(\r\nselect \r\n\r\n	a.bond_key as bondKey,\r\n	\r\n	\'保证担保\' as creditENHType,\r\n\r\n	ifnull(c.guarantee_type,\'--\') as creditENHSubtype,\r\n	case \r\n		when \r\n		c.bond_key is not null\r\n		then\r\n		concat(concat(c.guarantor,\'(\'),concat(c.guarantor_type,\')\'))\r\n		else\r\n		\'--\'\r\n	end as abstract,\r\n	case \r\n		when \r\n		c.bond_key is not null\r\n		then\r\n		c.guarantee_description\r\n		else\r\n		\'--\'\r\n	end as detail\r\n\r\nfrom p_bond_list_info AS a inner join p_rating_augment_gua AS c ON a.Bond_Key = c.Bond_Key\r\nunion\r\nselect \r\n\r\n	a.bond_key as bondKey,\r\n\r\n	\'物权担保\' as creditENHType,\r\n\r\n	ifnull(c.sec_type,\'--\') as creditENHSubtype,\r\n	case \r\n		when \r\n		c.bond_key is not null and c.collateral_type-guarantor<>0\r\n		then\r\n		concat(concat(c.collateral_type-guarantor,\'(\'),concat(c.guarantor_type,\')\'))\r\n		else\r\n		\'--\'\r\n	end as abstract,\r\n	case \r\n		when \r\n		c.bond_key is not null\r\n		then\r\n		c.sec_description\r\n		else\r\n		\'--\'\r\n	end as detail\r\n\r\nfrom p_bond_list_info AS a inner join p_rating_augment_sec AS c ON a.Bond_Key = c.Bond_Key\r\nunion\r\nselect \r\n\r\n	a.bond_key as bondKey,\r\n\r\n	\'政府支持\' as creditENHType,\r\n\r\n	ifnull(c.LGF_type,\'--\') as creditENHSubtype,\r\n	case \r\n		when \r\n		c.bond_key is not null\r\n		then\r\n		c.Local_Government\r\n		else\r\n		\'--\'\r\n	end as abstract,\r\n	case \r\n		when \r\n		c.bond_key is not null\r\n		then\r\n		c.LGF_description\r\n		else\r\n		\'--\'\r\n	end as detail\r\n\r\nfrom p_bond_list_info AS a inner join p_rating_augment_lgf AS c ON a.Bond_Key = c.Bond_Key\r\nunion\r\nselect \r\n\r\n	a.bond_key as bondKey,\r\n\r\n	\'流动性支持\' as creditENHType,\r\n\r\n	\'--\' as creditENHSubtype,\r\n	\r\n	\'--\' as abstract,\r\n\r\n	\'--\' as detail\r\n\r\nfrom p_bond_list_info AS a inner join p_rating_augment_liq AS c ON a.Bond_Key = c.Bond_Key) as result','',1,'','yangxb','2017-08-04 13:37:11','增信方式查询','','','');
INSERT INTO `t_api` VALUES (27,1,'bond_baseinfo_Lead_underwriter_group_query','1,3',1,2,1,'select \r\n	[columns] \r\nfrom\r\n(select rs.bond_key as bondKey,ist.Full_Name_C as UWS from \r\n(select bond_key,Underwriter_Code from p_underwriter_info where Underwriter_Type=\'JMU\') as rs\r\ninner join institution ist on rs.Underwriter_Code = ist.Institution_Code) as res  ','',1,'','yangxb','2017-08-04 13:31:59','债券基本信息的主承销团信息查询','','','');
INSERT INTO `t_api` VALUES (28,1,'bond_baseinfo_Lead_underwriter_query','1,3',1,2,1,'\r\nselect \r\n [columns] \r\nfrom\r\n(select rs.bond_key as bondKey,ist.Full_Name_C as leadUW from \r\n(select bond_key,Underwriter_Code from p_underwriter_info where Underwriter_Type in(\'MUN\',\'JMU\')) as rs\r\ninner join institution ist on rs.Underwriter_Code = ist.Institution_Code) as res \r\n	','',1,'','yangxb','2017-08-04 13:31:52','债券基本信息的主承销商信息查询','','','');
INSERT INTO `t_api` VALUES (29,1,'bond_baseinfo_query','1,3',1,2,1,'\r\nselect  \r\n[columns]\r\nfrom \r\n(select \r\nb.bond_key as bondKey,\r\n\r\nb.full_Name as fullName,\r\n\r\nCASE\r\n	WHEN (\r\n		b.Ent_Cor = \'COP\'\r\n		AND b.External_Type = \'EPB\'\r\n		AND b.Bond_Subtype IN (\'CEB\', \'LEB\')\r\n	) THEN\r\n		\'国债\'\r\n	WHEN (\r\n		b.Ent_Cor = \'COP\'\r\n		AND b.External_Type = \'PPN\'\r\n		AND b.Bond_Subtype IN (\'PPN\')\r\n	) THEN\r\n		\'央票\'\r\nEND AS bondType,\r\n CASE\r\n	WHEN (\r\n		b.bond_subtype IN (\'BGB\')\r\n	) THEN\r\n		\'国债\'\r\n	WHEN (\r\n		b.bond_subtype IN (\'SCB\')\r\n	) THEN\r\n		\'央票\'\r\n	WHEN (\r\n		b.bond_subtype IN (\'PBB\', \'PSB\')\r\n	) THEN\r\n		\'金融债\'\r\n	WHEN (\r\n		b.bond_subtype IN (\'TLB\', \'LLB\')\r\n	) THEN\r\n		\'地方债\'\r\n	WHEN (\r\n		b.bond_subtype IN (\'CCP\', \'LCP\', \'SSB\')\r\n	) THEN\r\n		\'短融\'\r\n	WHEN (\r\n		b.bond_subtype IN (\'CSP\', \'LSP\')\r\n	) THEN\r\n		\'短融\'\r\n	WHEN (\r\n		b.bond_subtype IN (\'CMN\', \'LMN\')\r\n	) THEN\r\n		\'中票\'\r\n	WHEN (\r\n		(\r\n			b.bond_subtype IN (\r\n				\'CCB\',\r\n				\'CEB\',\r\n				\'LEB\',\r\n				\'RAB\',\r\n				\'CVB\',\r\n				\'SCV\'\r\n			)\r\n		)\r\n		AND (b.Ent_Cor = \'ENT\')\r\n	) THEN\r\n		\'企业债\'\r\n	WHEN (\r\n		(\r\n			b.bond_subtype IN (\r\n				\'CCB\',\r\n				\'CEB\',\r\n				\'LEB\',\r\n				\'RAB\',\r\n				\'CVB\',\r\n				\'SCV\'\r\n			)\r\n		)\r\n		AND (b.Ent_Cor = \'COP\')\r\n	) THEN\r\n		\'公司债\'\r\n	WHEN (\r\n		(\r\n			b.bond_subtype IN (\'PPN\')\r\n		)\r\n		AND (b.Ent_Cor = \'COP\')\r\n	) THEN\r\n		\'公司债\'\r\n	WHEN (\r\n		(\r\n			b.bond_subtype IN (\'PPN\')\r\n		)\r\n		AND (b.Ent_Cor IS NULL)\r\n	) THEN\r\n		\'PPN\'\r\n	WHEN (\r\n		b.bond_subtype IN (\r\n			\'SPD\',\r\n			\'MCD\',\r\n			\'SHD\',\r\n			\'CCD\',\r\n			\'RTD\',\r\n			\'RRD\',\r\n			\'FRD\',\r\n			\'OTD\'\r\n		)\r\n	) THEN\r\n		\'NCD\'\r\n	WHEN (\r\n		b.bond_subtype IN (\'AMP\', \'CBS\', \'LBS\', \'MBS\')\r\n	) THEN\r\n		\'ABS\'\r\n	ELSE\r\n		\'其他\'\r\nEND AS bond_subtype,\r\ncase\r\n	when\r\n	Is_Municipal=\'Y\'\r\n	then\r\n	\'是\'\r\n	else\r\n	\'否\'\r\nend as isMunicipal,\r\ncase\r\n	when\r\n	b.option_type=\'ETS\'\r\n	then\r\n	b.Maturity_Term_Y+\'Y+N\'\r\n	else\r\n	case\r\n		when\r\n		pe.cnt <>0\r\n		then\r\n		CONCAT(CONCAT(SUBSTRING_INDEX(b.Term_structure,\'+\',1),\'Y+\'),CONCAT(SUBSTRING_INDEX(b.Term_structure,\'+\',-1),\'Y\'))\r\n		else\r\n		concat(cast(b.Maturity_Term as decimal(10,0)),b.Term_Unit)\r\n	end\r\nend as maturityTerm,\r\nconcat(cast(b.Issue_Amount/10000 as decimal(10,2)),\'亿元\') as issueAmount,\r\ncase\r\n	when\r\n	b.Option_Type=\'ASS\'\r\n	then\r\n	\'投资者定向转让选择权\'\r\n	when\r\n	b.Option_Type=\'CAL\'\r\n	then\r\n	\'赎回权\'\r\n	when\r\n	b.Option_Type=\'CNP\'\r\n	then\r\n	\'回售权和赎回权\'\r\n	when\r\n	b.Option_Type=\'CNV\'\r\n	then\r\n	\'单向换券权\'\r\n	when\r\n	b.Option_Type=\'DCN\'\r\n	then\r\n	\'互换券权\'\r\n	when\r\n	b.Option_Type=\'ETS\'\r\n	then\r\n	\'可续期债券\'\r\n	when\r\n	b.Option_Type=\'PUT\'\r\n	then\r\n	\'回售权\'\r\n	else\r\n	\'普通债券\'\r\nend as optType,\r\nconcat(cast(b.Outstanding_Amount/10000 as decimal(10,2)),\'亿元\') as outstanding,\r\ncase\r\n	when \r\n	b.Coupon_Type=\'DSC\'\r\n	then\r\n	\'贴现\'\r\n	when \r\n	b.Coupon_Type=\'PAM\'\r\n	then\r\n	\'利随本清\'\r\n	when \r\n	b.Coupon_Type=\'FRB\'\r\n	then\r\n	\'固定利率\'\r\n	when \r\n	b.Coupon_Type=\'FRN\'\r\n	then\r\n	case\r\n		when\r\n		Payment_Date2<CAST(DATE_FORMAT(NOW(),\'%Y%m%d\') AS  DECIMAL)<Payment_Date1\r\n		then\r\n		\'固定利率\'\r\n		else\r\n		\'浮动利率\'\r\n	end\r\n	else\r\n	\'--\'\r\nend as rateType,\r\ncase\r\n	when\r\n	b.Redemption_No is not null\r\n	then\r\n	\'提前还本\'\r\n	else\r\n	\'到期一次还本\'\r\nend as couponType,\r\ncase \r\n	when\r\n	b.FRN_INDEX_ID is null\r\n	then\r\n	\'--\'\r\n	else\r\n	concat(concat(b.FRN_INDEX_ID,\' \'),concat(ifnull(b.Fixing_MA_Days,0),\'D\'))\r\nend as baseRateName,\r\nconcat(cast(b.Coupon_Rate_Current as decimal(10,2)),\'%\') as Coupon_Rate_Current,\r\nconcat(cast(b.Issue_Rate as decimal(10,2)),\'%\') as issueYield,\r\ncase\r\n	when\r\n	b.FRN_INDEX_ID is null\r\n	then\r\n	\'--\'\r\n	else\r\n	case\r\n		when\r\n		rt.rate is null\r\n		then\r\n		\'--\'\r\n		when\r\n		rt.rate>0\r\n		then\r\n		concat(cast(rt.rate as decimal(10,2)),\'%\')\r\n		when\r\n		rt.rate=0\r\n		then\r\n		concat(cast(b.Issue_Rate as decimal(10,2)),\'%\')\r\n		else\r\n		\'--\'\r\n	end\r\nend as baseRate,\r\ncase\r\n	when\r\n	b.Compound_Frequency=\'A\'\r\n	then\r\n	\'年度\'\r\n	when\r\n	b.Compound_Frequency=\'M\'\r\n	then\r\n	\'月度\'\r\n	when\r\n	b.Compound_Frequency=\'Q\'\r\n	then\r\n	\'季度\'\r\n	when\r\n	b.Compound_Frequency=\'S\'\r\n	then\r\n	\'半年度\'\r\n	else\r\n	\'--\'\r\nend as couponFreq,\r\nconcat(b.Issue_Price,\'元\') as issuePrice,\r\ncase\r\n	when\r\n	b.Compound_Frequency=\'A\'\r\n	then\r\n	\'年度\'\r\n	when\r\n	b.Compound_Frequency=\'M\'\r\n	then\r\n	\'月度\'\r\n	when\r\n	b.Compound_Frequency=\'Q\'\r\n	then\r\n	\'季度\'\r\n	when\r\n	b.Compound_Frequency=\'S\'\r\n	then\r\n	\'半年度\'\r\n	else\r\n	\'--\'\r\nend as compFreq\r\n\r\nfrom\r\n\r\nbond as b inner join (select bond_key,(Coupon_Rate_Current-Coupon_Rate_Spread) as rate from bond ) as rt on b.bond_key =  rt.bond_key left join \r\n(select bond_key,count(*) as cnt from p_option_exercise_info where Planned_Exercise_Date>cast((DATE_FORMAT(NOW(),\'%Y%m%d%H\'))as decimal(8,0)) group by bond_key) as pe  on b.bond_key = pe.bond_key left join \r\n(select bond_key,Payment_Date as Payment_Date1 from p_cash_flow order by Payment_Date desc limit 0,1) pd1 on b.bond_key = pd1.bond_key left join\r\n(select bond_key,Payment_Date as Payment_Date2 from p_cash_flow order by Payment_Date desc limit 1,1) pd2 on b.bond_key = pd2.bond_key) as result','',1,'','yangxb','2017-08-04 13:31:46','债券基本信息查询','','','');
INSERT INTO `t_api` VALUES (30,1,'bond_copy','1',1,2,1,'select [columns] from bond_copy','',1,'Maturity_Date:number','sky','2016-09-19 14:48:48','','','','');
INSERT INTO `t_api` VALUES (31,1,'bond_coupon_rate','1',1,2,1,'select [columns] from bond_coupon_rate','',1,'','sky','2016-09-19 14:50:26','','','','');
INSERT INTO `t_api` VALUES (32,1,'bond_deal_k_line_day','1',1,2,1,'select [columns] from bond_deal_k_line_day','',1,'deal_time:number','sky','2016-09-19 14:51:21','','','','');
INSERT INTO `t_api` VALUES (33,1,'bond_debt_rating_changes_query','1,3',1,2,1,'select [columns] FROM\r\n(\r\nSELECT \r\np.bond_key AS bond_key,\r\np.Rating_Institution_Code AS Rating_Institution_Code,\r\nist.Full_Name_C AS Rating_Institution_Name,\r\np.cRating_Date AS Rating_Date,\r\np.cr AS Bond_Rating,\r\nCASE\r\n	WHEN\r\n	p.lrGrade=0\r\n	THEN\r\n	\'首次\'\r\n	ELSE\r\n	CASE\r\n		WHEN \r\n		p.crGrade=p.lrGrade\r\n		THEN\r\n		\'维持\'\r\n		WHEN \r\n		p.crGrade>p.lrGrade\r\n		THEN\r\n		\'调高\'\r\n		ELSE\r\n		\'下调\'\r\n	END\r\nEND AS ratingChg\r\n\r\nFROM \r\n(SELECT * FROM \r\n\r\n(SELECT Rating_Institution_Code,ra.bond_key,\r\n\r\nra.cRating_Date AS cRating_Date,\r\n\r\n(SELECT \r\nCASE\r\n	WHEN\r\n	Bond_Rating=\'AAA+\'\r\n	THEN\r\n	93\r\n	WHEN\r\n	Bond_Rating=\'AAA\'\r\n	THEN\r\n	90\r\n	WHEN\r\n	Bond_Rating=\'AAA-\'\r\n	THEN\r\n	87\r\n	WHEN\r\n	Bond_Rating=\'AA+\'\r\n	THEN\r\n	83\r\n	WHEN\r\n	Bond_Rating=\'AA\'\r\n	THEN\r\n	80\r\n	WHEN\r\n	Bond_Rating=\'AA-\'\r\n	THEN\r\n	77\r\n	WHEN\r\n	Bond_Rating=\'A+\'\r\n	THEN\r\n	73\r\n	WHEN\r\n	Bond_Rating=\'A\'\r\n	THEN\r\n	70\r\n	WHEN\r\n	Bond_Rating=\'A-\'\r\n	THEN\r\n	67\r\n	WHEN\r\n	Bond_Rating=\'BBB+\'\r\n	THEN\r\n	63\r\n	WHEN\r\n	Bond_Rating=\'BBB\'\r\n	THEN\r\n	60\r\n	WHEN\r\n	Bond_Rating=\'BBB-\'\r\n	THEN\r\n	57\r\n	WHEN\r\n	Bond_Rating=\'BB+\'\r\n	THEN\r\n	53\r\n	WHEN\r\n	Bond_Rating=\'BB\'\r\n	THEN\r\n	50\r\n	WHEN\r\n	Bond_Rating=\'BB-\'\r\n	THEN\r\n	47\r\n	WHEN\r\n	Bond_Rating=\'B+\'\r\n	THEN\r\n	43\r\n	WHEN\r\n	Bond_Rating=\'B\'\r\n	THEN\r\n	40\r\n	WHEN\r\n	Bond_Rating=\'B-\'\r\n	THEN\r\n	37\r\n	WHEN\r\n	Bond_Rating=\'CCC+\'\r\n	THEN\r\n	33\r\n	WHEN\r\n	Bond_Rating=\'CCC\'\r\n	THEN\r\n	30\r\n	WHEN\r\n	Bond_Rating=\'CCC-\'\r\n	THEN\r\n	27\r\n	WHEN\r\n	Bond_Rating=\'CC+\'\r\n	THEN\r\n	23\r\n	WHEN\r\n	Bond_Rating=\'CC\'\r\n	THEN\r\n	20\r\n	WHEN\r\n	Bond_Rating=\'CC-\'\r\n	THEN\r\n	17\r\n	WHEN\r\n	Bond_Rating=\'C+\'\r\n	THEN\r\n	13\r\n	WHEN\r\n	Bond_Rating=\'C\'\r\n	THEN\r\n	10\r\n	WHEN\r\n	Bond_Rating=\'C-\'\r\n	THEN\r\n	7\r\n	WHEN\r\n	Bond_Rating=\'D\'\r\n	THEN\r\n	0\r\n	ELSE\r\n	0\r\nEND AS crateGrade \r\nFROM p_bond_rating WHERE bond_key = ra.bond_key AND Rating_Date=cRating_Date LIMIT 0,1  ) AS crGrade,\r\n(SELECT Bond_Rating FROM p_bond_rating WHERE   bond_key = ra.bond_key AND Rating_Date= cRating_Date LIMIT 0,1) AS cr,\r\nra.lRating_Date AS lRating_Date,\r\n\r\n(SELECT \r\nCASE\r\n	WHEN\r\n	Bond_Rating=\'AAA+\'\r\n	THEN\r\n	93\r\n	WHEN\r\n	Bond_Rating=\'AAA\'\r\n	THEN\r\n	90\r\n	WHEN\r\n	Bond_Rating=\'AAA-\'\r\n	THEN\r\n	87\r\n	WHEN\r\n	Bond_Rating=\'AA+\'\r\n	THEN\r\n	83\r\n	WHEN\r\n	Bond_Rating=\'AA\'\r\n	THEN\r\n	80\r\n	WHEN\r\n	Bond_Rating=\'AA-\'\r\n	THEN\r\n	77\r\n	WHEN\r\n	Bond_Rating=\'A+\'\r\n	THEN\r\n	73\r\n	WHEN\r\n	Bond_Rating=\'A\'\r\n	THEN\r\n	70\r\n	WHEN\r\n	Bond_Rating=\'A-\'\r\n	THEN\r\n	67\r\n	WHEN\r\n	Bond_Rating=\'BBB+\'\r\n	THEN\r\n	63\r\n	WHEN\r\n	Bond_Rating=\'BBB\'\r\n	THEN\r\n	60\r\n	WHEN\r\n	Bond_Rating=\'BBB-\'\r\n	THEN\r\n	57\r\n	WHEN\r\n	Bond_Rating=\'BB+\'\r\n	THEN\r\n	53\r\n	WHEN\r\n	Bond_Rating=\'BB\'\r\n	THEN\r\n	50\r\n	WHEN\r\n	Bond_Rating=\'BB-\'\r\n	THEN\r\n	47\r\n	WHEN\r\n	Bond_Rating=\'B+\'\r\n	THEN\r\n	43\r\n	WHEN\r\n	Bond_Rating=\'B\'\r\n	THEN\r\n	40\r\n	WHEN\r\n	Bond_Rating=\'B-\'\r\n	THEN\r\n	37\r\n	WHEN\r\n	Bond_Rating=\'CCC+\'\r\n	THEN\r\n	33\r\n	WHEN\r\n	Bond_Rating=\'CCC\'\r\n	THEN\r\n	30\r\n	WHEN\r\n	Bond_Rating=\'CCC-\'\r\n	THEN\r\n	27\r\n	WHEN\r\n	Bond_Rating=\'CC+\'\r\n	THEN\r\n	23\r\n	WHEN\r\n	Bond_Rating=\'CC\'\r\n	THEN\r\n	20\r\n	WHEN\r\n	Bond_Rating=\'CC-\'\r\n	THEN\r\n	17\r\n	WHEN\r\n	Bond_Rating=\'C+\'\r\n	THEN\r\n	13\r\n	WHEN\r\n	Bond_Rating=\'C\'\r\n	THEN\r\n	10\r\n	WHEN\r\n	Bond_Rating=\'C-\'\r\n	THEN\r\n	7\r\n	WHEN\r\n	Bond_Rating=\'D\'\r\n	THEN\r\n	0\r\n	ELSE\r\n	0\r\nEND AS lrateGrade \r\nFROM p_bond_rating WHERE   bond_key = ra.bond_key AND Rating_Date= lRating_Date LIMIT 0,1) AS lrGrade\r\n FROM \r\n(\r\nSELECT \r\n Rating_Institution_Code,bond_key,cRating_Date,MAX(lRating_Date) AS lRating_Date\r\nFROM (\r\nSELECT  Rating_Institution_Code,c.bond_key AS bond_key, cRating_Date,lRating_Date \r\nFROM \r\n(SELECT Rating_Institution_Code,bond_key, Rating_Date AS cRating_Date FROM p_bond_rating GROUP BY  bond_key, Rating_Date) AS c\r\nINNER JOIN \r\n\r\n(SELECT bond_key, Rating_Date AS lRating_Date FROM p_bond_rating GROUP BY  bond_key, Rating_Date)\r\n AS l\r\n\r\nON c.bond_key=l.bond_key WHERE  l.lRating_Date < c.cRating_Date  ) AS result \r\nGROUP BY Rating_Institution_Code,bond_key,cRating_Date) AS ra\r\n\r\nUNION\r\n\r\nSELECT \r\n\r\n(SELECT Rating_Institution_Code FROM p_bond_rating WHERE bond_key = a.bond_key AND Rating_Date= a.Rating_Date LIMIT 0,1) AS Rating_Institution_Code,\r\nbond_key,\r\nRating_Date AS Rating_Date,\r\n0 AS crGrade,\r\n(SELECT Bond_Rating FROM p_bond_rating WHERE bond_key = a.bond_key AND Rating_Date= a.Rating_Date LIMIT 0,1) AS cr,\r\n\'\' AS lRating_Date,\r\n0 AS lrGrade\r\nFROM \r\n(\r\nSELECT bond_key,MIN(Rating_Date) AS Rating_Date\r\n FROM p_bond_rating GROUP BY bond_key) AS a) AS result) AS p \r\nINNER JOIN institution AS ist ON p.Rating_Institution_Code= ist.Institution_Code ) AS result','',1,'','yangxb','2017-07-21 16:53:49','债券债项评级变动查询','','','');
INSERT INTO `t_api` VALUES (34,1,'bond_exercise_query','1,3',1,2,1,'select \r\n[columns] from \r\n(\r\nselect \r\nb.bond_key as bond_key ,\r\nb.maturity_date as maturityDate,\r\npo.start_app_date as regdStartDate,\r\npo.end_app_date as regdEndDate,\r\nifnull(po.Option_Exercise_Date,po.Planned_Exercise_Date) as optExerDate,\r\npo.Exercise_price as strikePrice,\r\nifnull(po.Exercise_Settlement,\'-- \') as optExerAmount\r\n\r\nfrom \r\n\r\nbond as  b inner join p_option_exercise_info as po on b.bond_key = po.bond_key \r\n\r\nwhere po.Planned_Exercise_Date >= cast((DATE_FORMAT(NOW(),\'%Y%m%d\'))as decimal(8,0))) as result \r\n	','',1,'','yangxb','2017-07-24 17:10:27','债券行权查询','','','');
INSERT INTO `t_api` VALUES (35,1,'bond_fundamental_info','1',1,2,1,'select [columns] from bond_fundamental_info','',1,'Maturity_Date:number','sky','2016-09-19 14:52:16','','','','');
INSERT INTO `t_api` VALUES (36,1,'bond_fundamental_info_copy','1',1,2,1,'select [columns] from bond_fundamental_info_copy','',1,'Maturity_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (37,1,'bond_fundamental_info_files','1',1,2,1,'select [columns] from bond_fundamental_info_files','',1,'create_date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (38,1,'bond_fundamental_info_Mkt9','1',1,2,1,'select [columns] from bond_fundamental_info_Mkt9','',1,'Maturity_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (39,1,'bond_fundamental_info_Mkt9_tmp','1',1,2,1,'select [columns] from bond_fundamental_info_Mkt9_tmp','',1,'Maturity_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (40,1,'bond_homepage_baseinfo_bondrating_query','1,3',1,2,1,'SELECT p.bond_key as bondKey,\r\n(SELECT Bond_Rating FROM p_bond_rating WHERE bond_key= p.bond_key AND Rating_Date=p.Rating_Date limit 0,1) AS bondRating\r\nFROM \r\n(SELECT bond_key,MAX(Rating_Date) AS Rating_Date FROM p_bond_rating GROUP BY bond_key) AS p','',1,'','yangxb','2017-08-04 11:40:49','债券首页基本资料（债项评级）查询','','','');
INSERT INTO `t_api` VALUES (41,1,'bond_homepage_baseinfo_bond_query','1,3',1,2,1,'SELECT [columns] FROM \r\n(SELECT b.bond_key as bondKey,b.Short_Name as shortName,\r\nCASE\r\n	WHEN\r\n	bl.bond_id IS NOT NULL AND bl.Listed_Market=\'CIB\'\r\n	THEN\r\n	CONCAT(SUBSTRING_INDEX(bl.bond_id,\'.\',1),\'.IB\')\r\n	ELSE\r\n	bl.bond_id\r\nEND AS bondID,b.Issuer_Code,b.Coupon_Rate_Current as couponRate FROM bond AS b INNER JOIN p_bond_list_info AS bl ON b.bond_key = bl.bond_key) AS reault','',1,'','yangxb','2017-08-04 11:40:35','债券首页基本资料（债券简称、债券代码、票面利率）查询','','','');
INSERT INTO `t_api` VALUES (42,1,'bond_homepage_baseinfo_issuer_query','1,3',1,2,1,'SELECT institution_code,issuer_name as issuerName FROM p_issuer_info','',1,'','yangxb','2017-08-04 11:40:41','债券首页基本资料（发行人）查询','','','');
INSERT INTO `t_api` VALUES (43,1,'bond_homepage_baseinfo_rate_query','1,3',1,2,1,'SELECT p.Institution_Code,\r\n(SELECT Rate FROM p_institution_rating WHERE Institution_Code= p.Institution_Code AND Rating_Date=p.Rating_Date limit 0,1) AS issuerRating\r\nFROM \r\n(SELECT Institution_Code,MAX(Rating_Date) AS Rating_Date FROM p_institution_rating GROUP BY Institution_Code) AS p','',1,'','yangxb','2017-08-04 11:40:57','债券首页基本资料（主体评级）查询','','','');
INSERT INTO `t_api` VALUES (44,1,'bond_homepage_csi_yueld_query','1,3',1,2,1,'select [columns] from (\r\n	SELECT bond_key as bondKey, Yield_To_Maturity as evalCSI FROM  csi_bond_valuation WHERE DATE= (SELECT MAX(DATE) AS DATE FROM  csi_bond_valuation)) as result','',1,'','yangxb','2017-08-04 11:45:52','债券流通债券表（中证）查询','','','');
INSERT INTO `t_api` VALUES (45,1,'bond_inssuer_explanation_in_brackets_query','1,3',1,2,1,'select [columns] from (select Selective_Code,Selective_Content,Group_Name from p_selective_info) as result','Group_Name=\'Stakeholder_Type\'',1,'','yangxb','2017-07-25 17:27:20','债券控股括号内解释中文显示','','','');
INSERT INTO `t_api` VALUES (46,1,'bond_inssuer_info_query','1,3',1,2,1,'select \r\n	[columns] \r\n	from\r\n(\r\nselect\r\ninstitution_code as issuerCode,\r\nissuer_name as issuerName,\r\ncase\r\n	when\r\n	issuer_type=\'FICP\'\r\n	then\r\n	\'外资企业\'\r\n	when\r\n	issuer_type=\'HMTC \'\r\n	then\r\n	\'港澳台资企业\'\r\n	when\r\n	issuer_type=\'PVCP\'\r\n	then\r\n	\'民营企业\'\r\n	when\r\n	issuer_type=\'SFJV\'\r\n	then\r\n	\'中外合资企业\'\r\n	when\r\n	issuer_type=\'SHCP\'\r\n	then\r\n	\'国有控股\'\r\n	when\r\n	issuer_type=\'SHCP;FICP \'\r\n	then\r\n	\'国有控股,外资企业\'\r\n	when\r\n	issuer_type=\'SHCP;HMTC\'\r\n	then\r\n	\'国有控股,港澳台资企业\'\r\n	when\r\n	issuer_type=\'SHCP;SFJV\'\r\n	then\r\n	\'国有控股,中外合资企业\'\r\n	when\r\n	issuer_type=\'SICP\'\r\n	then\r\n	\'国有参股企业\'\r\n	when\r\n	issuer_type=\'SOCP \'\r\n	then\r\n	\'国有独资\'\r\n	when\r\n	issuer_type=\'SOEP \'\r\n	then\r\n	\'国有企业\'\r\n	else\r\n	\'--\'\r\nend as 	issuerType,\r\ncase\r\n	when\r\n	Org_Type=\'GPOC\'\r\n	then\r\n	\'集体所有制企业\'\r\n	when\r\n	Org_Type=\'LTCO \'\r\n	then\r\n	\'有限责任公司\'\r\n	when\r\n	Org_Type=\'PPOC\'\r\n	then\r\n	\'全民所有制企业\'\r\n	when\r\n	Org_Type=\'STCO\'\r\n	then\r\n	\'股份有限公司\'\r\n	when\r\n	Org_Type=\'JTVC \'\r\n	then\r\n	\'联营企业\'\r\n	else\r\n	\'--\'\r\nend as orgType,\r\nsw_sector as swSector,\r\nsw_subsector as swSubsector,\r\nprovince as Province,\r\ncity as city,\r\nstockholder_name as stkholder,\r\nstockholder_type,\r\nstockholding_percentage as stkholdingPct,	\r\nconcat(concat(cast(regd_capital/100000000 as decimal(10,2)),\'亿\'),regd_capital_currency) as regdCapital, \r\nactual_controller_name as actualCtrl,\r\nactual_controller_type,\r\nbusiness_scope as businessScope\r\nfrom p_issuer_info) as result','',1,'','yangxb','2017-08-04 13:57:30','债券发行人信息查询','','','');
INSERT INTO `t_api` VALUES (47,1,'bond_Interest_payment_query','1,3',1,2,1,'select [columns] from (\r\nSELECT  \r\nrs.bond_key,\r\nrs.interest,\r\nrs.principal,\r\nrs.payment_date,\r\nrs.issue_rate,\r\n\r\n\r\n(SELECT DATE_FORMAT(payment_date,\'%Y-%m-%d\') AS payment_date  FROM p_cash_flow  WHERE id= CONCAT(CONCAT(rs.bond_key,\'.\'),nob+1) AND bond_key=rs.bond_key) AS nextPaymentDate,\r\n\r\n(SELECT coupon_rate_current FROM p_cash_flow  WHERE id=  CONCAT(CONCAT(rs.bond_key,\'.\'),nob+1) AND bond_key=rs.bond_key) AS nextCouponRate,\r\n\r\n(SELECT principal FROM p_cash_flow WHERE id=  CONCAT(CONCAT(rs.bond_key,\'.\'),nob+1) AND bond_key=rs.bond_key) AS nextPayment\r\n\r\nFROM \r\n(\r\nSELECT p.bond_key,p.id,p.interest,p.principal,DATE_FORMAT(p.payment_date,\'%Y-%m-%d\') AS payment_date ,\r\nb.issue_rate,SUBSTRING_INDEX(p.id,\'.\',-1) AS nob FROM p_cash_flow AS p INNER JOIN bond AS b ON b.bond_key=p.bond_key \r\nORDER BY payment_date ) AS rs ) as result ','',1,'','yangxb','2017-07-25 14:32:16','债券付息、到期兑付查询','','','');
INSERT INTO `t_api` VALUES (48,1,'bond_k_line_day','1',1,2,1,'select [columns] from bond_k_line_day','',1,'create_time:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (49,1,'bond_k_line_day_oversea','1',1,2,1,'select [columns] from bond_k_line_day_oversea','',1,'create_time:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (50,1,'bond_listed_date_cdc','1',1,2,1,'select [columns] from bond_listed_date_cdc','',1,'Listed_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (51,1,'bond_listed_market_query','1,3',1,2,1,'select \r\n[columns] \r\nFROM \r\n(SELECT \r\nb.bond_key AS bondKey,\r\nCASE\r\n	WHEN\r\n	bl.bond_id IS NOT NULL AND bl.Listed_Market=\'CIB\'\r\n	THEN\r\n	CONCAT(SUBSTRING_INDEX(bl.bond_id,\'.\',1),\'.IB\')\r\n	ELSE\r\n	bl.bond_id\r\nEND AS bondID,\r\nbl.short_name AS shortName,\r\nCASE\r\n	WHEN\r\n	bl.Listed_Market=\'CIB\'\r\n	THEN\r\n	\'银行间债券市场\'\r\n	WHEN\r\n	bl.Listed_Market=\'SSE\'\r\n	THEN\r\n	\'上海证券交易所\'\r\n	WHEN\r\n	bl.Listed_Market=\'SZE\'\r\n	THEN\r\n	\'深圳证券交易所\'\r\n	ELSE\r\n	\'\'\r\nEND AS listedMkt,IFNULL(pc.conversion_rate,\'--\') AS pledgeRatio\r\n\r\n\r\nFROM bond AS b INNER JOIN p_bond_list_info AS bl ON b.bond_key = bl.bond_key \r\nLEFT JOIN p_conversion_factor AS pc ON b.bond_id=pc.bond_id\r\nWHERE pc.conversion_start_date <= CAST((DATE_FORMAT(NOW(),\'%Y%m%d\'))AS DECIMAL(8,0)) AND pc.conversion_end_date >=CAST((DATE_FORMAT(NOW(),\'%Y%m%d\'))AS DECIMAL(8,0))) AS result ','',1,'','yangxb','2017-08-04 13:41:30','债券流通市场查询','','','');
INSERT INTO `t_api` VALUES (52,1,'BOND_LIST_INFO','1',1,2,1,'select [columns] from p_bond_list_info','delflag = 0 AND Bond_ID IS NOT NULL',1,'LISTED_DATE:number','sky','2016-08-26 15:00:18','Bond','','','');
INSERT INTO `t_api` VALUES (53,1,'bond_negotiable_bondinfo_query','1,3',1,2,1,'select  \r\n[columns] \r\nfrom \r\n(\r\nselect \r\nbond_key, \r\nrating_current,\r\nInterest_Start_Date,\r\nCoupon_Rate_Current,\r\nOutstanding_Amount/10000 as Outstanding_Amount,\r\ncase\r\n	when\r\n	Rating_Augment is not null\r\n	then\r\n	\'有担保\'\r\n	else\r\n	\'无担保\'\r\nend as Rating_Augment,\r\n CASE\r\n	WHEN (\r\n		Ent_Cor = \'COP\'\r\n		AND External_Type = \'EPB\'\r\n		AND Bond_Subtype IN (\'CEB\', \'LEB\')\r\n	) THEN\r\n		\'国债\'\r\n	WHEN (\r\n		Ent_Cor = \'COP\'\r\n		AND External_Type = \'PPN\'\r\n		AND Bond_Subtype IN (\'PPN\')\r\n	) THEN\r\n		\'央票\'\r\nEND AS corporateBondType,\r\n CASE\r\n	WHEN (\r\n		bond_subtype IN (\'BGB\')\r\n	) THEN\r\n		\'国债\'\r\n	WHEN (\r\n		bond_subtype IN (\'SCB\')\r\n	) THEN\r\n		\'央票\'\r\n	WHEN (\r\n		bond_subtype IN (\'PBB\', \'PSB\')\r\n	) THEN\r\n		\'金融债\'\r\n	WHEN (\r\n		bond_subtype IN (\'TLB\', \'LLB\')\r\n	) THEN\r\n		\'地方债\'\r\n	WHEN (\r\n		bond_subtype IN (\'CCP\', \'LCP\', \'SSB\')\r\n	) THEN\r\n		\'短融\'\r\n	WHEN (\r\n		bond_subtype IN (\'CSP\', \'LSP\')\r\n	) THEN\r\n		\'短融\'\r\n	WHEN (\r\n		bond_subtype IN (\'CMN\', \'LMN\')\r\n	) THEN\r\n		\'中票\'\r\n	WHEN (\r\n		(\r\n			bond_subtype IN (\r\n				\'CCB\',\r\n				\'CEB\',\r\n				\'LEB\',\r\n				\'RAB\',\r\n				\'CVB\',\r\n				\'SCV\'\r\n			)\r\n		)\r\n		AND (Ent_Cor = \'ENT\')\r\n	) THEN\r\n		\'企业债\'\r\n	WHEN (\r\n		(\r\n			bond_subtype IN (\r\n				\'CCB\',\r\n				\'CEB\',\r\n				\'LEB\',\r\n				\'RAB\',\r\n				\'CVB\',\r\n				\'SCV\'\r\n			)\r\n		)\r\n		AND (Ent_Cor = \'COP\')\r\n	) THEN\r\n		\'公司债\'\r\n	WHEN (\r\n		(\r\n			bond_subtype IN (\'PPN\')\r\n		)\r\n		AND (Ent_Cor = \'COP\')\r\n	) THEN\r\n		\'公司债\'\r\n	WHEN (\r\n		(\r\n			bond_subtype IN (\'PPN\')\r\n		)\r\n		AND (Ent_Cor IS NULL)\r\n	) THEN\r\n		\'PPN\'\r\n	WHEN (\r\n		bond_subtype IN (\r\n			\'SPD\',\r\n			\'MCD\',\r\n			\'SHD\',\r\n			\'CCD\',\r\n			\'RTD\',\r\n			\'RRD\',\r\n			\'FRD\',\r\n			\'OTD\'\r\n		)\r\n	) THEN\r\n		\'NCD\'\r\n	WHEN (\r\n		bond_subtype IN (\'AMP\', \'CBS\', \'LBS\', \'MBS\')\r\n	) THEN\r\n		\'ABS\'\r\n	ELSE\r\n		\'其他\'\r\nEND AS qbBondType\r\nfrom  bond ) as result','',1,'','yangxb','2017-07-18 10:05:55','债券流通债券表（债项、起息日、 票面利率 、债券余额（亿）、 担保情况、债券类型）查询','','','');
INSERT INTO `t_api` VALUES (54,1,'bond_negotiable_table_query','1,3',1,2,1,'select\r\n	[columns]\r\nfrom\r\n(\r\nselect\r\nrs.issuer_code as issuer_code,\r\ncase\r\n	when\r\n	bl.bond_id is not null and bl.Listed_Market=\'CIB\'\r\n	then\r\n	concat(substring_index(bl.bond_id,\'.\',1),\'.IB\')\r\n	else\r\n	bl.bond_id\r\nend as bond_id,\r\n\r\nbl.short_name,\r\n\r\ncase\r\n	when\r\n	bl.Listed_Market=\'CIB\'\r\n	then\r\n	\'银行间债券市场\'\r\n	when\r\n	bl.Listed_Market=\'SSE\'\r\n	then\r\n	\'上海证券交易所\'\r\n	when\r\n	bl.Listed_Market=\'SZE\'\r\n	then\r\n	\'深圳证券交易所\'\r\n	else\r\n	\'\'\r\nend as Listed_Market\r\nfrom  bond as rs\r\ninner join p_bond_list_info as bl on rs.bond_key = bl.bond_key and rs.Outstanding_Amount>0) as result','',1,'','yangxb','2017-07-18 09:51:00','债券流通债券表（代码、简称、流通市场）查询','','','');
INSERT INTO `t_api` VALUES (55,1,'bond_negotiable_val_yield_query','1,3',1,2,1,'select [columns] from (select distinct bond_key,val_yield from cdc_bond_valuation where valuate_date=(select max(valuate_date) from cdc_bond_valuation) and  credibility=\'推荐\' ) as result','',1,'','yangxb','2017-07-25 17:47:03','债券流通债券表（中债）查询','','','');
INSERT INTO `t_api` VALUES (56,1,'bond_offer_id_1_day_ago','1',1,2,1,'select [columns] from bond_offer_id_1_day_ago','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (57,1,'bond_offer_secondary','1',1,2,1,'select [columns] from bond_offer_secondary','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (58,1,'bond_offer_today','1',1,2,1,'select [columns] from bond_offer_today','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (59,1,'bond_percentage_of_main_business_income_forissuerinfo_query','1,3',1,2,1,'select  \r\n[columns]  \r\nfrom  \r\n(SELECT \r\nInstitution_Code as issuerCode,\r\nItem_content as revenueType,\r\nindex_value as revenueAmount,\r\nindex_date as date,\r\nCAST(index_value/SUM(index_value)AS DECIMAL(10,2)) AS revenuePct\r\n\r\nFROM  p_sector_operate_info\r\n\r\nWHERE Index_Content=\'主营业务收入\' GROUP BY Institution_Code,index_date,\r\nItem_content) AS result','',1,'date:number','yangxb','2017-08-04 14:14:10','债券发行人信息查询之营业收入百分比查询（主营业务收入）','','','');
INSERT INTO `t_api` VALUES (60,1,'bond_percentage_of_operating_income_forissuerinfo_query','1,3',1,2,1,'select  \r\n[columns]  \r\nfrom  \r\n(SELECT \r\nInstitution_Code as issuerCode,\r\nItem_content as revenueType,\r\nindex_value as revenueAmount,\r\nindex_date as date,\r\nCAST(index_value/SUM(index_value)AS DECIMAL(10,2)) AS revenuePct\r\n\r\nFROM  p_sector_operate_info\r\n\r\nWHERE Index_Content=\'营业收入\' GROUP BY Institution_Code,index_date,\r\nItem_content) AS result','',1,'date:number','yangxb','2017-08-04 14:14:02','债券发行人信息查询之营业收入百分比查询（营业收入）','','','');
INSERT INTO `t_api` VALUES (61,1,'bond_percentage_of_total_revenue_forissuerinfo_query','1,3',1,2,1,'select  \r\n[columns]  \r\nfrom \r\n(SELECT \r\nInstitution_Code as issuerCode,\r\nItem_content as revenueType,\r\nindex_value as revenueAmount,\r\nindex_date as date,\r\nCAST(index_value/SUM(index_value)AS DECIMAL(10,2)) AS revenuePct\r\n\r\nFROM  p_sector_operate_info\r\n\r\nWHERE Index_Content=\'营业总收入\' GROUP BY Institution_Code,index_date,\r\nItem_content) AS result','',1,'date:number','yangxb','2017-08-04 14:14:17','债券营发行人信息查询之业收入百分比查询（营业总收入）','','','');
INSERT INTO `t_api` VALUES (62,1,'bond_quote_announced','1',1,2,1,'select [columns] from bond_quote_announced','',1,'Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (63,1,'bond_rating_info','1,3',1,2,1,'SELECT br.Bond_Key AS Bond_Key, br.Bond_Rating AS Bond_Rating, br.Rating_Date AS Rating_Date, br.Rating_Institution_Code AS Rating_Institution, inst. Full_Name_C AS Rating_Institution_Full_Name, inst.Short_Name_C AS Rating_Institution_Short_Name,  br.create_date AS create_date, br.modify_date AS modify_date\r\nFROM p_bond_rating br\r\nLEFT JOIN institution inst ON br.Rating_institution_Code = inst.Institution_Code AND inst.delflag=0','br.delflag=0',1,'br.Rating_Date:number','yangxb','2017-08-15 10:32:47','债券评级查询','','','');
INSERT INTO `t_api` VALUES (64,1,'bond_remaining_maturity','1',1,2,1,'SELECT\r\n	`sc`.`Bond_ID`,\r\n	sc.`Bond_Key`,\r\n	`sc`.`Short_Name`,\r\n	CONCAT(\r\n		REPLACE (\r\n			REPLACE (\r\n\r\n				IF (\r\n					(\r\n						ISNULL(`sc`.`b`)\r\n						OR (`sc`.`b` < 1)\r\n					),\r\n\r\n				IF (\r\n					(`sc`.`d` < 1),\r\n					CONCAT(`sc`.`f`, \"D\"),\r\n					CONCAT(\r\n						ROUND(`sc`.`d`, 2),\r\n						\"Y\"\r\n					)\r\n				),\r\n\r\n			IF (\r\n				(\r\n					NOT ISNULL(`sc`.`Term_structure`)\r\n				),\r\n\r\n			IF (\r\n				(`sc`.`a` < 1),\r\n				CONCAT(\r\n					CONCAT(`sc`.`b`, \"D + \"),\r\n					CONCAT(\r\n						ROUND(`sc`.`c`, 2),\r\n						\"Y\"\r\n					)\r\n				),\r\n				CONCAT(\r\n					CONCAT(\r\n						ROUND(`sc`.`a`, 2),\r\n						\"Y + \"\r\n					),\r\n					CONCAT(\r\n						ROUND(`sc`.`c`, 2),\r\n						\"Y\"\r\n					)\r\n				)\r\n			),\r\n\r\n		IF (\r\n			(`sc`.`d` < 1),\r\n			CONCAT(`sc`.`f`, \"D\"),\r\n			CONCAT(\r\n				ROUND(`sc`.`d`, 2),\r\n				\"Y\"\r\n			)\r\n		)\r\n			)\r\n				),\r\n				\".0Y\",\r\n				\"Y\"\r\n			),\r\n			\".00Y\",\r\n			\"Y\"\r\n		),\r\n\r\n	IF (\r\n		(`sc`.`Option_Type` = \"ETS\"),\r\n		\" + N\",\r\n		\"\"\r\n	)\r\n	) AS `residual_maturity`,\r\n	`sc`.`f` AS `residual_maturity_value`\r\nFROM\r\n	(\r\n		SELECT\r\n			`bond`.`Bond_Key`,\r\n			`bond`.`Bond_ID`,\r\n			`bond`.`Short_Name`,\r\n			`bond`.`Term_structure`,\r\n			`bond`.`Option_Type`,\r\n			(\r\n				(\r\n					TO_DAYS(`bond`.`Option_Date`) -\r\n					IF (\r\n						(\r\n							TO_DAYS(NOW()) < TO_DAYS(\r\n								`bond`.`Interest_Start_Date`\r\n							)\r\n						),\r\n						TO_DAYS(\r\n							`bond`.`Interest_Start_Date`\r\n						),\r\n						TO_DAYS(NOW())\r\n					)\r\n				) / 365\r\n			) AS `a`,\r\n			(\r\n				TO_DAYS(`bond`.`Option_Date`) -\r\n				IF (\r\n					(\r\n						TO_DAYS(NOW()) < TO_DAYS(\r\n							`bond`.`Interest_Start_Date`\r\n						)\r\n					),\r\n					TO_DAYS(\r\n						`bond`.`Interest_Start_Date`\r\n					),\r\n					TO_DAYS(NOW())\r\n				)\r\n			) AS `b`,\r\n			(\r\n				(\r\n					TO_DAYS(`bond`.`Maturity_Date`) - TO_DAYS(`bond`.`Option_Date`)\r\n				) / 365\r\n			) AS `c`,\r\n			(\r\n				(\r\n					TO_DAYS(`bond`.`Maturity_Date`) -\r\n					IF (\r\n						(\r\n							TO_DAYS(NOW()) < TO_DAYS(\r\n								`bond`.`Interest_Start_Date`\r\n							)\r\n						),\r\n						TO_DAYS(\r\n							`bond`.`Interest_Start_Date`\r\n						),\r\n						TO_DAYS(NOW())\r\n					)\r\n				) / 365\r\n			) AS `d`,\r\n			(\r\n				TO_DAYS(`bond`.`Maturity_Date`) -\r\n				IF (\r\n					(\r\n						TO_DAYS(NOW()) < TO_DAYS(\r\n							`bond`.`Interest_Start_Date`\r\n						)\r\n					),\r\n					TO_DAYS(\r\n						`bond`.`Interest_Start_Date`\r\n					),\r\n					TO_DAYS(NOW())\r\n				)\r\n			) AS `f`\r\n		FROM\r\n			`bond` AS `bond`\r\n		WHERE\r\n			(`bond`.`delflag` = 0)\r\n	) AS sc','`sc`.`f` > 0',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (65,1,'bond_subject_rating_changes_query','1,3',1,2,1,'select \r\n[columns]  from (\r\nSELECT \r\np.Institution_Code AS Institution_Code,\r\nCASE\r\n	WHEN \r\n	p.Institution_Type=\'ISR\'\r\n	THEN\r\n	\'发行人\'\r\n	WHEN \r\n	p.Institution_Type=\'GRT\'\r\n	THEN\r\n	\'担保人\'\r\nEND AS Institution_Type,\r\nista.Full_Name_C AS Institution_Name,\r\np.Rating_Institution_Code AS Rating_Institution_Code,\r\nistb.Full_Name_C AS Rating_Institution_Name,\r\np.cRating_Date AS Rating_Date,\r\np.cr AS rate,\r\nCASE\r\n	WHEN \r\n	p.Outlook =\'STB\'\r\n	THEN \r\n	\'稳定\'\r\n	WHEN\r\n	p.Outlook =\'NEG\'\r\n	THEN\r\n	\'负面\'\r\n	WHEN\r\n	p.Outlook =\'RWT\'\r\n	THEN\r\n	\'列入观察名单\'\r\n	WHEN\r\n	p.Outlook =\'POS\'\r\n	THEN\r\n	\'正面\'\r\n	WHEN\r\n	p.Outlook =\'NON\'\r\n	THEN\r\n	\'-- \'\r\n	ELSE\r\n	\'\'\r\nEND AS Rating_Outlook,\r\nCASE\r\n	WHEN\r\n	p.lrGrade=0\r\n	THEN\r\n	\'首次\'\r\n	ELSE\r\n	CASE\r\n		WHEN \r\n		p.crGrade=p.lrGrade\r\n		THEN\r\n		\'维持\'\r\n		WHEN \r\n		p.crGrade>p.lrGrade\r\n		THEN\r\n		\'调高\'\r\n		ELSE\r\n		\'下调\'\r\n	END\r\nEND AS ratingChg\r\n\r\nFROM \r\n(SELECT * FROM \r\n\r\n(SELECT Institution_Type,Outlook,Rating_Institution_Code,ra.Institution_Code,\r\n\r\nra.cRating_Date AS cRating_Date,\r\n\r\n(SELECT \r\nCASE\r\n	WHEN\r\n	rate=\'AAA+\'\r\n	THEN\r\n	93\r\n	WHEN\r\n	rate=\'AAA\'\r\n	THEN\r\n	90\r\n	WHEN\r\n	rate=\'AAA-\'\r\n	THEN\r\n	87\r\n	WHEN\r\n	rate=\'AA+\'\r\n	THEN\r\n	83\r\n	WHEN\r\n	rate=\'AA\'\r\n	THEN\r\n	80\r\n	WHEN\r\n	rate=\'AA-\'\r\n	THEN\r\n	77\r\n	WHEN\r\n	rate=\'A+\'\r\n	THEN\r\n	73\r\n	WHEN\r\n	rate=\'A\'\r\n	THEN\r\n	70\r\n	WHEN\r\n	rate=\'A-\'\r\n	THEN\r\n	67\r\n	WHEN\r\n	rate=\'BBB+\'\r\n	THEN\r\n	63\r\n	WHEN\r\n	rate=\'BBB\'\r\n	THEN\r\n	60\r\n	WHEN\r\n	rate=\'BBB-\'\r\n	THEN\r\n	57\r\n	WHEN\r\n	rate=\'BB+\'\r\n	THEN\r\n	53\r\n	WHEN\r\n	rate=\'BB\'\r\n	THEN\r\n	50\r\n	WHEN\r\n	rate=\'BB-\'\r\n	THEN\r\n	47\r\n	WHEN\r\n	rate=\'B+\'\r\n	THEN\r\n	43\r\n	WHEN\r\n	rate=\'B\'\r\n	THEN\r\n	40\r\n	WHEN\r\n	rate=\'B-\'\r\n	THEN\r\n	37\r\n	WHEN\r\n	rate=\'CCC+\'\r\n	THEN\r\n	33\r\n	WHEN\r\n	rate=\'CCC\'\r\n	THEN\r\n	30\r\n	WHEN\r\n	rate=\'CCC-\'\r\n	THEN\r\n	27\r\n	WHEN\r\n	rate=\'CC+\'\r\n	THEN\r\n	23\r\n	WHEN\r\n	rate=\'CC\'\r\n	THEN\r\n	20\r\n	WHEN\r\n	rate=\'CC-\'\r\n	THEN\r\n	17\r\n	WHEN\r\n	rate=\'C+\'\r\n	THEN\r\n	13\r\n	WHEN\r\n	rate=\'C\'\r\n	THEN\r\n	10\r\n	WHEN\r\n	rate=\'C-\'\r\n	THEN\r\n	7\r\n	WHEN\r\n	rate=\'D\'\r\n	THEN\r\n	0\r\n	ELSE\r\n	0\r\nEND AS crateGrade \r\nFROM p_institution_rating WHERE Institution_Code = ra.Institution_Code AND Rating_Date=cRating_Date LIMIT 0,1  ) AS crGrade,\r\n(SELECT rate FROM p_institution_rating WHERE   Institution_Code = ra.Institution_Code AND Rating_Date= cRating_Date LIMIT 0,1) AS cr,\r\nra.lRating_Date AS lRating_Date,\r\n\r\n(SELECT \r\nCASE\r\n	WHEN\r\n	rate=\'AAA+\'\r\n	THEN\r\n	93\r\n	WHEN\r\n	rate=\'AAA\'\r\n	THEN\r\n	90\r\n	WHEN\r\n	rate=\'AAA-\'\r\n	THEN\r\n	87\r\n	WHEN\r\n	rate=\'AA+\'\r\n	THEN\r\n	83\r\n	WHEN\r\n	rate=\'AA\'\r\n	THEN\r\n	80\r\n	WHEN\r\n	rate=\'AA-\'\r\n	THEN\r\n	77\r\n	WHEN\r\n	rate=\'A+\'\r\n	THEN\r\n	73\r\n	WHEN\r\n	rate=\'A\'\r\n	THEN\r\n	70\r\n	WHEN\r\n	rate=\'A-\'\r\n	THEN\r\n	67\r\n	WHEN\r\n	rate=\'BBB+\'\r\n	THEN\r\n	63\r\n	WHEN\r\n	rate=\'BBB\'\r\n	THEN\r\n	60\r\n	WHEN\r\n	rate=\'BBB-\'\r\n	THEN\r\n	57\r\n	WHEN\r\n	rate=\'BB+\'\r\n	THEN\r\n	53\r\n	WHEN\r\n	rate=\'BB\'\r\n	THEN\r\n	50\r\n	WHEN\r\n	rate=\'BB-\'\r\n	THEN\r\n	47\r\n	WHEN\r\n	rate=\'B+\'\r\n	THEN\r\n	43\r\n	WHEN\r\n	rate=\'B\'\r\n	THEN\r\n	40\r\n	WHEN\r\n	rate=\'B-\'\r\n	THEN\r\n	37\r\n	WHEN\r\n	rate=\'CCC+\'\r\n	THEN\r\n	33\r\n	WHEN\r\n	rate=\'CCC\'\r\n	THEN\r\n	30\r\n	WHEN\r\n	rate=\'CCC-\'\r\n	THEN\r\n	27\r\n	WHEN\r\n	rate=\'CC+\'\r\n	THEN\r\n	23\r\n	WHEN\r\n	rate=\'CC\'\r\n	THEN\r\n	20\r\n	WHEN\r\n	rate=\'CC-\'\r\n	THEN\r\n	17\r\n	WHEN\r\n	rate=\'C+\'\r\n	THEN\r\n	13\r\n	WHEN\r\n	rate=\'C\'\r\n	THEN\r\n	10\r\n	WHEN\r\n	rate=\'C-\'\r\n	THEN\r\n	7\r\n	WHEN\r\n	rate=\'D\'\r\n	THEN\r\n	0\r\n	ELSE\r\n	0\r\nEND AS lrateGrade \r\nFROM p_institution_rating WHERE   Institution_Code = ra.Institution_Code AND Rating_Date= lRating_Date LIMIT 0,1) AS lrGrade\r\n FROM \r\n(\r\nSELECT \r\n Institution_Type,Outlook,Rating_Institution_Code,Institution_Code,cRating_Date,MAX(lRating_Date) AS lRating_Date\r\nFROM (\r\nSELECT  Institution_Type,Outlook,Rating_Institution_Code,c.Institution_Code AS Institution_Code, cRating_Date,lRating_Date \r\nFROM \r\n(SELECT Institution_Type,Outlook,Rating_Institution_Code,Institution_Code, Rating_Date AS cRating_Date FROM p_institution_rating GROUP BY  Institution_Code, Rating_Date) AS c\r\nINNER JOIN \r\n\r\n(SELECT Institution_Code, Rating_Date AS lRating_Date FROM p_institution_rating GROUP BY  Institution_Code, Rating_Date)\r\n AS l\r\n\r\nON c.Institution_Code=l.Institution_Code WHERE  l.lRating_Date < c.cRating_Date  ) AS result \r\nGROUP BY Institution_Type,Outlook,Rating_Institution_Code,Institution_Code,cRating_Date) AS ra\r\n\r\nUNION\r\n\r\nSELECT \r\n\r\n(SELECT Institution_Type FROM p_institution_rating WHERE Institution_Code = a.Institution_Code AND Rating_Date= a.Rating_Date LIMIT 0,1) AS Institution_Type,\r\n(SELECT Outlook FROM p_institution_rating WHERE Institution_Code = a.Institution_Code AND Rating_Date= a.Rating_Date LIMIT 0,1) AS Outlook,\r\n(SELECT Rating_Institution_Code FROM p_institution_rating WHERE Institution_Code = a.Institution_Code AND Rating_Date= a.Rating_Date LIMIT 0,1) AS Rating_Institution_Code,\r\nInstitution_Code,\r\nRating_Date AS Rating_Date,\r\n0 AS crGrade,\r\n(SELECT rate FROM p_institution_rating WHERE Institution_Code = a.Institution_Code AND Rating_Date= a.Rating_Date LIMIT 0,1) AS cr,\r\n\'\' AS lRating_Date,\r\n0 AS lrGrade\r\nFROM \r\n(\r\nSELECT Institution_Code,MIN(Rating_Date) AS Rating_Date\r\n FROM p_institution_rating GROUP BY Institution_Code) AS a) AS result) AS p \r\n INNER JOIN institution AS ista ON p.Institution_Code= ista.Institution_Code \r\nINNER JOIN institution AS istb ON p.Rating_Institution_Code= istb.Institution_Code ) AS result','',1,'','yangxb','2017-07-21 16:53:35','债券主体评级变动查询','','','');
INSERT INTO `t_api` VALUES (66,1,'bond_type','1,3',1,2,1,'select [columns] from\r\n	(\r\n	select\r\nb.bond_key,\r\ncase\r\n	when \r\n	b.Bond_Type=\'GOV\'\r\n	then\r\n	\'国债\'\r\n	when\r\n	b.Bond_Type=\'CBB\'\r\n	then\r\n	\'央票\'\r\n	when\r\n	b.Bond_Type=\'LGB\'\r\n	then\r\n	\'地方债\'\r\n	when\r\n	b.Bond_Type=\'FIN\' AND b.Bond_Subtype=\'PBB\'\r\n	then\r\n	\'金融债\'\r\n	when\r\n	b.Bond_Type in(\'FIN\',\'GBB\') AND b.Bond_Subtype<>\'PBB\' AND Bond_Subtype<>\'TET\' AND Bond_Subtype<>\'RAB\'\r\n	then\r\n	\'金融机构债\'\r\n	when\r\n	b.Bond_Subtype in(\'CCP\',\'LCP\',\'LSP\',\'CSP\')\r\n	then\r\n	\'短融\'\r\n	when\r\n	b.External_Type=\'MTN\'\r\n	then\r\n	\'中票\'\r\n	when\r\n	b.Ent_Cor=\'ENT\' AND b.External_Type=\'EPB\' AND b.Bond_Subtype IN(\'CEB\',\'LEB\')\r\n	then\r\n	\'企业债\'\r\n	when\r\n	(b.Ent_Cor=\'COP\' AND b.External_Type=\'EPB\' AND b.Bond_Subtype IN(\'CEB\',\'LEB\')) OR (b.Ent_Cor=\'COP\' AND b.External_Type=\'PPN\' AND b.Bond_Subtype=\'PPN\')\r\n	then\r\n	\'公司债\'\r\n	when\r\n	b.Bond_Subtype=\'PPN\' AND b.Ent_Cor IS NULL\r\n	then\r\n	\'PPN\'\r\n	when\r\n	b.Bond_Type=\'ABS\'\r\n	then\r\n	\'资产支持证券\'\r\n	when\r\n	(b.Ent_Cor=\'ENT\' AND b.External_Type=\'EPB\' AND b.Bond_Subtype=\'CCB\') OR (b.External_Type=\'SMN\')\r\n	then\r\n	\'集合债\'\r\n	when\r\n	b.Bond_Type=\'COR\' AND b.Bond_Subtype IN(\'SCV\',\'CVB\')\r\n	then\r\n	\'可转债\'\r\n	when\r\n	b.Bond_Type=\'NCD\'\r\n	then\r\n	\'NCD\'\r\n	when\r\n	b.Bond_Subtype IN(\'TET\',\'RAB\',\'INT\',\'PDB\')\r\n	then\r\n	\'其他\'\r\n	else\r\n	\'\'\r\nend as Bond_Type,\r\ncase\r\n	when \r\n	b.Bond_Type=\'GOV\'\r\n	then\r\n	\'记账式国债\'\r\n	when\r\n	b.Bond_Type=\'CBB\'\r\n	then\r\n	\'央行票据\'\r\n	when\r\n	b.Bond_Type=\'LGB\' and b.Bond_Subtype=\'LLB\'\r\n	then\r\n	\'地方政府自发自偿\'\r\n	when\r\n	b.Bond_Type=\'LGB\' and b.Bond_Subtype=\'TLB\'\r\n	then\r\n	\'财政部代发代偿\'\r\n	when\r\n	Bond_Type=\'FIN\' AND Bond_Subtype=\'PBB\'\r\n	then\r\n	\'政策性银行债券\'\r\n	when \r\n	b.Bond_Subtype=\'PSB\' AND b.External_Type=\'PBB\'\r\n	then\r\n	\'政策性银行次级债券\'\r\n	when \r\n	b.Bond_Subtype=\'CBB\' AND b.External_Type=\'COB\'\r\n	then\r\n	\'商业银行债券\'\r\n	when \r\n	b.Bond_Subtype=\'CSB\' AND b.External_Type=\'COB\'\r\n	then\r\n	\'商业银行次级债券\'\r\n	when \r\n	b.Bond_Subtype=\'CXB\' AND b.External_Type=\'COB\'\r\n	then\r\n	\'商业银行混合资本债券\'\r\n	when \r\n	b.Bond_Subtype=\'NCB\'\r\n	then\r\n	\'非银行金融机构债\'\r\n	when \r\n	b.Bond_Subtype=\'SEB\' AND b.External_Type=\'NCB\'\r\n	then\r\n	\'证券公司债\'\r\n	when \r\n	b.Bond_Subtype=\'SSB\' AND b.External_Type=\'CPB\'\r\n	then\r\n	\'证券公司短期融资券\'\r\n	when \r\n	b.Bond_Subtype=\'SES\' AND b.External_Type=\'NCB\'\r\n	then\r\n	\'证券公司次级债\'\r\n	when \r\n	b.Bond_Subtype=\'HJB\'\r\n	then\r\n	\'汇金债\'\r\n	when\r\n	b.External_Type=\'CPB\' AND b.Bond_Subtype=\'CCP\'\r\n	then\r\n	\'中央企业短期融资券\'\r\n	when\r\n	b.External_Type=\'SCP\' AND b.Bond_Subtype=\'CSP\'\r\n	then\r\n	\'中央企业超短期融资券\'\r\n	when\r\n	b.External_Type=\'CPB\' AND b.Bond_Subtype=\'LCP\'\r\n	then\r\n	\'地方企业短期融资券\'\r\n	when\r\n	b.External_Type=\'SCP\' AND b.Bond_Subtype=\'LSP\'\r\n	then\r\n	\'地方企业超短期融资券\'\r\n	when\r\n	b.External_Type=\'MTN\' and b.Bond_Subtype=\'CMN\'\r\n	then\r\n	\'中央企业中期票据\'\r\n	when\r\n	b.External_Type=\'MTN\' and b.Bond_Subtype=\'LMN\'\r\n	then\r\n	\'地方企业中期票据\'\r\n	when\r\n	b.Ent_Cor=\'ENT\' AND b.External_Type=\'EPB\' and b.Bond_Subtype=\'CEB\'\r\n	then\r\n	\'中央企业债\'\r\n	when\r\n	b.Ent_Cor=\'ENT\' AND b.External_Type=\'EPB\' and b.Bond_Subtype=\'LEB\'\r\n	then\r\n	\'地方企业债\'\r\n	when\r\n	b.Ent_Cor=\'COP\' AND b.External_Type=\'EPB\' AND b.Bond_Subtype IN(\'CEB\',\'LEB\')\r\n	then\r\n	\'公司债\'\r\n	when\r\n	b.Ent_Cor=\'COP\' AND b.External_Type=\'PPN\' AND b.Bond_Subtype=\'PPN\'\r\n	then\r\n	\'非公开公司债\'\r\n	when\r\n	b.Bond_Subtype=\'PPN\' AND b.Ent_Cor IS NULL\r\n	then\r\n	\'PPN\'	\r\n	when\r\n	b.Bond_Type=\'ABS\' and b.Bond_Subtype=\'AMP\'\r\n	then\r\n	\'专项资产管理计划\'\r\n	when\r\n	b.Bond_Type=\'ABS\' and b.Bond_Subtype=\'LBS\'\r\n	then\r\n	\'信贷资产证券化信托\'\r\n	when\r\n	b.Bond_Type=\'ABS\' and b.Bond_Subtype=\'CBS\'\r\n	then\r\n	\'个人汽车抵押贷款证券化信托\'\r\n	when\r\n	b.Bond_Type=\'ABS\' and b.Bond_Subtype=\'MBS\'\r\n	then\r\n	\'个人住房抵押贷款证券化信托\'\r\n	when\r\n	b.Ent_Cor=\'ENT\' AND b.External_Type=\'EPB\' AND b.Bond_Subtype=\'CCB\'\r\n	then\r\n	\'集合企业债\'\r\n	when\r\n	b.External_Type=\'SMN\'\r\n	then\r\n	\'集合票据\'\r\n	when\r\n	b.Bond_Type=\'COR\' AND b.Bond_Subtype=\'SCV\'\r\n	then\r\n	\'可分离可转债\'\r\n	when\r\n	b.Bond_Subtype=\'CVB\'\r\n	then\r\n	\'不可分离可转债\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'MCD\'\r\n	then\r\n	\'五大行同业存单\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'SPD\'\r\n	then\r\n	\'政策性银行同业存单\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'SHD\'\r\n	then\r\n	\'股份制银行同业存单\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'CCD\'\r\n	then\r\n	\'城商行同业存单\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'RRD\'\r\n	then\r\n	\'三农机构同业存单\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'RTD\'\r\n	then\r\n	\'村镇银行同业存单\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'FRD\'\r\n	then\r\n	\'外资银行同业存单\'\r\n	when\r\n	b.Bond_Type=\'NCD\' and b.Bond_Subtype=\'OTD\'\r\n	then\r\n	\'其他金融机构同业存单\'\r\n	when\r\n	b.Bond_Subtype=\'RAB\'\r\n	then\r\n	\'铁道债\'\r\n	when\r\n	b.Bond_Subtype=\'TET\'\r\n	then\r\n	\'二级资本工具\'\r\n	when\r\n	b.Bond_Subtype=\'INT\'\r\n	then\r\n	\'国际机构债\'\r\n	when\r\n	b.Bond_Subtype=\'PDB\'\r\n	then\r\n	\'熊猫债\'\r\n	else\r\n	\'\'\r\n\r\nend as Bond_SubType\r\n from bond as b) as result','',1,'','yangxb','2017-08-18 15:32:35','债券日终处理数据查询','','','');
INSERT INTO `t_api` VALUES (67,1,'bond_type_level1','1,3',1,2,1,'SELECT CASE\r\nWHEN Bond_Type = \'GOV\' THEN \'国债\'\r\nWHEN Bond_Type = \'CBB\' THEN \'央票\'\r\nWHEN Bond_Type = \'LGB\' THEN \'地方债\'\r\nWHEN Bond_Type = \'FIN\' AND Bond_Subtype = \'PBB\' THEN \'金融债\'\r\nWHEN Bond_Type IN (\'FIN\', \'GBB\') AND Bond_Subtype <> \'PBB\' AND Bond_Subtype <> \'TET\' AND Bond_Subtype <> \'RAB\' THEN \'金融机构债\'\r\nWHEN Bond_Subtype IN (\'CCP\', \'LCP\', \'LSP\', \'CSP\') THEN \'短融\'\r\nWHEN External_Type = \'MTN\' THEN \'中票\'\r\nWHEN Ent_Cor = \'ENT\' AND External_Type = \'EPB\' AND Bond_Subtype IN (\'CEB\', \'LEB\') THEN \'企业债\'\r\nWHEN (Ent_Cor = \'COP\' AND External_Type = \'EPB\' AND Bond_Subtype IN (\'CEB\', \'LEB\')) OR (Ent_Cor = \'COP\' AND External_Type = \'PPN\' AND Bond_Subtype = \'PPN\') THEN \'公司债\'\r\nWHEN Bond_Subtype = \'PPN\' AND Ent_Cor IS NULL THEN \'PPN\'\r\nWHEN Bond_Type = \'ABS\' THEN \'资产支持证券\'\r\nWHEN (Ent_Cor = \'ENT\' AND External_Type = \'EPB\' AND Bond_Subtype = \'CCB\') OR (External_Type = \'SMN\') THEN \'集合债\'\r\nWHEN Bond_Type = \'COR\' AND Bond_Subtype IN (\'SCV\', \'CVB\') THEN \'可转债\'\r\nWHEN Bond_Type = \'NCD\' THEN \'NCD\'\r\nWHEN Bond_Subtype IN (\'TET\', \'RAB\', \'INT\', \'PDB\') THEN \'其他\'\r\nEND AS bondType FROM bond','',1,'','sky','2017-04-11 10:35:40','','','','');
INSERT INTO `t_api` VALUES (68,1,'bond_type_level2','1,3',1,2,1,'SELECT CASE\r\nWHEN Bond_Type = \'GOV\' THEN \'记账式国债\'\r\nWHEN Bond_Type = \'CBB\' THEN \'央行票据\'\r\nWHEN Bond_Type = \'LGB\' AND Bond_Subtype = \'LLB\' THEN \'地方政府自发自偿\'\r\nWHEN Bond_Type = \'LGB\' AND Bond_Subtype = \'TLB\' THEN \'财政部代发代偿\'\r\nWHEN Bond_Type = \'FIN\' AND Bond_Subtype = \'PBB\' THEN \'政策性银行债券\'\r\nWHEN Bond_Subtype = \'PSB\' AND External_Type = \'PBB\' THEN \'政策性银行次级债券\'\r\nWHEN Bond_Subtype = \'CBB\' AND External_Type = \'COB\' THEN \'商业银行债券\'\r\nWHEN Bond_Subtype = \'CSB\' AND External_Type = \'COB\' THEN \'商业银行次级债券\'\r\nWHEN Bond_Subtype = \'CXB\' AND External_Type = \'COB\' THEN \'商业银行混合资本债券\'\r\nWHEN Bond_Subtype = \'NCB\' THEN \'非银行金融机构债\'\r\nWHEN Bond_Subtype = \'SEB\' AND External_Type = \'NCB\' THEN \'证券公司债\'\r\nWHEN Bond_Subtype = \'SSB\' AND External_Type = \'CPB\' THEN \'证券公司短期融资券\'\r\nWHEN Bond_Subtype = \'SES\' AND External_Type = \'NCB\' THEN \'证券公司次级债\'\r\nWHEN Bond_Subtype = \'HJB\' THEN \'汇金债\'\r\nWHEN External_Type = \'CPB\' AND Bond_Subtype = \'CCP\' THEN \'中央企业短期融资券\'\r\nWHEN External_Type = \'SCP\' AND Bond_Subtype = \'CSP\' THEN \'中央企业超短期融资券\'\r\nWHEN External_Type = \'CPB\' AND Bond_Subtype = \'LCP\' THEN \'地方企业短期融资券\'\r\nWHEN External_Type = \'SCP\' AND Bond_Subtype = \'LSP\' THEN \'地方企业超短期融资券\'\r\nWHEN External_Type = \'MTN\' AND Bond_Subtype = \'CMN\' THEN \'中央企业中期票据\'\r\nWHEN External_Type = \'MTN\' AND Bond_Subtype = \'LMN\' THEN \'地方企业中期票据\'\r\nWHEN Ent_Cor = \'ENT\' AND External_Type = \'EPB\' AND Bond_Subtype = \'CEB\' THEN \'中央企业债\'\r\nWHEN Ent_Cor = \'ENT\' AND External_Type = \'EPB\' AND Bond_Subtype = \'LEB\' THEN \'地方企业债\'\r\nWHEN Ent_Cor = \'COP\' AND External_Type = \'EPB\' AND Bond_Subtype IN (\'CEB\', \'LEB\') THEN \'公司债\'\r\nWHEN Ent_Cor = \'COP\' AND External_Type = \'PPN\' AND Bond_Subtype = \'PPN\' THEN \'非公开公司债\'\r\nWHEN Bond_Subtype = \'PPN\' AND Ent_Cor IS NULL THEN \'PPN\'\r\nWHEN Bond_Type = \'ABS\' AND Bond_Subtype = \'AMP\' THEN \'专项资产管理计划\'\r\nWHEN Bond_Type = \'ABS\' AND Bond_Subtype = \'LBS\' THEN \'信贷资产证券化信托\'\r\nWHEN Bond_Type = \'ABS\' AND Bond_Subtype = \'CBS\' THEN \'个人汽车抵押贷款证券化信托\'\r\nWHEN Bond_Type = \'ABS\' AND Bond_Subtype = \'MBS\' THEN \'个人住房抵押贷款证券化信托\'\r\nWHEN Ent_Cor = \'ENT\' AND External_Type = \'EPB\' AND Bond_Subtype = \'CCB\' THEN \'集合企业债\'\r\nWHEN External_Type = \'SMN\' THEN \'集合票据\'\r\nWHEN Bond_Type = \'COR\' AND Bond_Subtype = \'SCV\' THEN \'可分离可转债\'\r\nWHEN Bond_Subtype = \'CVB\' THEN \'不可分离可转债\'\r\nWHEN Bond_Type = \'NCD\' AND Bond_Subtype = \'MCD\' THEN \'五大行同业存单\'\r\nWHEN Bond_Type = \'NCD\' AND Bond_Subtype = \'SPD\' THEN \'政策性银行同业存单\'\r\nWHEN Bond_Type = \'NCD\' AND Bond_Subtype = \'SHD\' THEN \'股份制银行同业存单\'\r\nWHEN Bond_Type = \'NCD\' AND Bond_Subtype = \'CCD\' THEN \'城商行同业存单\'\r\nWHEN Bond_Type = \'NCD\' AND Bond_Subtype = \'RRD\' THEN \'三农机构同业存单\'\r\nWHEN Bond_Type = \'NCD\' AND Bond_Subtype = \'RTD\' THEN \'村镇银行同业存单\'\r\nWHEN Bond_Type = \'NCD\' AND Bond_Subtype = \'FRD\' THEN \'外资银行同业存单\'\r\nWHEN Bond_Type = \'NCD\' AND Bond_Subtype = \'OTD\' THEN \'其他金融机构同业存单\'\r\nWHEN Bond_Subtype = \'RAB\' THEN \'铁道债\'\r\nWHEN Bond_Subtype = \'TET\' THEN \'二级资本工具\'\r\nWHEN Bond_Subtype = \'INT\' THEN \'国际机构债\'\r\nWHEN Bond_Subtype = \'PDB\' THEN \'熊猫债\'\r\nEND AS bondType FROM bond','',1,'','sky','2017-04-11 10:37:00','','','','');
INSERT INTO `t_api` VALUES (69,1,'bond_underwrite','1,3',1,2,1,'SELECT uw.Bond_Key AS Bond_Key, uw.Underwriter_Code AS Underwriter_Code, uw.Underwriter_Type AS Underwriter_Type, inst.Full_Name_C AS Underwriter_Full_Name, inst.Short_Name_C AS Underwriter_Short_Name\r\nFROM p_underwriter_info uw \r\n                LEFT JOIN institution inst ON uw.Underwriter_Code = inst.Institution_Code AND inst.delflag=0\r\n               ','uw.delflag=0',1,'','yangxb','2017-08-15 10:28:28','承销团查询','','','');
INSERT INTO `t_api` VALUES (70,1,'bond_with_add_issue_key','1',1,2,1,'SELECT a.* , b.Add_Issue_Key FROM bond as a LEFT JOIN additional_issue_info as b ON a.Bond_Key = b.First_Issue_Key','a.delflag = 0',1,'a.LISTED_DATE:number','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (71,1,'BOND_WITH_LISTED_MARKET','1',1,2,1,'SELECT [columns] FROM (SELECT bond.*, p_bond_list_info.Listed_Market FROM bond LEFT JOIN p_bond_list_info ON bond.Bond_Key = p_bond_list_info.Bond_Key where bond.delflag = 0 AND p_bond_list_info.delflag = 0 AND p_bond_list_info.Bond_ID IS NOT NULL) AS temp_bond','',1,'LISTED_DATE:number','sky','2016-08-26 15:19:39','','','','');
INSERT INTO `t_api` VALUES (72,1,'calendar_reminder_setting','1',1,2,1,'select [columns] from calendar_reminder_setting','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (73,1,'CallSchedule','1',1,2,1,'select p_bond_list_info.Bond_ID,institution.Full_Name_C,bond.Compound_Frequency,p_option_exercise_info.Exercise_No,p_option_exercise_info.Start_App_Date,p_option_exercise_info.End_App_Date,p_option_exercise_info.Planned_Exercise_Date,p_option_exercise_info.Exercise_Price,bond.Coupon_Rate_Current,p_bond_list_info.Listed_Market,bond.Option_Type,bond.Bond_Type,bond.Bond_Subtype,bond.External_Type,bond.Ent_Cor,bond.Is_CIB,bond.Short_Name,bond.Full_Name from\r\n(select * from p_bond_list_info where delflag=0 and Bond_ID is not null and Bond_Key is not null and (Delisted_Date > curdate() or Delisted_Date is null))p_bond_list_info join bond on p_bond_list_info.Bond_Key=bond.Bond_Key and bond.Option_Type in (\'CAL\',\'CNP\') left join (select * from institution where delflag=0 group by Institution_Code Having count(*)=1)institution on bond.Issuer_Code = institution.Institution_Code left join\r\n (select * from (select * from p_option_exercise_info where delflag=0 and Bond_Key is not null and Planned_Exercise_Date>=curdate() order by Planned_Exercise_Date asc)p_option_exercise_info group by Bond_Key)p_option_exercise_info on p_bond_list_info.Bond_Key = p_option_exercise_info.Bond_Key','',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (74,1,'cash_flow','1',1,2,1,'SELECT a.Institution_Code\r\n     , b.Full_Name_C AS Institution_Name\r\n     , DATE_FORMAT(a.END_DATE,\"%Y-%m-%d\") as END_DATE\r\n     , a.CF_01\r\n     , a.CF_02\r\n     , a.CF_03\r\n     , a.CF_04\r\n     , a.CF_05\r\n     , a.CF_06\r\n     , a.CF_07\r\n     , a.CF_08\r\n     , a.CF_09\r\n     , a.CF_10\r\n     , a.CF_11\r\n     , a.CF_12\r\n     , a.CF_13\r\n     , a.CF_14\r\n     , a.CF_15\r\n     , a.CF_16\r\n     , a.CF_17\r\n     , a.CF_18\r\n     , a.CF_19\r\n     , a.CF_20\r\n     , a.CF_21\r\n     , a.CF_22\r\n     , a.CF_23\r\n     , a.CF_24\r\n     , a.CF_2401\r\n     , a.CF_25\r\n     , a.CF_26\r\n     , a.CF_27\r\n     , a.CF_28\r\n     , a.CF_29\r\n     , a.CF_30\r\n     , a.CF_3001\r\n     , a.CF_31\r\n     , a.CF_32\r\n     , a.CF_33\r\n     , a.CF_34\r\n     , a.CF_35\r\n     , a.CF_36\r\n     , a.CF_37\r\n     , a.CF_38\r\n     , a.CF_39\r\n     , a.CF_40\r\n     , a.CF_41\r\n     , a.CF_42\r\n     , a.CF_43\r\n     , a.CF_44\r\n     , a.CF_45\r\n     , a.CF_46\r\n     , a.CF_47\r\n     , a.CF_48\r\n     , a.CF_49\r\n     , a.CF_50\r\n     , a.CF_51\r\n     , a.CF_52\r\n     , a.CF_53\r\n     , a.CF_54\r\n     , a.CF_55\r\n     , a.CF_56\r\n     , a.CF_57\r\n     , a.CF_58\r\n     , a.CF_59\r\n     , a.CF_60\r\n     , a.CF_61\r\n     , a.CF_62\r\n     , a.CF_63\r\n     , a.CF_64\r\n     , a.CF_65\r\n     , a.CF_66\r\n     , a.CF_67\r\nFROM ss_finance.p_gen_data a\r\nINNER JOIN ss_product.institution b ON a.Institution_Code = b.Institution_Code','',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (75,1,'cdc_bond_valuation','1',1,2,1,'select [columns] from cdc_bond_valuation','',1,'Valuate_Date:number','sky','2016-09-05 17:10:34','','','','');
INSERT INTO `t_api` VALUES (76,1,'cdc_curve_dict','1',1,2,1,'select [columns] from cdc_curve_dict','',1,'','sky','2016-09-05 17:13:08','','','','');
INSERT INTO `t_api` VALUES (77,1,'cdc_diff','1',1,2,1,'select [columns] from cdc_diff','',1,'create_date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (78,1,'cdc_yield_curve','1',1,2,1,'select [columns] from cdc_yield_curve','',1,'Date:date','sky','2016-09-05 17:14:14','','','','');
INSERT INTO `t_api` VALUES (79,1,'classification_of_bond','1',1,2,1,'SELECT\r\n	CASE\r\nWHEN a.Bond_ID IS NOT NULL\r\nAND a.Listed_Market = \'CIB\' THEN\r\n	CONCAT(\r\n		SUBSTRING_INDEX(a.Bond_ID, \".\", 1),\r\n		\'.IB\'\r\n	)\r\nELSE\r\n	a.Bond_ID\r\nEND AS Bond_ID,\r\n a.Short_Name,\r\n a.Bond_Key,\r\n \'NAFMII\' AS Type_Name,\r\n CASE\r\nWHEN b.External_Type = \'SCP\' THEN\r\n	\'超短融SCP\'\r\nWHEN b.External_Type = \'SMN\' THEN\r\n	\'中小企业集合票据SMECN\'\r\nWHEN b.External_Type = \'CPB\' THEN\r\n	\'短融CP\'\r\nWHEN b.External_Type = \'MTN\'\r\nAND a.Short_Name NOT LIKE \'%PRN%\' THEN\r\n	\'中票MTN\'\r\nWHEN b.Bond_Subtype = \'PPN\'\r\nAND b.Ent_Cor IS NULL\r\nAND a.Short_Name NOT LIKE \'%ABN%\'\r\nAND a.Short_Name NOT LIKE \'%PRN%\' THEN\r\n	\'定向工具PPN\'\r\nWHEN b.Bond_Subtype = \'PPN\'\r\nAND b.Ent_Cor IS NULL\r\nAND a.Short_Name LIKE \'%ABN%\' THEN\r\n	\'资产支持票据ABN\'\r\nWHEN a.Short_Name LIKE \'%PRN%\' THEN\r\n	\'项目收益票据PRN\'\r\nWHEN a.Short_Name LIKE \'%CRM%\' THEN\r\n	\'信用风险缓释工具CRM\'\r\nELSE\r\n	\'_NAFMII\'\r\nEND AS Bond_Type,\r\n NULL AS Bond_Subtype\r\nFROM\r\n	p_bond_list_info AS a\r\nINNER JOIN bond AS b ON a.Bond_Key = b.Bond_Key\r\nWHERE\r\n	(\r\n		CASE\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date < b.Maturity_Date\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date >= b.Maturity_Date\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NULL\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		ELSE\r\n			0\r\n		END\r\n	) = 1\r\nAND (\r\n	CASE\r\n	WHEN b.External_Type = \'SCP\' THEN\r\n		\'超短融SCP\'\r\n	WHEN b.External_Type = \'SMN\' THEN\r\n		\'中小企业集合票据SMECN\'\r\n	WHEN b.External_Type = \'CPB\' THEN\r\n		\'短融CP\'\r\n	WHEN b.External_Type = \'MTN\'\r\n	AND a.Short_Name NOT LIKE \'%PRN%\' THEN\r\n		\'中票MTN\'\r\n	WHEN b.Bond_Subtype = \'PPN\'\r\n	AND b.Ent_Cor IS NULL\r\n	AND a.Short_Name NOT LIKE \'%ABN%\'\r\n	AND a.Short_Name NOT LIKE \'%PRN%\' THEN\r\n		\'定向工具PPN\'\r\n	WHEN b.Bond_Subtype = \'PPN\'\r\n	AND b.Ent_Cor IS NULL\r\n	AND a.Short_Name LIKE \'%ABN%\' THEN\r\n		\'资产支持票据ABN\'\r\n	WHEN a.Short_Name LIKE \'%PRN%\' THEN\r\n		\'项目收益票据PRN\'\r\n	WHEN a.Short_Name LIKE \'%CRM%\' THEN\r\n		\'信用风险缓释工具CRM\'\r\n	ELSE\r\n		\'_NAFMII\'\r\n	END\r\n) <> \'_NAFMII\'\r\nUNION ALL\r\n	SELECT\r\n		CASE\r\n	WHEN a.Bond_ID IS NOT NULL\r\n	AND a.Listed_Market = \'CIB\' THEN\r\n		CONCAT(\r\n			SUBSTRING_INDEX(a.Bond_ID, \".\", 1),\r\n			\'.IB\'\r\n		)\r\n	ELSE\r\n		a.Bond_ID\r\n	END AS Bond_ID,\r\n	a.Short_Name,\r\n	a.Bond_Key,\r\n	\'External\' AS Type_Name,\r\n	CASE\r\nWHEN b.Bond_Type = \'GOV\' THEN\r\n	\'国债\'\r\nWHEN b.Bond_Type = \'LGB\' THEN\r\n	\'地方政府债\'\r\nWHEN b.Bond_Type = \'CBB\' THEN\r\n	\'央行票据\'\r\nWHEN b.Bond_Subtype IN (\'PBB\', \'PSB\', \'TET\')\r\nAND b.External_Type = \'PBB\' THEN\r\n	\'金融债\'\r\nWHEN b.Bond_Subtype = \'CBB\'\r\nAND b.External_Type = \'COB\' THEN\r\n	\'金融债\'\r\nWHEN b.Bond_Subtype IN (\'CSB\', \'CXB\', \'TET\')\r\nAND b.External_Type = \'COB\' THEN\r\n	\'金融债\'\r\nWHEN b.Bond_Subtype IN (\'SES\', \'SEB\')\r\nAND b.External_Type = \'NCB\'\r\nAND a.Short_Name NOT LIKE \'%CRM%\' THEN\r\n	\'金融债\'\r\nWHEN b.Bond_Subtype = \'SSB\'\r\nAND b.External_Type = \'NCB\' THEN\r\n	\'金融债\'\r\nWHEN b.Bond_Subtype IN (\'NCB\', \'TET\')\r\nAND b.External_Type = \'NCB\' THEN\r\n	\'金融债\'\r\nWHEN Bond_Type = \'NCD\' THEN\r\n	\'同业存单\'\r\nWHEN Ent_Cor = \'ENT\'\r\nAND b.External_Type = \'EPB\'\r\nAND b.Bond_Subtype IN (\'NCB\', \'CEB\', \'LEB\') THEN\r\n	\'企业债\'\r\nWHEN Ent_Cor = \'ENT\'\r\nAND b.External_Type = \'EPB\'\r\nAND b.Bond_Subtype = \'CCB\' THEN\r\n	\'企业债\'\r\nWHEN (\r\n	Ent_Cor = \'COP\'\r\n	AND b.External_Type = \'EPB\'\r\n	AND b.Bond_Subtype IN (\'CEB\', \'LEB\')\r\n)\r\nOR (\r\n	b.Bond_Subtype = \'PDB\'\r\n	AND b.Is_CIB = \'N\'\r\n) THEN\r\n	\'公司债\'\r\nWHEN Ent_Cor = \'COP\'\r\nAND b.External_Type = \'PPN\'\r\nAND b.Bond_Subtype = \'PPN\' THEN\r\n	\'公司债\'\r\nWHEN b.External_Type = \'MTN\' THEN\r\n	\'中期票据\'\r\nWHEN b.External_Type = \'SMN\' THEN\r\n	\'中期票据\'\r\nWHEN b.External_Type = \'CPB\' THEN\r\n	\'短期融资券\'\r\nWHEN b.External_Type = \'SCP\' THEN\r\n	\'短期融资券\'\r\nWHEN b.Bond_Subtype = \'PPN\'\r\nAND Ent_Cor IS NULL\r\nAND a.Short_Name NOT LIKE \'%ABN%\' THEN\r\n	\'定向工具\'\r\nWHEN b.Bond_Subtype IN (\'RAB\', \'HJB\') THEN\r\n	\'政府支持机构债\'\r\nWHEN b.Bond_Subtype = \'INT\'\r\nOR (\r\n	b.Bond_Subtype = \'PDB\'\r\n	AND b.Is_CIB = \'Y\'\r\n) THEN\r\n	\'国际机构债\'\r\nWHEN b.Bond_Subtype = \'AMP\'\r\nAND a.Short_Name NOT LIKE \'%ABN%\' THEN\r\n	\'资产支持证券\'\r\nWHEN Bond_Type = \'ABS\'\r\nAND b.Bond_Subtype IN (\'LBS\', \'CBS\', \'MBS\')\r\nAND a.Short_Name NOT LIKE \'%ABN%\' THEN\r\n	\'资产支持证券\'\r\nWHEN a.Short_Name LIKE \'%ABN%\' THEN\r\n	\'资产支持证券\'\r\nWHEN b.Bond_Subtype = \'CVB\' THEN\r\n	\'可转债\'\r\nWHEN b.Bond_Subtype = \'SCV\'\r\nAND b.Full_Name LIKE \'%交换%\' THEN\r\n	\'可交换债\'\r\nWHEN b.Bond_Subtype = \'SCV\'\r\nAND b.Full_Name NOT LIKE \'%交换%\' THEN\r\n	\'可分离债\'\r\nELSE\r\n	\'\'\r\nEND AS Bond_Type,\r\n CASE\r\nWHEN b.Bond_Type = \'GOV\' THEN\r\n	NULL\r\nWHEN b.Bond_Type = \'LGB\' THEN\r\n	NULL\r\nWHEN b.Bond_Type = \'CBB\' THEN\r\n	NULL\r\nWHEN b.Bond_Subtype IN (\'PBB\', \'PSB\', \'TET\')\r\nAND b.External_Type = \'PBB\' THEN\r\n	\'政策银行债\'\r\nWHEN b.Bond_Subtype = \'CBB\'\r\nAND b.External_Type = \'COB\' THEN\r\n	\'商业银行普通债\'\r\nWHEN b.Bond_Subtype IN (\'CSB\', \'CXB\', \'TET\')\r\nAND b.External_Type = \'COB\' THEN\r\n	\'商业银行次级债\'\r\nWHEN b.Bond_Subtype IN (\'SES\', \'SEB\')\r\nAND b.External_Type = \'NCB\'\r\nAND a.Short_Name NOT LIKE \'%CRM%\' THEN\r\n	\'证券公司债\'\r\nWHEN b.Bond_Subtype = \'SSB\'\r\nAND b.External_Type = \'NCB\' THEN\r\n	\'证券公司短融\'\r\nWHEN b.Bond_Subtype IN (\'NCB\', \'TET\')\r\nAND b.External_Type = \'NCB\' THEN\r\n	\'其他金融机构债\'\r\nWHEN Bond_Type = \'NCD\' THEN\r\n	NULL\r\nWHEN Ent_Cor = \'ENT\'\r\nAND b.External_Type = \'EPB\'\r\nAND b.Bond_Subtype IN (\'NCB\', \'CEB\', \'LEB\') THEN\r\n	\'一般企业债\'\r\nWHEN Ent_Cor = \'ENT\'\r\nAND b.External_Type = \'EPB\'\r\nAND b.Bond_Subtype = \'CCB\' THEN\r\n	\'集合债券\'\r\nWHEN (\r\n	Ent_Cor = \'COP\'\r\n	AND b.External_Type = \'EPB\'\r\n	AND b.Bond_Subtype IN (\'CEB\', \'LEB\')\r\n)\r\nOR (\r\n	b.Bond_Subtype = \'PDB\'\r\n	AND b.Is_CIB = \'N\'\r\n) THEN\r\n	\'一般公司债\'\r\nWHEN Ent_Cor = \'COP\'\r\nAND b.External_Type = \'PPN\'\r\nAND b.Bond_Subtype = \'PPN\' THEN\r\n	\'私募债\'\r\nWHEN b.External_Type = \'MTN\' THEN\r\n	\'中票\'\r\nWHEN b.External_Type = \'SMN\' THEN\r\n	\'集合票据\'\r\nWHEN b.External_Type = \'CPB\' THEN\r\n	\'短融\'\r\nWHEN b.External_Type = \'SCP\' THEN\r\n	\'超短融\'\r\nWHEN b.Bond_Subtype = \'PPN\'\r\nAND Ent_Cor IS NULL\r\nAND a.Short_Name NOT LIKE \'%ABN%\' THEN\r\n	NULL\r\nWHEN b.Bond_Subtype IN (\'RAB\', \'HJB\') THEN\r\n	NULL\r\nWHEN b.Bond_Subtype = \'INT\'\r\nOR (\r\n	b.Bond_Subtype = \'PDB\'\r\n	AND b.Is_CIB = \'Y\'\r\n) THEN\r\n	NULL\r\nWHEN b.Bond_Subtype = \'AMP\'\r\nAND a.Short_Name NOT LIKE \'%ABN%\' THEN\r\n	\'企业ABS\'\r\nWHEN Bond_Type = \'ABS\'\r\nAND b.Bond_Subtype IN (\'LBS\', \'CBS\', \'MBS\')\r\nAND a.Short_Name NOT LIKE \'%ABN%\' THEN\r\n	\'银行CLO\'\r\nWHEN a.Short_Name LIKE \'%ABN%\' THEN\r\n	\'交易商协会ABN\'\r\nWHEN b.Bond_Subtype = \'CVB\' THEN\r\n	\'可转债\'\r\nWHEN b.Bond_Subtype = \'SCV\'\r\nAND b.Full_Name LIKE \'%交换%\' THEN\r\n	\'可交换债\'\r\nWHEN b.Bond_Subtype = \'SCV\'\r\nAND b.Full_Name NOT LIKE \'%交换%\' THEN\r\n	\'可分离债\'\r\nELSE\r\n	\'\'\r\nEND AS Bond_Subtype\r\nFROM\r\n	p_bond_list_info AS a\r\nINNER JOIN bond AS b ON a.Bond_Key = b.Bond_Key\r\nWHERE\r\n	(\r\n		CASE\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date < b.Maturity_Date\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date >= b.Maturity_Date\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NULL\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		ELSE\r\n			0\r\n		END\r\n	) = 1\r\nUNION ALL\r\n	SELECT\r\n		CASE\r\n	WHEN a.Bond_ID IS NOT NULL\r\n	AND a.Listed_Market = \'CIB\' THEN\r\n		CONCAT(\r\n			SUBSTRING_INDEX(a.Bond_ID, \".\", 1),\r\n			\'.IB\'\r\n		)\r\n	ELSE\r\n		a.Bond_ID\r\n	END AS Bond_ID,\r\n	a.Short_Name,\r\n	a.Bond_Key,\r\n	\'SS\' AS Type_Name,\r\n	CASE\r\nWHEN b.Bond_Type = \'GOV\' THEN\r\n	\'国债\'\r\nWHEN b.Bond_Type = \'CBB\' THEN\r\n	\'央票\'\r\nWHEN b.Bond_Type = \'LGB\'\r\nAND b.Bond_Subtype = \'LLB\' THEN\r\n	\'地方债\'\r\nWHEN b.Bond_Type = \'LGB\'\r\nAND b.Bond_Subtype = \'TLB\' THEN\r\n	\'地方债\'\r\nWHEN b.Bond_Type = \'FIN\'\r\nAND b.Bond_Subtype = \'PBB\' THEN\r\n	\'金融债\'\r\nWHEN b.Bond_Type = \'FIN\'\r\nAND b.Bond_Subtype <> \'PBB\'\r\nAND b.Bond_Subtype <> \'TET\' THEN\r\n	\'金融机构债\'\r\nWHEN b.Bond_Subtype IN (\'CCP\', \'LCP\', \'LSP\', \'CSP\') THEN\r\n	\'短融\'\r\nWHEN b.External_Type = \'MTN\' THEN\r\n	\'中票\'\r\nWHEN b.Ent_Cor = \'ENT\'\r\nAND b.External_Type = \'EPB\'\r\nAND b.Bond_Subtype IN (\'CEB\', \'LEB\') THEN\r\n	\'企业债\'\r\nWHEN b.Ent_Cor = \'COP\'\r\nAND b.External_Type = \'EPB\'\r\nAND b.Bond_Subtype IN (\'CEB\', \'LEB\') THEN\r\n	\'公司债\'\r\nWHEN b.Ent_Cor = \'COP\'\r\nAND b.External_Type = \'PPN\'\r\nAND b.Bond_Subtype = \'PPN\' THEN\r\n	\'公司债\'\r\nWHEN b.Bond_Subtype = \'PPN\'\r\nAND b.Ent_Cor IS NULL THEN\r\n	\'PPN\'\r\nWHEN b.Bond_Type = \'ABS\' THEN\r\n	\'资产支持证券\'\r\nWHEN b.Ent_Cor = \'ENT\'\r\nAND b.External_Type = \'EPB\'\r\nAND b.Bond_Subtype = \'CCB\' THEN\r\n	\'集合债\'\r\nWHEN b.External_Type = \'SMN\' THEN\r\n	\'集合债\'\r\nWHEN b.Bond_Subtype = \'SCV\'\r\nAND b.Full_Name NOT LIKE \'%交换%\' THEN\r\n	\'可转债\'\r\nWHEN b.Bond_Subtype = \'CVB\'\r\nOR (\r\n	b.Bond_Subtype = \'SCV\'\r\n	AND b.Full_Name LIKE \'%交换%\'\r\n) THEN\r\n	\'可转债\'\r\nWHEN b.Bond_Type = \'NCD\' THEN\r\n	\'NCD\'\r\nWHEN b.Bond_Subtype IN (\'TET\', \'RAB\', \'INT\', \'PDB\') THEN\r\n	\'其他\'\r\nELSE\r\n	\'\'\r\nEND AS Bond_Type,\r\n CASE\r\nWHEN b.Bond_Type = \'GOV\' THEN\r\n	\'记账式国债\'\r\nWHEN b.Bond_Type = \'CBB\' THEN\r\n	\'央行票据\'\r\nWHEN b.Bond_Type = \'LGB\'\r\nAND b.Bond_Subtype = \'LLB\' THEN\r\n	\'地方政府自发自偿\'\r\nWHEN b.Bond_Type = \'LGB\'\r\nAND b.Bond_Subtype = \'TLB\' THEN\r\n	\'财政部代发代偿\'\r\nWHEN b.Bond_Type = \'FIN\'\r\nAND b.Bond_Subtype = \'PBB\' THEN\r\n	\'政策性银行债券\'\r\nWHEN b.Bond_Subtype = \'PSB\'\r\nAND b.External_Type = \'PBB\' THEN\r\n	\'政策性银行次级债券\'\r\nWHEN b.Bond_Subtype = \'CBB\'\r\nAND b.External_Type = \'COB\' THEN\r\n	\'商业银行债券\'\r\nWHEN b.Bond_Subtype = \'CSB\'\r\nAND b.External_Type = \'COB\' THEN\r\n	\'商业银行次级债券\'\r\nWHEN b.Bond_Subtype = \'CXB\'\r\nAND b.External_Type = \'COB\' THEN\r\n	\'商业银行混合资本债券\'\r\nWHEN b.Bond_Subtype = \'NCB\' THEN\r\n	\'非银行金融机构债\'\r\nWHEN b.Bond_Subtype = \'SEB\'\r\nAND b.External_Type = \'NCB\' THEN\r\n	\'证券公司债\'\r\nWHEN b.Bond_Subtype = \'SSB\'\r\nAND b.External_Type = \'CPB\' THEN\r\n	\'证券公司短期融资券\'\r\nWHEN b.Bond_Subtype = \'SES\'\r\nAND b.External_Type = \'NCB\' THEN\r\n	\'证券公司次级债\'\r\nWHEN b.Bond_Subtype = \'HJB\' THEN\r\n	\'汇金债\'\r\nWHEN b.External_Type = \'CPB\'\r\nAND b.Bond_Subtype = \'CCP\' THEN\r\n	\'中央企业短期融资券\'\r\nWHEN b.External_Type = \'SCP\'\r\nAND b.Bond_Subtype = \'CSP\' THEN\r\n	\'中央企业超短期融资券\'\r\nWHEN b.External_Type = \'CPB\'\r\nAND b.Bond_Subtype = \'LCP\' THEN\r\n	\'地方企业短期融资券\'\r\nWHEN b.External_Type = \'SCP\'\r\nAND b.Bond_Subtype = \'LSP\' THEN\r\n	\'地方企业超短期融资券\'\r\nWHEN b.External_Type = \'MTN\'\r\nAND b.Bond_Subtype = \'CMN\' THEN\r\n	\'中央企业中期票据\'\r\nWHEN b.External_Type = \'MTN\'\r\nAND b.Bond_Subtype = \'LMN\' THEN\r\n	\'地方企业中期票据\'\r\nWHEN b.Ent_Cor = \'ENT\'\r\nAND b.External_Type = \'EPB\'\r\nAND b.Bond_Subtype = \'CEB\' THEN\r\n	\'中央企业债\'\r\nWHEN b.Ent_Cor = \'ENT\'\r\nAND b.External_Type = \'EPB\'\r\nAND b.Bond_Subtype = \'LEB\' THEN\r\n	\'地方企业债\'\r\nWHEN b.Ent_Cor = \'COP\'\r\nAND b.External_Type = \'EPB\'\r\nAND b.Bond_Subtype IN (\'CEB\', \'LEB\') THEN\r\n	\'公司债\'\r\nWHEN b.Ent_Cor = \'COP\'\r\nAND b.External_Type = \'PPN\'\r\nAND b.Bond_Subtype = \'PPN\' THEN\r\n	\'非公开公司债\'\r\nWHEN b.Bond_Type = \'ABS\'\r\nAND b.Bond_Subtype = \'AMP\' THEN\r\n	\'专项资产管理计划\'\r\nWHEN b.Bond_Type = \'ABS\'\r\nAND b.Bond_Subtype = \'LBS\' THEN\r\n	\'信贷资产证券化信托\'\r\nWHEN b.Bond_Type = \'ABS\'\r\nAND b.Bond_Subtype = \'CBS\' THEN\r\n	\'个人汽车抵押贷款证券化信托\'\r\nWHEN b.Bond_Type = \'ABS\'\r\nAND b.Bond_Subtype = \'MBS\' THEN\r\n	\'个人住房抵押贷款证券化信托\'\r\nWHEN b.Ent_Cor = \'ENT\'\r\nAND b.External_Type = \'EPB\'\r\nAND b.Bond_Subtype = \'CCB\' THEN\r\n	\'集合企业债\'\r\nWHEN b.External_Type = \'SMN\' THEN\r\n	\'集合票据\'\r\nWHEN b.Bond_Subtype = \'SCV\'\r\nAND b.Full_Name NOT LIKE \'%交换%\' THEN\r\n	\'可分离可转债\'\r\nWHEN b.Bond_Subtype = \'CVB\'\r\nOR (\r\n	b.Bond_Subtype = \'SCV\'\r\n	AND b.Full_Name LIKE \'%交换%\'\r\n) THEN\r\n	\'不可分离可转债\'\r\nWHEN b.Bond_Type = \'NCD\'\r\nAND b.Bond_Subtype = \'MCD\' THEN\r\n	\'五大行同业存单\'\r\nWHEN b.Bond_Type = \'NCD\'\r\nAND b.Bond_Subtype = \'SPD\' THEN\r\n	\'政策性银行同业存单\'\r\nWHEN b.Bond_Type = \'NCD\'\r\nAND b.Bond_Subtype = \'SHD\' THEN\r\n	\'股份制银行同业存单\'\r\nWHEN b.Bond_Type = \'NCD\'\r\nAND b.Bond_Subtype = \'CCD\' THEN\r\n	\'城商行同业存单\'\r\nWHEN b.Bond_Type = \'NCD\'\r\nAND b.Bond_Subtype = \'RRD\' THEN\r\n	\'三农机构同业存单\'\r\nWHEN b.Bond_Type = \'NCD\'\r\nAND b.Bond_Subtype = \'RTD\' THEN\r\n	\'村镇银行同业存单\'\r\nWHEN b.Bond_Type = \'NCD\'\r\nAND b.Bond_Subtype = \'FRD\' THEN\r\n	\'外资银行同业存单\'\r\nWHEN b.Bond_Type = \'NCD\'\r\nAND b.Bond_Subtype = \'OTD\' THEN\r\n	\'其他金融机构同业存单\'\r\nWHEN b.Bond_Subtype = \'RAB\' THEN\r\n	\'铁道债\'\r\nWHEN b.Bond_Subtype = \'TET\' THEN\r\n	\'二级资本工具\'\r\nWHEN b.Bond_Subtype = \'INT\' THEN\r\n	\'国际机构债\'\r\nWHEN b.Bond_Subtype = \'PDB\' THEN\r\n	\'熊猫债\'\r\nELSE\r\n	\'\'\r\nEND AS Bond_Subtype\r\nFROM\r\n	p_bond_list_info AS a\r\nINNER JOIN bond AS b ON a.Bond_Key = b.Bond_Key','(\r\n		CASE\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date < b.Maturity_Date\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date >= b.Maturity_Date\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NULL\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		ELSE\r\n			0\r\n		END\r\n	) = 1',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (80,1,'ClosingPrice','1',1,2,1,'select Short_Name,Bond_ID,Valuate_Date,Remaining_Year,Val_Intraday_Dirty_Price,Val_Intraday_Accrued_Interest,Val_Clean_Price,Val_Yield,Val_Modified_Duration,Val_Convexity,Val_Basis_Point_Value,Val_Spread_Duration,Val_Spread_Convexity,Market_Dirty_Price,Market_Clean_Price,Market_Yield,Market_Modified_Duration,Market_Convexity,Market_Basis_Point_Value,Market_Spread_Duration,Market_Spread_Convexity,Credibility,Val_Rate_Duration,Val_Rate_Convexity,Market_Rate_Duration,Market_Rate_Convexity,Val_Closed_Dirty_Price,Val_Closed_Accrued_Interest,Listed_Market from cdc_bond_valuation','Valuate_Date = (select max(Valuate_Date) from cdc_bond_valuation where Valuate_Date <= curdate())',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (81,1,'cronjob_dal_qb_50135_7Days','1',1,2,1,'select [columns] from cronjob_dal_qb_50135_7Days','',1,'time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (82,1,'cronjob_dal_qb_50135_90Days','1',1,2,1,'select [columns] from cronjob_dal_qb_50135_90Days','',1,'time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (83,1,'csi_bond_valuation','1,3',1,2,1,'select [columns] from csi_bond_valuation','',1,'Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (84,1,'customer_vouchers','1',1,2,1,'select [columns] from customer_vouchers','',1,'voucher_date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (85,1,'customer_vouchers_sale','1',1,2,1,'select [columns] from customer_vouchers_sale','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (86,1,'customer_vouchers_stream','1',1,2,1,'select [columns] from customer_vouchers_stream','',1,'expiring_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (87,1,'daily_bond_rate','1',1,2,1,'select [columns] from daily_bond_rate','',1,'Input_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (88,1,'daily_bond_rate_deal','1',1,2,1,'select [columns] from daily_bond_rate_deal','',1,'Input_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (89,1,'daily_bond_rate_item','1',1,2,1,'select [columns] from daily_bond_rate_item','',1,'Input_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (90,1,'debt_rating','1',1,2,1,'SELECT\r\n	CASE\r\nWHEN a.Bond_ID IS NOT NULL\r\nAND a.Listed_Market = \'CIB\' THEN\r\n	CONCAT(\r\n		SUBSTRING_INDEX(a.Bond_ID, \".\", 1),\r\n		\'.IB\'\r\n	)\r\nELSE\r\n	a.Bond_ID\r\nEND AS Bond_ID,\r\n a.Short_Name,\r\n a.Bond_Key,\r\n c.Rating_Date,\r\n c.Rating_Institution_Code,\r\n d.Full_Name_C AS Rating_Institution_Name,\r\n c.Bond_Rating AS Rate\r\nFROM\r\n	p_bond_list_info AS a\r\nINNER JOIN bond AS b ON a.Bond_Key = b.Bond_Key\r\nINNER JOIN p_bond_rating c ON a.Bond_Key = c.Bond_Key\r\nINNER JOIN institution d ON c.Rating_Institution_Code = d.Institution_Code','(\r\n		CASE\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date < b.Maturity_Date\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date >= b.Maturity_Date\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NULL\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		ELSE\r\n			0\r\n		END\r\n	) = 1',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (91,1,'dict_macro_base_index_values','1',1,2,1,'select [columns] from dict_macro_base_index_values','',1,'Index_Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (92,1,'DOWNLOAD_BOND','1',1,2,1,'select 1','',1,'','binson','2017-05-18 16:58:11','','E:\\bond','csv','');
INSERT INTO `t_api` VALUES (93,1,'flo','2',1,2,1,'select 1','',1,'','binson','2016-12-14 17:30:01','','','','');
INSERT INTO `t_api` VALUES (94,1,'floating_coupon','1,3',1,2,1,'SELECT [columns] FROM\r\n(SELECT * from (SELECT CASE WHEN p_bond_list_info.Bond_ID IS NOT NULL AND p_bond_list_info.Listed_Market = \'CIB\' THEN CONCAT(p_bond_list_info.Bond_ID,\'.IB\') \r\nELSE p_bond_list_info.Bond_ID END as Bond_Id, p_bond_list_info.Short_Name as Short_Name, cash_flow.* FROM \r\n(SELECT p_cash_flow.Bond_Key as Bond_Key, p_cash_flow.Coupon_Rate_Spread as Spread, p_cash_flow.Index_Rate as Index_Rate, \r\np_cash_flow.Coupon_Rate_Current as Coupon_Rate, DATE_FORMAT(p_cash_flow.Payment_Date,\'%Y-%m-%d\') AS Payment_Date \r\nFROM p_cash_flow INNER JOIN bond ON p_cash_flow.Bond_Key = bond.Bond_Key WHERE bond.FRN_Index_ID IS NOT NULL ORDER BY p_cash_flow.Payment_Date) as cash_flow \r\nINNER JOIN p_bond_list_info ON cash_flow.Bond_Key = p_bond_list_info.Bond_Key WHERE cash_flow.Payment_Date <= NOW()) as fc1\r\nUNION ALL \r\nSELECT * FROM (SELECT CASE WHEN p_bond_list_info.Bond_ID IS NOT NULL AND p_bond_list_info.Listed_Market = \'CIB\' THEN CONCAT(p_bond_list_info.Bond_ID,\'.IB\') \r\nELSE p_bond_list_info.Bond_ID END as Bond_Id, p_bond_list_info.Short_Name as Short_Name, cash_flow.* FROM \r\n(SELECT p_cash_flow.Bond_Key as Bond_Key, p_cash_flow.Coupon_Rate_Spread as Spread, p_cash_flow.Index_Rate as Index_Rate, \r\np_cash_flow.Coupon_Rate_Current as Coupon_Rate, DATE_FORMAT(p_cash_flow.Payment_Date,\'%Y-%m-%d\') AS Payment_Date \r\nFROM p_cash_flow INNER JOIN bond ON p_cash_flow.Bond_Key = bond.Bond_Key WHERE bond.FRN_Index_ID IS NOT NULL ORDER BY p_cash_flow.Payment_Date) as cash_flow \r\nINNER JOIN p_bond_list_info ON cash_flow.Bond_Key = p_bond_list_info.Bond_Key WHERE cash_flow.Payment_Date > NOW()) as fc2 GROUP BY fc2.Bond_Key) \r\nas result','',1,'','yangxb','2017-07-31 10:19:13','点石债券付息债票面利率查询','','','');
INSERT INTO `t_api` VALUES (95,1,'float_interest_rate','1',1,2,1,'SELECT CASE WHEN a.Bond_ID IS NOT NULL AND a.Listed_Market = \'CIB\' THEN CONCAT(SUBSTRING_INDEX(a.Bond_ID, \'.\', 1), \'.IB\') \n            ELSE a.Bond_ID END AS Bond_ID\n     , a.Short_Name\n     , a.Bond_Key\n     , b.FRN_Index_ID\n     , b.Fixing_MA_Days\n     , b.Fixing_Digit\n     , b.Fixing_Frequency\n     , b.Reset_Effective\n     , b.Fixing_Preceds\n     , b.Flr \n	 , b.Cap\nFROM p_bond_list_info AS a \nINNER JOIN bond AS b ON a.Bond_Key = b.Bond_Key','(CASE\r\n          WHEN a.Delisted_Date IS NOT NULL AND b.Maturity_Date IS NOT NULL AND a.Delisted_Date < b.Maturity_Date AND a.Delisted_Date >= CURRENT_DATE() THEN 1\r\n          WHEN a.Delisted_Date IS NOT NULL AND b.Maturity_Date IS NOT NULL AND a.Delisted_Date >= b.Maturity_Date AND b.Maturity_Date >= CURRENT_DATE() THEN 1\r\n          WHEN a.Delisted_Date IS NOT NULL AND b.Maturity_Date IS NULL AND a.Delisted_Date >= CURRENT_DATE() THEN 1\r\n          WHEN a.Delisted_Date IS NULL AND b.Maturity_Date IS NOT NULL AND b.Maturity_Date >= CURRENT_DATE() THEN 1\r\n          ELSE 0 END) = 1\r\n      AND b.FRN_Index_ID IS NOT NULL AND b.FRN_Index_ID <> \'\'',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (96,1,'FXSpotStream','1',1,2,1,'select [columns] from FXSpotStream','',1,'kline_date:date','sky','2016-09-19 14:47:18','','','','');
INSERT INTO `t_api` VALUES (97,1,'FXSwapStream','1',1,2,1,'select [columns] from FXSwapStream','',1,'createTime:date','sky','2016-09-19 14:48:48','','','','');
INSERT INTO `t_api` VALUES (98,1,'GET_CACHE','2',1,2,1,'select 1','',1,'','binson','2016-12-14 17:30:01','','','','');
INSERT INTO `t_api` VALUES (99,1,'GET_CACHE_KEYS','2',1,2,1,'select 1','',1,'','binson','2016-12-14 17:30:01','','','','');
INSERT INTO `t_api` VALUES (100,1,'GkhIndex','1',1,2,1,'select [columns] from GkhIndex','',1,'Date:date','sky','2016-09-19 14:50:26','','','','');
INSERT INTO `t_api` VALUES (101,1,'GkhIndexDescription','1',1,2,1,'select [columns] from GkhIndexDescription','',1,'ModifyTime:date','sky','2016-09-19 14:51:21','','','','');
INSERT INTO `t_api` VALUES (102,1,'guarantor','1',1,2,1,'SELECT\r\n	Bond_ID,\r\n	Short_Name,\r\n	Bond_Key,\r\n	REPLACE (\r\n		GROUP_CONCAT(Warranter),\r\n		\',\',\r\n		\'|\'\r\n	) AS Guarantor_Code,\r\n	REPLACE (\r\n		GROUP_CONCAT(Full_Name_C),\r\n		\',\',\r\n		\'|\'\r\n	) AS Guarantor_Name\r\nFROM\r\n	(\r\n		SELECT\r\n			CASE\r\n		WHEN a.Bond_ID IS NOT NULL\r\n		AND a.Listed_Market = \'CIB\' THEN\r\n			CONCAT(\r\n				SUBSTRING_INDEX(a.Bond_ID, \".\", 1),\r\n				\'.IB\'\r\n			)\r\n		ELSE\r\n			a.Bond_ID\r\n		END AS Bond_ID,\r\n		a.Short_Name,\r\n		a.Bond_Key,\r\n		b.Warranter,\r\n		c.Full_Name_C\r\n	FROM\r\n		p_bond_list_info AS a\r\n	INNER JOIN (\r\n		SELECT\r\n			bond_key,\r\n			Maturity_Date,\r\n			Warranter\r\n		FROM\r\n			bond\r\n		WHERE\r\n			Warranter NOT LIKE \'%|%\'\r\n		UNION\r\n			SELECT\r\n				bond_key,\r\n				Maturity_Date,\r\n				SUBSTRING_INDEX(\r\n					SUBSTRING_INDEX(Warranter, \'|\', 1),\r\n					\'|\',\r\n					- 1\r\n				) AS Warranter\r\n			FROM\r\n				bond\r\n			WHERE\r\n				Warranter LIKE \'%|%\'\r\n			UNION\r\n				SELECT\r\n					bond_key,\r\n					Maturity_Date,\r\n					SUBSTRING_INDEX(\r\n						SUBSTRING_INDEX(Warranter, \'|\', 2),\r\n						\'|\',\r\n						- 1\r\n					) AS Warranter\r\n				FROM\r\n					bond\r\n				WHERE\r\n					Warranter LIKE \'%|%\'\r\n				UNION\r\n					SELECT\r\n						bond_key,\r\n						Maturity_Date,\r\n						SUBSTRING_INDEX(\r\n							SUBSTRING_INDEX(Warranter, \'|\', 3),\r\n							\'|\',\r\n							- 1\r\n						) AS Warranter\r\n					FROM\r\n						bond\r\n					WHERE\r\n						Warranter LIKE \'%|%\'\r\n					UNION\r\n						SELECT\r\n							bond_key,\r\n							Maturity_Date,\r\n							SUBSTRING_INDEX(\r\n								SUBSTRING_INDEX(Warranter, \'|\', 4),\r\n								\'|\',\r\n								- 1\r\n							) AS Warranter\r\n						FROM\r\n							bond\r\n						WHERE\r\n							Warranter LIKE \'%|%\'\r\n	) AS b ON a.Bond_Key = b.Bond_Key\r\n	INNER JOIN institution AS c ON b.Warranter = c.Institution_Code\r\n	WHERE\r\n		(\r\n			CASE\r\n			WHEN a.Delisted_Date IS NOT NULL\r\n			AND b.Maturity_Date IS NOT NULL\r\n			AND a.Delisted_Date < b.Maturity_Date\r\n			AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n				1\r\n			WHEN a.Delisted_Date IS NOT NULL\r\n			AND b.Maturity_Date IS NOT NULL\r\n			AND a.Delisted_Date >= b.Maturity_Date\r\n			AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n				1\r\n			WHEN a.Delisted_Date IS NOT NULL\r\n			AND b.Maturity_Date IS NULL\r\n			AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n				1\r\n			WHEN a.Delisted_Date IS NULL\r\n			AND b.Maturity_Date IS NOT NULL\r\n			AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n				1\r\n			ELSE\r\n				0\r\n			END\r\n		) = 1\r\n	) d','Warranter IS NOT NULL\r\nAND Warranter <> \'\'\r\nGROUP BY\r\n	Bond_ID,\r\n	Short_Name,\r\n	Bond_Key',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (103,1,'HOLIDAY_INFO','1',1,2,1,'select [columns] from holiday_info','delflag=0',1,'holiday_date:date','sky','2016-08-25 18:31:43','','','','');
INSERT INTO `t_api` VALUES (104,1,'indicative_price_width','1',1,2,1,'select [columns] from indicative_price_width','',1,'','sky','2016-09-19 14:52:16','','','','');
INSERT INTO `t_api` VALUES (105,1,'institution','1,3',1,2,1,'select [columns] from institution','delflag = 0',1,'','sky','2016-09-19 09:55:15','机构信息','','','');
INSERT INTO `t_api` VALUES (106,1,'institution_info','1,3',1,2,1,'select [columns] from institution_info','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (107,1,'irs_last_market_stream','1,3',1,2,1,'select [columns] from irs_last_market_stream','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (108,1,'irs_market_stream','1',1,2,1,'select [columns] from irs_market_stream','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (109,1,'irs_market_stream_cdh','1',1,2,1,'select [columns] from irs_market_stream_cdh','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (110,1,'irs_reminder','1',1,2,1,'select [columns] from irs_reminder','',1,'update_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (111,1,'issuer_rating_info','1,3',1,2,1,'\r\nSELECT ir.Institution_Code AS Issuer_Code, \r\nir.Institution_Type AS Rating_Type, \r\nir.Rate AS Rate, \r\nir.Outlook AS Outlook,\r\nir.Rating_Date AS Rating_Date,\r\nir.Rating_Institution_Code AS Rating_Insittution_Code, \r\ninst.Full_Name_C AS Rating_Institution_Full_Name, \r\ninst.Short_Name_C AS Rating_Institution_Short_Name, \r\nir.create_date AS create_date, \r\nir.modify_date AS modify_date\r\nFROM p_institution_rating ir\r\n             LEFT JOIN institution inst ON ir.Rating_Institution_Code = inst.Institution_Code AND inst.delflag=0\r\n             ','ir.delflag=0',1,'','yangxb','2017-08-15 10:36:09','发行人评级查询','','','');
INSERT INTO `t_api` VALUES (112,1,'macro_base_index_values','1,3',1,2,1,'select [columns] from macro_base_index_values','',1,'Index_Date:date','sky','2016-08-26 15:07:22','','','','');
INSERT INTO `t_api` VALUES (113,1,'MMQuotaContacts','1',1,2,1,'select [columns] from MMQuotaContacts','',1,'SendTime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (114,1,'MMQuotation','1',1,2,1,'select [columns] from MMQuotation','',1,'ExpirationTime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (115,1,'MMRecvContacts','1',1,2,1,'select [columns] from MMRecvContacts','',1,'SendTime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (116,1,'MMRecvQuotation','1',1,2,1,'select [columns] from MMRecvQuotation','',1,'ExpirationTime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (118,1,'ncd_data','1',1,2,1,'SELECT [columns] FROM bond INNER JOIN institution_info ON bond.Issuer_Code = institution_info.Institution_Code','',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (119,1,'negotiable_bond_info','1,3',1,2,1,'\r\nSELECT CASE lis.Listed_Market WHEN \'CIB\' THEN CONCAT(lis.Bond_Id, \'.IB\') ELSE lis.Bond_Id END AS Bond_Code, lis.Bond_Id AS Bond_id, lis.Listed_Market AS Listed_Market, lis.Bond_Key AS Bond_key, lis.Short_Name AS Bond_Name, cf.Conversion_Rate AS Conversion_Rate, Listed_Date, Delisted_Date, PINYIN, PINYIN_FULL\r\nFROM p_bond_list_info AS  lis\r\nLEFT JOIN p_conversion_factor  AS cf ON lis.bond_Id = cf.bond_id AND lis.Listed_Market = cf.Listed_mkt_type AND cf.conversion_start_date <= CURDATE() AND CURDATE() <= cf.conversion_end_date AND cf.delflag=0','lis.delflag=0',1,'','yangxb','2017-08-15 10:25:25','流通债券信息','','','');
INSERT INTO `t_api` VALUES (120,1,'OTCDayConvention','1',1,2,1,'select [columns] from OTCDayConvention','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (121,1,'OTCFavoriteList','1',1,2,1,'select [columns] from OTCFavoriteList','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (122,1,'OTCFutureOptionForeOffer','1',1,2,1,'select [columns] from OTCFutureOptionForeOffer','',1,'TimePushed:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (123,1,'OTCFutureOptionSetting','1',1,2,1,'select [columns] from OTCFutureOptionSetting','',1,'UpdateTime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (124,1,'OTCFutureOptionStream','1',1,2,1,'select [columns] from OTCFutureOptionStream','',1,'TimeUpdated:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (125,1,'OTCInstitutionInfo','1',1,2,1,'select [columns] from OTCInstitutionInfo','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (126,1,'primary_center_bond_quot','1',1,2,1,'select [columns] from primary_center_bond_quot','',1,'update_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (127,1,'primary_center_bond_quot_history','1',1,2,1,'select [columns] from primary_center_bond_quot_history','',1,'update_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (128,1,'primary_center_bond_top','1',1,2,1,'select [columns] from primary_center_bond_top','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (129,1,'primary_institution_info','1',1,2,1,'select [columns] from primary_institution_info','',1,'create_date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (130,1,'principal_repayment_details','1',1,2,1,'SELECT\r\n	CASE\r\nWHEN a.Bond_ID IS NOT NULL\r\nAND a.Listed_Market = \'CIB\' THEN\r\n	CONCAT(\r\n		SUBSTRING_INDEX(a.Bond_ID, \".\", 1),\r\n		\'.IB\'\r\n	)\r\nELSE\r\n	a.Bond_ID\r\nEND AS Bond_ID,\r\n a.Short_Name,\r\n a.Bond_Key,\r\n DATE_FORMAT(c.Payment_Date, \'%Y-%m-%d\') AS Payment_Date,\r\n \'\' + c.Principal AS Principal\r\nFROM\r\n	p_bond_list_info AS a\r\nINNER JOIN bond AS b ON a.Bond_Key = b.Bond_Key\r\nINNER JOIN p_cash_flow c ON a.Bond_Key = c.Bond_Key','(\r\n		CASE\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date < b.Maturity_Date\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date >= b.Maturity_Date\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NULL\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		ELSE\r\n			0\r\n		END\r\n	) = 1\r\nAND (\r\n	(\r\n		b.Redemption_Str IS NOT NULL\r\n		AND b.Redemption_Str <> \'\'\r\n	)\r\n	OR (\r\n		b.Redemption_No IS NOT NULL\r\n		AND b.Redemption_No <> \'\'\r\n	)\r\n)\r\nAND c.Principal > 0',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (131,1,'profit','1',1,2,1,'SELECT\r\n	a.Institution_Code,\r\n	b.Full_Name_C AS Institution_Name,\r\n	DATE_FORMAT(a.END_DATE, \"%Y-%m-%d\") AS END_DATE,\r\n	a.PF_01,\r\n	a.PF_02,\r\n	a.PF_03,\r\n	a.PF_0301,\r\n	a.PF_0302,\r\n	a.PF_0303,\r\n	a.PF_04,\r\n	a.PF_05,\r\n	a.PF_06,\r\n	a.PF_0601,\r\n	a.PF_0602,\r\n	a.PF_0603,\r\n	a.PF_0604,\r\n	a.PF_0605,\r\n	a.PF_0606,\r\n	a.PF_0607,\r\n	a.PF_07,\r\n	a.PF_08,\r\n	a.PF_09,\r\n	a.PF_10,\r\n	a.PF_11,\r\n	a.PF_12,\r\n	a.PF_13,\r\n	a.PF_14,\r\n	a.PF_15,\r\n	a.PF_16,\r\n	a.PF_17,\r\n	a.PF_18,\r\n	a.PF_19,\r\n	a.PF_20,\r\n	a.PF_33,\r\n	a.PF_21,\r\n	a.PF_22,\r\n	a.PF_23,\r\n	a.PF_34,\r\n	a.PF_24,\r\n	a.PF_25,\r\n	a.PF_26,\r\n	a.PF_27,\r\n	a.PF_28,\r\n	a.PF_29,\r\n	a.PF_30,\r\n	a.PF_31,\r\n	a.PF_32\r\nFROM\r\n	ss_finance.p_gen_data a\r\nINNER JOIN ss_product.institution b ON a.Institution_Code = b.Institution_Code','',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (132,1,'purchase_bond_note','1',1,2,1,'select [columns] from purchase_bond_note','',1,'updatetime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (133,1,'p_additional_issue_info','1',1,2,1,'select [columns] from p_additional_issue_info','delflag = 0',1,'','sky','2016-09-19 10:06:19','增续发信息','','','');
INSERT INTO `t_api` VALUES (134,1,'p_auction_info','1,3',1,2,1,'select [columns] from p_auction_info','delflag = 0',1,'','sky','2016-09-19 10:05:10','招投标信息','','','');
INSERT INTO `t_api` VALUES (135,1,'p_bond_attribute','1',1,2,1,'select [columns] from p_bond_attribute','delflag = 0',1,'','sky','2016-09-19 09:57:01','债券属性','','','');
INSERT INTO `t_api` VALUES (136,1,'p_bond_coupon_rate','1',1,2,1,'select [columns] from p_bond_coupon_rate','delflag = 0',1,'','sky','2016-09-19 10:09:12','票面信息','','','');
INSERT INTO `t_api` VALUES (137,1,'p_bond_file','1',1,2,1,'select [columns] from p_bond_file','delflag = 0',1,'Date:number','sky','2016-09-19 10:10:08','债券公告','','','');
INSERT INTO `t_api` VALUES (138,1,'p_bond_list_info','1',1,2,1,'select [columns] from p_bond_list_info','delflag = 0',1,'Listed_Date:number','sky','2017-08-30 15:43:00','','','','');
INSERT INTO `t_api` VALUES (139,1,'p_bond_market_type','1',1,2,1,'select [columns] from p_bond_market_type','',1,'Listed_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (140,1,'p_bond_rating','1',1,2,1,'select [columns] from p_bond_rating','delflag = 0',1,'','sky','2016-09-19 09:58:18','债项评级','','','');
INSERT INTO `t_api` VALUES (141,1,'p_cash_flow','1',1,2,1,'select [columns] from p_cash_flow','',1,'Payment_Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (142,1,'p_conversion_factor','1,3',1,2,1,'select [columns] from p_conversion_factor','',1,'conversion_start_date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (143,1,'p_daily_bond_rate_permission','1',1,2,1,'select [columns] from p_daily_bond_rate_permission','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (144,1,'p_dict_holiday','1',1,2,1,'select [columns] from p_dict_holiday','',1,'Holiday:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (145,1,'p_dict_macro_index','1',1,2,1,'select [columns] from p_dict_macro_index','',1,'Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (146,1,'p_dict_qb_bond_list','1',1,2,1,'select [columns] from p_dict_qb_bond_list','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (147,1,'p_fx_market_stream','1',1,2,1,'select [columns] from p_fx_market_stream','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (148,1,'p_guarantor_info','1',1,2,1,'select [columns] from p_guarantor_info','delflag = 0',1,'','sky','2016-09-19 10:03:20','担保人信息','','','');
INSERT INTO `t_api` VALUES (149,1,'p_idb_financial_company','1',1,2,1,'select [columns] from p_idb_financial_company','',1,'CREATE_TIME:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (150,1,'p_institution_rating','1',1,2,1,'select [columns] from p_institution_rating','delflag = 0',1,'','sky','2016-09-19 10:01:20','机构评级','','','');
INSERT INTO `t_api` VALUES (151,1,'p_irs_market_stream','1,3',1,2,1,'select [columns] from p_irs_market_stream','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (152,1,'p_issuer_info','1,3',1,2,1,'select [columns] from p_issuer_info','',1,'create_date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (153,1,'p_issuer_info_en','1',1,2,1,'select [columns] from p_issuer_info_en','',1,'create_date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (154,1,'p_issue_payment_m','1',1,2,1,'select [columns] from p_issue_payment_m','',1,'Begin_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (155,1,'p_macro_index_cpi_1m','1',1,2,1,'select [columns] from p_macro_index_cpi_1m','',1,'Index_Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (156,1,'p_macro_index_cpi_food_1m','1',1,2,1,'select [columns] from p_macro_index_cpi_food_1m','',1,'Index_Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (157,1,'p_macro_index_cpi_non_food_1m','1',1,2,1,'select [columns] from p_macro_index_cpi_non_food_1m','',1,'Index_Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (158,1,'p_macro_index_currency_1m','1',1,2,1,'select [columns] from p_macro_index_currency_1m','',1,'Index_Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (159,1,'p_macro_index_currency_deposit_ratio_1m','1',1,2,1,'select [columns] from p_macro_index_currency_deposit_ratio_1m','',1,'Index_Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (160,1,'p_macro_index_currency_fx_funds_1m','1',1,2,1,'select [columns] from p_macro_index_currency_fx_funds_1m','',1,'Index_Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (161,1,'p_macro_index_currency_mo_cash_1m','1',1,2,1,'select [columns] from p_macro_index_currency_mo_cash_1m','',1,'Index_Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (162,1,'p_macro_index_currency_op_1m','1',1,2,1,'select [columns] from p_macro_index_currency_op_1m','',1,'Index_Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (163,1,'p_macro_index_currency_ultrastorage_1m','1',1,2,1,'select [columns] from p_macro_index_currency_ultrastorage_1m','',1,'Index_Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (164,1,'p_macro_index_efficiency_1m','1',1,2,1,'select [columns] from p_macro_index_efficiency_1m','',1,'Index_Date:date','sky','2016-09-19 14:47:18','','','','');
INSERT INTO `t_api` VALUES (165,1,'p_macro_index_efficiency_profit_1m','1',1,2,1,'select [columns] from p_macro_index_efficiency_profit_1m','',1,'Index_Date:date','sky','2016-09-19 14:48:48','','','','');
INSERT INTO `t_api` VALUES (166,1,'p_macro_index_industry_1m','1',1,2,1,'select [columns] from p_macro_index_industry_1m','',1,'Index_Date:date','sky','2016-09-19 14:50:26','','','','');
INSERT INTO `t_api` VALUES (167,1,'p_macro_index_industry_area_1m','1',1,2,1,'select [columns] from p_macro_index_industry_area_1m','',1,'Index_Date:date','sky','2016-09-19 14:51:21','','','','');
INSERT INTO `t_api` VALUES (168,1,'p_macro_index_industry_industry_1m','1',1,2,1,'select [columns] from p_macro_index_industry_industry_1m','',1,'Index_Date:date','sky','2016-09-19 14:52:16','','','','');
INSERT INTO `t_api` VALUES (169,1,'p_macro_index_industry_product_1m','1',1,2,1,'select [columns] from p_macro_index_industry_product_1m','',1,'Index_Date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (170,1,'p_mm_info','1',1,2,1,'select [columns] from p_mm_info','',1,'create_date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (171,1,'p_ncd','1',1,2,1,'select [columns] from p_ncd','',1,'Maturity_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (172,1,'p_ncd_fundamental_info','1',1,2,1,'select [columns] from p_ncd_fundamental_info','',1,'Maturity_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (173,1,'p_ncd_issue_info','1',1,2,1,'select [columns] from p_ncd_issue_info','',1,'create_date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (174,1,'p_option_exercise_info','1,3',1,2,1,'select [columns] from p_option_exercise_info','delflag = 0',1,'','sky','2016-09-19 10:08:04','行权信息','','','');
INSERT INTO `t_api` VALUES (175,1,'p_province_info','1',1,2,1,'select [columns] from p_province_info','',1,'create_date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (176,1,'p_public_option_d','1',1,2,1,'select [columns] from p_public_option_d','',1,'Op_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (177,1,'p_rate_info','1',1,2,1,'select [columns] from p_rate_info','',1,'create_date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (178,1,'p_rating_augment_gua','1',1,2,1,'select [columns] from p_rating_augment_gua','',1,'Guarantee_Start_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (179,1,'p_rating_augment_lgf','1',1,2,1,'select [columns] from p_rating_augment_lgf','',1,'CF_Start_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (180,1,'p_rating_augment_liq','1',1,2,1,'select [columns] from p_rating_augment_liq','',1,'create_date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (181,1,'p_rating_augment_sec','1',1,2,1,'select [columns] from p_rating_augment_sec','',1,'SEC_Start_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (182,1,'p_reminder','1',1,2,1,'select [columns] from p_reminder','',1,'Start_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (183,1,'p_sector_operate_info','1',1,2,1,'select [columns] from p_sector_operate_info','',1,'Rating_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (184,1,'p_selective_info','1,3',1,2,1,'select [columns] from p_selective_info','',1,'create_date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (185,1,'p_sw_sector_info','1',1,2,1,'select [columns] from p_sw_sector_info','',1,'create_date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (186,1,'p_tf_deliverable_info','1',1,2,1,'select [columns] from p_tf_deliverable_info','delflag = 0',1,'','sky','2016-09-02 10:14:12','','','','');
INSERT INTO `t_api` VALUES (187,1,'p_underwriter_info','1',1,2,1,'select [columns] from p_underwriter_info','',1,'','sky','2016-09-02 14:51:40','','','','');
INSERT INTO `t_api` VALUES (188,1,'qbusr_qq','1',1,2,1,'select [columns] from qbusr_qq','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (189,1,'qbusr_qq_contact_rec','1',1,2,1,'select [columns] from qbusr_qq_contact_rec','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (190,1,'qb_benchmark_interest_rate','1',1,2,1,'select [columns] from qb_benchmark_interest_rate','',1,'Index_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (191,1,'qb_BondQuotation','1',1,2,1,'select [columns] from qb_BondQuotation','',1,'ExpirationTime:date','sky','2016-09-19 14:47:18','','','','');
INSERT INTO `t_api` VALUES (192,1,'qb_BondQuotationContact','1',1,2,1,'select [columns] from qb_BondQuotationContact','',1,'OperateTime:date','sky','2016-09-19 14:48:48','','','','');
INSERT INTO `t_api` VALUES (193,1,'qb_BondQuotStream','1',1,2,1,'select [columns] from qb_BondQuotStream','',1,'ExpirationTime:date','sky','2016-09-19 14:50:26','','','','');
INSERT INTO `t_api` VALUES (194,1,'qb_BondRecvedAndRelation','1',1,2,1,'select [columns] from qb_BondRecvedAndRelation','',1,'OperateTime:date','sky','2016-09-19 14:51:21','','','','');
INSERT INTO `t_api` VALUES (195,1,'qb_BondRecvedQuotation','1',1,2,1,'select [columns] from qb_BondRecvedQuotation','',1,'ExpirationTime:date','sky','2016-09-19 14:52:16','','','','');
INSERT INTO `t_api` VALUES (196,1,'qb_bond_deal','1',1,2,1,'select [columns] from qb_bond_deal','',1,'deal_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (197,1,'qb_bond_offer','1',1,2,1,'select [columns] from qb_bond_offer','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (198,1,'qb_condition_group','1',1,2,1,'select [columns] from qb_condition_group','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (199,1,'qb_exchange_repo','1',1,2,1,'select [columns] from qb_exchange_repo','',1,'Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (200,1,'qb_exchange_repo_rate','1',1,2,1,'select [columns] from qb_exchange_repo_rate','',1,'TradingDay:string','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (201,1,'qb_market_stream','1',1,2,1,'select [columns] from qb_market_stream','',1,'time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (202,1,'qb_market_stream_oversea','1',1,2,1,'select [columns] from qb_market_stream_oversea','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (203,1,'qb_MMQuota','1',1,2,1,'select [columns] from qb_MMQuota','',1,'SendTime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (204,1,'qb_MMQuotaSetting','1',1,2,1,'select [columns] from qb_MMQuotaSetting','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (205,1,'qb_MMQuotaStream','1',1,2,1,'select [columns] from qb_MMQuotaStream','',1,'SendTime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (206,1,'qb_MMRecver','1',1,2,1,'select [columns] from qb_MMRecver','',1,'SendTime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (207,1,'qb_MMUserStatus','1',1,2,1,'select [columns] from qb_MMUserStatus','',1,'updateTime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (208,1,'qb_mm_k_line_day','1',1,2,1,'select [columns] from qb_mm_k_line_day','',1,'TradingDay:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (209,1,'qb_MM_weburl','1',1,2,1,'select [columns] from qb_MM_weburl','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (210,1,'qb_money_market_stream','1',1,2,1,'select [columns] from qb_money_market_stream','',1,'Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (211,1,'qb_page_switch_info','1',1,2,1,'select [columns] from qb_page_switch_info','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (212,1,'qb_ReceivedShareAndRelation','1',1,2,1,'select [columns] from qb_ReceivedShareAndRelation','',1,'OperateTime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (213,1,'qb_ReceivedShareQuotations','1',1,2,1,'select [columns] from qb_ReceivedShareQuotations','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (214,1,'qb_reminder','1',1,2,1,'select [columns] from qb_reminder','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (215,1,'qb_reminder_message','1',1,2,1,'select [columns] from qb_reminder_message','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (216,1,'qb_sense_process','1',1,2,1,'select [columns] from qb_sense_process','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (217,1,'qb_sense_process_upload','1',1,2,1,'select [columns] from qb_sense_process_upload','',1,'process_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (218,1,'qb_SharedQuotAndContacts','1',1,2,1,'select [columns] from qb_SharedQuotAndContacts','',1,'OperateTime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (219,1,'qb_SharedQuotation','1',1,2,1,'select [columns] from qb_SharedQuotation','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (220,1,'qb_system_variables','1',1,2,1,'select [columns] from qb_system_variables','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (221,1,'QB_TF_Bond_Reminder','1',1,2,1,'select [columns] from QB_TF_Bond_Reminder','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (222,1,'qb_user_flag','1',1,2,1,'select [columns] from qb_user_flag','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (223,1,'QQAccountInfo','1',1,2,1,'select [columns] from QQAccountInfo','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (224,1,'quote_share_data','1',1,2,1,'select [columns] from quote_share_data','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (225,1,'quote_share_user_friends','1',1,2,1,'select [columns] from quote_share_user_friends','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (226,1,'quotmng_bond_quot','1',1,2,1,'select [columns] from quotmng_bond_quot','',1,'expirationtime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (227,1,'quotmng_bond_quot_operate','1',1,2,1,'select [columns] from quotmng_bond_quot_operate','',1,'operatetime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (228,1,'quotmng_mm_asset','1',1,2,1,'select [columns] from quotmng_mm_asset','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (229,1,'quotmng_mm_quot','1',1,2,1,'select [columns] from quotmng_mm_quot','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (230,1,'quotmng_mm_quot_dim_count','1',1,2,1,'select [columns] from quotmng_mm_quot_dim_count','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (231,1,'quotmng_mm_quot_dim_price','1',1,2,1,'select [columns] from quotmng_mm_quot_dim_price','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (232,1,'quotmng_mm_quot_dim_stdcount','1',1,2,1,'select [columns] from quotmng_mm_quot_dim_stdcount','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (233,1,'quotmng_mm_quot_dim_stdterm','1',1,2,1,'select [columns] from quotmng_mm_quot_dim_stdterm','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (234,1,'quotmng_mm_quot_dim_tags','1',1,2,1,'select [columns] from quotmng_mm_quot_dim_tags','',1,'','sky','2016-09-19 14:47:18','','','','');
INSERT INTO `t_api` VALUES (235,1,'quotmng_mm_quot_dim_term','1',1,2,1,'select [columns] from quotmng_mm_quot_dim_term','',1,'','sky','2016-09-19 14:48:48','','','','');
INSERT INTO `t_api` VALUES (236,1,'quotmng_mm_quot_operate','1',1,2,1,'select [columns] from quotmng_mm_quot_operate','',1,'','sky','2016-09-19 14:50:26','','','','');
INSERT INTO `t_api` VALUES (237,1,'quotmng_mm_res','1',1,2,1,'select [columns] from quotmng_mm_res','',1,'','sky','2016-09-19 14:51:21','','','','');
INSERT INTO `t_api` VALUES (238,1,'quotmng_mm_sharequot','1',1,2,1,'select [columns] from quotmng_mm_sharequot','',1,'','sky','2016-09-19 14:52:16','','','','');
INSERT INTO `t_api` VALUES (239,1,'quotmng_mm_sharequot_dim_count','1',1,2,1,'select [columns] from quotmng_mm_sharequot_dim_count','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (240,1,'quotmng_mm_sharequot_dim_price','1',1,2,1,'select [columns] from quotmng_mm_sharequot_dim_price','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (241,1,'quotmng_mm_sharequot_dim_stdcount','1',1,2,1,'select [columns] from quotmng_mm_sharequot_dim_stdcount','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (242,1,'quotmng_mm_sharequot_dim_stdterm','1',1,2,1,'select [columns] from quotmng_mm_sharequot_dim_stdterm','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (243,1,'quotmng_mm_sharequot_dim_tags','1',1,2,1,'select [columns] from quotmng_mm_sharequot_dim_tags','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (244,1,'quotmng_mm_sharequot_dim_term','1',1,2,1,'select [columns] from quotmng_mm_sharequot_dim_term','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (245,1,'quotmng_mm_sharequot_operate','1',1,2,1,'select [columns] from quotmng_mm_sharequot_operate','',1,'operatetime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (246,1,'quotmng_mm_sharequot_type','1',1,2,1,'select [columns] from quotmng_mm_sharequot_type','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (247,1,'quotmng_mm_sharequot_type_recv','1',1,2,1,'select [columns] from quotmng_mm_sharequot_type_recv','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (248,1,'quotmng_mm_tag','1',1,2,1,'select [columns] from quotmng_mm_tag','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (249,1,'quotmng_mm_type','1',1,2,1,'select [columns] from quotmng_mm_type','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (250,1,'quotmng_mm_usr_assettag','1',1,2,1,'select [columns] from quotmng_mm_usr_assettag','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (251,1,'quotmng_mm_usr_filtertag','1',1,2,1,'select [columns] from quotmng_mm_usr_filtertag','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (252,1,'quotmng_mm_usr_provincetag','1',1,2,1,'select [columns] from quotmng_mm_usr_provincetag','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (253,1,'quotmng_register_userid','1',1,2,1,'select [columns] from quotmng_register_userid','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (254,1,'quotmng_userstatus','1',1,2,1,'select [columns] from quotmng_userstatus','',1,'updatetime:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (255,1,'RATE_INFO','1',1,2,1,'select [columns] from p_rate_info','delflag = 0',1,'create_date:date','sky','2016-08-26 11:38:30','','','','');
INSERT INTO `t_api` VALUES (256,1,'RATE_INFO_WITH_MACRO_BASE_INDEX_VALUE','1',1,2,1,'SELECT * FROM (SELECT p_rate_info.*, macro_base_index_values.Index_Value, macro_base_index_values.Index_Date, macro_base_index_values.Last_Modify_Datetime, macro_base_index_values.Flag, macro_base_index_values.cvalue, macro_base_index_values.Index_Date_Emend FROM p_rate_info LEFT JOIN macro_base_index_values ON p_rate_info.gjk_code = macro_base_index_values.GJK_Code WHERE p_rate_info.delflag = 0) AS temp_rate_info','',1,'create_date:date','sky','2016-08-26 15:47:24','','','','');
INSERT INTO `t_api` VALUES (257,1,'reminder_common_config','1',1,2,1,'select [columns] from reminder_common_config','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (258,1,'remind_condition_mm','1',1,2,1,'select [columns] from remind_condition_mm','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (259,1,'right_to_exercise_information','1',1,2,1,'SELECT CASE WHEN a.Bond_ID IS NOT NULL AND a.Listed_Market = \'CIB\' THEN CONCAT(SUBSTRING_INDEX(a.Bond_ID, \".\", 1), \'.IB\') \r\n            ELSE a.Bond_ID END AS Bond_ID\r\n     , a.Short_Name\r\n     , a.Bond_Key\r\n     , c.Announce_Date\r\n     , c.Start_App_Date\r\n     , c.End_App_Date\r\n     , c.Exercise_Price\r\n     , c.Planned_Exercise_Date\r\n     , c.Option_Exercise_Date\r\n     , c.Exercise_No\r\n     , \'\' + c.Exercise_Settlement as Exercise_Settlement\r\n     , \'\' + c.Remaining as Remaining\r\n     , \'\' + c.Resale_Amount as Resale_Amount\r\nFROM p_bond_list_info AS a \r\nINNER JOIN bond AS b ON a.Bond_Key = b.Bond_Key\r\nINNER JOIN p_option_exercise_info c ON a.Bond_Key = c.Bond_Key','(CASE\r\n          WHEN a.Delisted_Date IS NOT NULL AND b.Maturity_Date IS NOT NULL AND a.Delisted_Date < b.Maturity_Date AND a.Delisted_Date >= CURRENT_DATE() THEN 1\r\n          WHEN a.Delisted_Date IS NOT NULL AND b.Maturity_Date IS NOT NULL AND a.Delisted_Date >= b.Maturity_Date AND b.Maturity_Date >= CURRENT_DATE() THEN 1\r\n          WHEN a.Delisted_Date IS NOT NULL AND b.Maturity_Date IS NULL AND a.Delisted_Date >= CURRENT_DATE() THEN 1\r\n          WHEN a.Delisted_Date IS NULL AND b.Maturity_Date IS NOT NULL AND b.Maturity_Date >= CURRENT_DATE() THEN 1\r\n          ELSE 0 END) = 1 AND c.delflag <> \'1\'',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (260,1,'sch_bond_valuation','1',1,2,1,'select [columns] from sch_bond_valuation','',1,'Valuate_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (261,1,'sector_operate_info','1,3',1,2,1,'SELECT [columns] FROM p_sector_operate_info ','delflag=0',1,'Index_Date:number','yangxb','2017-08-14 17:47:15','发行人的营收','','','');
INSERT INTO `t_api` VALUES (262,1,'SET_CACHE','2',1,2,1,'select 1','',1,'','binson','2016-12-14 17:30:01','','','','');
INSERT INTO `t_api` VALUES (263,1,'shibor_data','1',1,2,1,'SELECT [columns] FROM rate_info INNER JOIN macro_base_index_values ON rate_info.gjk_code = macro_base_index_values.GJK_Code','',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (264,1,'special_conditions_of_bond','1',1,2,1,'SELECT\r\n	CASE\r\nWHEN a.Bond_ID IS NOT NULL\r\nAND a.Listed_Market = \'CIB\' THEN\r\n	CONCAT(\r\n		SUBSTRING_INDEX(a.Bond_ID, \".\", 1),\r\n		\'.IB\'\r\n	)\r\nELSE\r\n	a.Bond_ID\r\nEND AS Bond_ID,\r\n a.Short_Name,\r\n a.Bond_Key,\r\n b.Option_Type,\r\n b.Option_Style,\r\n b.Term_structure,\r\n b.Put_Str,\r\n b.Put_No,\r\n b.Call_Str,\r\n b.Call_No,\r\n b.Redemption_Str,\r\n b.Redemption_No,\r\n b.Ets_Str,\r\n b.Compensate_Rate,\r\n b.Compensate_From,\r\n b.Assign_Trans_Key,\r\n b.Assign_Trans_Str,\r\n b.Assign_Trans_No,\r\n b.First_Exchg_Bond_Key,\r\n b.First_Exchg_No,\r\n b.First_Exchg_Str,\r\n b.Sec_Exchg_No,\r\n b.Sec_Exchg_Year,\r\n b.Option_Exercise\r\nFROM\r\n	p_bond_list_info AS a\r\nINNER JOIN bond AS b ON a.Bond_Key = b.Bond_Key','(\r\n		CASE\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date < b.Maturity_Date\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date >= b.Maturity_Date\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NULL\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		ELSE\r\n			0\r\n		END\r\n	) != 0\r\nAND (\r\n	(\r\n		b.Option_Type IS NOT NULL\r\n		AND b.Option_Type <> \'NON\'\r\n	)\r\n	OR (\r\n		b.Option_Type = \'NON\'\r\n		AND b.Redemption_Str IS NOT NULL\r\n	)\r\n)',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (265,1,'stg_customerservice','1',1,2,1,'select [columns] from stg_customerservice','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (266,1,'stg_institution','1',1,2,1,'select [columns] from stg_institution','',1,'create_date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (267,1,'stg_user','1',1,2,1,'select [columns] from stg_user','',1,'create_date:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (268,1,'subject_rating','1',1,2,1,'SELECT a.Institution_Code\r\n     , b.Full_Name_C AS Institution_Name\r\n     , a.Rating_Date\r\n     , a.Rating_Institution_Code\r\n     , c.Full_Name_C AS Rating_Institution_Name\r\n     , a.Rate\r\n	 , CASE WHEN a.Outlook = \'NON\' THEN NULL ELSE a.Outlook END AS Rating_Outlook\r\nFROM p_institution_rating a\r\nINNER JOIN institution b ON a.Institution_Code = b.Institution_Code\r\nINNER JOIN institution c ON a.Rating_Institution_Code = c.Institution_Code','',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (269,1,'tender_information','1',1,2,1,'SELECT\r\n	CASE\r\nWHEN a.Bond_ID IS NOT NULL\r\nAND a.Listed_Market = \'CIB\' THEN\r\n	CONCAT(\r\n		SUBSTRING_INDEX(a.Bond_ID, \".\", 1),\r\n		\'.IB\'\r\n	)\r\nELSE\r\n	a.Bond_ID\r\nEND AS Bond_ID,\r\n a.Short_Name,\r\n a.Bond_Key,\r\n c.Issue_Type,\r\n c.Auction_Type,\r\n c.Auction_Date,\r\n c.No_Auction,\r\n c.Auction_Time_Start,\r\n c.Auction_Time_End,\r\n \'\' + c.Basic_Underwritering AS Basic_Underwritering,\r\n \'\' + c.Planed_Auction_Amount AS Planed_Auction_Amount,\r\n \'\' + c.First_Issue AS First_Issue,\r\n c.Auction_Cap,\r\n c.Auction_Cap_Unit,\r\n c.Auction_Flr,\r\n c.Auction_Flr_Unit,\r\n c.Step,\r\n c.Step_Unit,\r\n \'\' + c.Basic_Bidding_Unit AS Basic_Bidding_Unit,\r\n \'\' + c.Min_Bid AS Min_Bid,\r\n \'\' + c.Max_Bid AS Max_Bid,\r\n \'\' + c.Actual_Auction_Amount AS Actual_Auction_Amount,\r\n \'\' + c.Add_Issue AS Add_Issue,\r\n c.Num_Auction_Participant,\r\n c.Num_Biding_Company,\r\n c.Num_Bidding,\r\n c.Num_Bidding_Winners,\r\n \'\' + c.Award_Amount AS Award_Amount,\r\n c.Award_Bidding,\r\n c.Invalid_Bidding,\r\n c.L_Winning_Bidding,\r\n c.L_Winning_Bidding_Unit,\r\n c.L_Bidding,\r\n c.L_Bidding_Unit,\r\n c.H_Winning_Bidding,\r\n c.H_Winning_Bidding_Unit,\r\n c.H_Bidding,\r\n c.H_Bidding_Unit,\r\n \'\' + c.Bid_Amount AS Bid_Amount,\r\n c.Valid_Bidding,\r\n \'\' + c.Payment AS Payment,\r\n \'\' + c.Dealers_Award_Amount AS Dealers_Award_Amount,\r\n c.Subscription_Ratio,\r\n \'\' + c.Marginal_Winning_Bidding AS Marginal_Winning_Bidding,\r\n \'\' + c.Marginal_Bidding_Amount AS Marginal_Bidding_Amount\r\nFROM\r\n	p_bond_list_info AS a\r\nINNER JOIN bond AS b ON a.Bond_Key = b.Bond_Key\r\nINNER JOIN p_auction_info c ON a.Bond_Key = c.Bond_Key','(\r\n		CASE\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date < b.Maturity_Date\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND a.Delisted_Date >= b.Maturity_Date\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NOT NULL\r\n		AND b.Maturity_Date IS NULL\r\n		AND a.Delisted_Date >= CURRENT_DATE () THEN\r\n			1\r\n		WHEN a.Delisted_Date IS NULL\r\n		AND b.Maturity_Date IS NOT NULL\r\n		AND b.Maturity_Date >= CURRENT_DATE () THEN\r\n			1\r\n		ELSE\r\n			0\r\n		END\r\n	) = 1',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (270,0,'TEST1','1',1,2,1,'select Bond_Key,create_date,username from bond','delflag = 0',1,'LISTED_DATE:number','zz','2016-08-26 09:46:41','TEST','','','');
INSERT INTO `t_api` VALUES (271,1,'TEST2','1',1,2,1,'select Bond_Key,create_date,username,Bond_ID,Short_Name,Issuer_Code from bond','delflag = 0',0,'LISTED_DATE:number','zz','2016-08-26 09:46:41','TEST','','','');
INSERT INTO `t_api` VALUES (272,1,'TEST_BOND_WITH_LISTED_MARKET','1',1,2,1,'SELECT [columns] FROM (SELECT bond.*, p_bond_list_info.Listed_Market FROM bond LEFT JOIN p_bond_list_info ON bond.Bond_Key = p_bond_list_info.Bond_Key where bond.delflag = 0 AND p_bond_list_info.delflag = 0 AND p_bond_list_info.Bond_ID IS NOT NULL) AS temp_bond','',1,'LISTED_DATE:number','sky','2016-08-26 15:19:39','','','','');
INSERT INTO `t_api` VALUES (273,1,'TEST_RATE_INFO_WITH_MACRO_BASE_INDEX_VALUE','1',1,2,1,'SELECT * FROM (SELECT p_rate_info.*, macro_base_index_values.Index_Value, macro_base_index_values.Index_Date, macro_base_index_values.Last_Modify_Datetime, macro_base_index_values.Flag, macro_base_index_values.cvalue, macro_base_index_values.Index_Date_Emend FROM p_rate_info LEFT JOIN macro_base_index_values ON p_rate_info.gjk_code = macro_base_index_values.GJK_Code WHERE p_rate_info.delflag = 0) AS temp_rate_info','',1,'create_date:date','sky','2016-08-26 15:47:24','','','','');
INSERT INTO `t_api` VALUES (274,1,'TFBondHistory','1,3',1,2,1,'select [columns] from TFBondHistory','',1,'Delivery_Date:number','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (275,1,'TFBondSpreadHistory','1,3',1,2,1,'select [columns] from TFBondSpreadHistory','',1,'DealDate:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (276,1,'TF_active_bond_past_ten_days','1',1,2,1,'select [columns] from TF_active_bond_past_ten_days','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (277,1,'TF_AFBond_SpreadHistory','1',1,2,1,'select [columns] from TF_AFBond_SpreadHistory','',1,'DealDate:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (278,1,'TF_ContinuousContractInfo','1,3',1,2,1,'select [columns] from TF_ContinuousContractInfo','',1,'TFC_Date:string','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (279,1,'TF_Conversion_Factor','1,3',1,2,1,'select [columns] from TF_Conversion_Factor','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (280,1,'TF_Fundamental','1',1,2,1,'select [columns] from TF_Fundamental','',1,'','sky','2016-09-02 10:08:09','','','','');
INSERT INTO `t_api` VALUES (281,1,'TF_k_line_1m','1',1,2,1,'select [columns] from TF_k_line_1m','',1,'Tran_Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (282,1,'TF_k_line_5m','1',1,2,1,'select [columns] from TF_k_line_5m','',1,'Tran_Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (283,1,'TF_k_line_day','1,3',1,2,1,'select [columns] from TF_k_line_day','',1,'Tran_Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (284,1,'TF_k_line_month','1',1,2,1,'select [columns] from TF_k_line_month','',1,'Tran_Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (285,1,'TF_k_line_week','1',1,2,1,'select [columns] from TF_k_line_week','',1,'Tran_Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (286,1,'TF_k_line_year','1',1,2,1,'select [columns] from TF_k_line_year','',1,'Tran_Time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (287,1,'TF_user_custom_bond','1',1,2,1,'select [columns] from TF_user_custom_bond','',1,'create_time:date','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (288,1,'Tqhbzq','1',1,2,1,'select p_bond_list_info.Bond_ID,p_bond_list_info.Listed_Market,p_cash_flow.Remaining,p_cash_flow.Payment_Date,p_cash_flow.Principal from\r\n (select Bond_ID,Bond_Key,Listed_Market from p_bond_list_info where delflag=0 and Bond_Key is not null and Bond_ID is not null)p_bond_list_info join\r\n (select Bond_ID,Bond_Key from bond where delflag=0 and Bond_Key is not null and Bond_ID is not null and (Redemption_No is not null or Redemption_Str is not null))bond on p_bond_list_info.Bond_Key=bond.Bond_Key join\r\np_cash_flow on p_bond_list_info.Bond_Key = p_cash_flow.Bond_Key','',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (289,1,'underwriter_publicId_subscription','1',1,2,1,'select [columns] from underwriter_publicId_subscription','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (290,1,'underwriter_publicId_subscription_bak','1',1,2,1,'select [columns] from underwriter_publicId_subscription_bak','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (291,1,'usr_remind_mm','1',1,2,1,'select [columns] from usr_remind_mm','',1,'','sky','2016-09-19 14:54:01','','','','');
INSERT INTO `t_api` VALUES (292,1,'valuation_of_debt','1',1,2,1,'SELECT\r\n	Bond_ID,\r\n	Short_Name,\r\n	Valuate_Date,\r\n	Listed_Market,\r\n	Remaining_Year,\r\n	Val_Intraday_Dirty_Price,\r\n	Val_Intraday_Accrued_Interest,\r\n	Val_Clean_Price,\r\n	Val_Yield,\r\n	Val_Modified_Duration,\r\n	Val_Convexity,\r\n	Val_Basis_Point_Value,\r\n	Val_Spread_Duration,\r\n	Val_Spread_Convexity,\r\n	Market_Dirty_Price,\r\n	Market_Clean_Price,\r\n	Market_Yield,\r\n	Market_Modified_Duration,\r\n	Market_Convexity,\r\n	Market_Basis_Point_Value,\r\n	Market_Spread_Duration,\r\n	Market_Spread_Convexity,\r\n	Credibility,\r\n	Val_Rate_Duration,\r\n	Val_Rate_Convexity,\r\n	Market_Rate_Duration,\r\n	Market_Rate_Convexity,\r\n	Val_Closed_Dirty_Price,\r\n	Val_Closed_Accrued_Interest\r\nFROM\r\n	cdc_bond_valuation','Valuate_Date = (\r\n		SELECT\r\n			MAX(Valuate_Date)\r\n		FROM\r\n			cdc_bond_valuation\r\n	)',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (293,1,'V_History_Interest_Rate','1',1,2,1,'SELECT [columns]\r\n                from macro_base_index_values AA\r\n                INNER JOIN p_rate_info BB \r\n                on AA.GJK_Code = BB.gjk_code','BB.delflag = 0',1,'Index_Date:date','詹祖顺','2016-10-20 14:47:18','','','','');
INSERT INTO `t_api` VALUES (294,1,'V_Interest_Rate','1',1,2,1,'SELECT [columns] from\r\n	(\r\n	select distinct c.GJK_Code,c.Index_Date,c.Index_Value \r\n	from macro_base_index_values c \r\n	inner join\r\n		(select max(Index_Date) as Index_Date, GJK_Code from macro_base_index_values group by GJK_Code) d \r\n		on c.Index_Date = d.Index_Date and c.GJK_Code = d.GJK_Code\r\n	) AA\r\n	INNER JOIN p_rate_info BB on AA.GJK_Code = BB.gjk_code','',1,'','詹祖顺','2016-10-20 14:47:18','','','','');
INSERT INTO `t_api` VALUES (295,1,'webbond_bond','1',1,2,1,'SELECT\r\n	`bond`.auction_date_start,\r\n	`bond`.bond_id,\r\n	`bond`.bond_key,\r\n	`bond`.bond_subtype,\r\n	`bond`.bond_type,\r\n	`bond`.compound_frequency,\r\n	`bond`.coupon_frequency,\r\n	`bond`.coupon_rate_current,\r\n	`bond`.coupon_rate_spread,\r\n	`bond`.coupon_type,\r\n	`bond`.delisted_date,\r\n	`bond`.ent_cor,\r\n	`bond`.fixing_ma_days,\r\n	`bond`.frn_index_id,\r\n	`bond`.full_name,\r\n	`bond`.interest_start_date,\r\n	`bond`.is_municipal,\r\n	`bond`.issue_amount,\r\n	`bond`.issue_price,\r\n	`bond`.issue_rate,\r\n	`bond`.issue_start_date,\r\n	`bond`.issue_year,\r\n	`bond`.issuer_code,\r\n	`bond`.issuer_outlook_current,\r\n	`bond`.issuer_rating_current,\r\n	`bond`.issuer_rating_current_npy,\r\n	`bond`.issuer_rating_date,\r\n	`bond`.issuer_rating_institution_code,\r\n	`bond`.listed_date,\r\n	`bond`.maturity_date,\r\n	`bond`.maturity_term,\r\n	`bond`.next_coupon_date,\r\n	`bond`.option_date,\r\n	`bond`.option_exercise_date,\r\n	`bond`.option_style,\r\n	`bond`.option_type,\r\n	`bond`.p_issuer_outlook_current,\r\n	`bond`.p_issuer_rating_current,\r\n	`bond`.p_rating_current,\r\n	`bond`.payment_date,\r\n	`bond`.planned_issue_amount,\r\n	`bond`.rating_augment,\r\n	`bond`.rating_current,\r\n	-- bondrating\r\n	`bond`.rating_current_npy,\r\n	`bond`.rating_date,\r\n	`bond`.rating_institution_code,\r\n	`bond`.redemption_str,\r\n	`bond`.term_structure,\r\n	`bond`.term_unit,\r\n	`p_bond_list_info`.listed_market,\r\n	`p_bond_list_info`.pinyin,\r\n	`p_bond_list_info`.pinyin_full,\r\n	`p_bond_list_info`.short_name,\r\n	`cash_flow`.`cashflow_paymentdate`,\r\n\r\nIF (\r\n	(\r\n		NOT ISNULL(`bond`.`Option_Date`)\r\n	)\r\n	AND (\r\n		NOT ISNULL(`bond`.`Term_structure`)\r\n	)\r\n	AND (\r\n		TO_DAYS(`bond`.`Option_Date`) -\r\n		IF (\r\n			(\r\n				TO_DAYS(\r\n					`bond`.`Interest_Start_Date`\r\n				) > TO_DAYS(NOW())\r\n			),\r\n			TO_DAYS(\r\n				`bond`.`Interest_Start_Date`\r\n			),\r\n			TO_DAYS(NOW())\r\n		) >= 1\r\n	),\r\n	\"01\",\r\n	\"02\"\r\n) AS optionType,\r\n CASE\r\nWHEN (\r\n	`bond`.`Ent_Cor` = \"COP\"\r\n	AND `bond`.`External_Type` = \"EPB\"\r\n	AND `bond`.`Bond_Subtype` IN (\"CEB\", \"LEB\")\r\n) THEN\r\n	\"01\"\r\nWHEN (\r\n	`bond`.`Ent_Cor` = \"COP\"\r\n	AND `bond`.`External_Type` = \"PPN\"\r\n	AND `bond`.`Bond_Subtype` IN (\"PPN\")\r\n) THEN\r\n	\"02\"\r\nEND AS `corporateBondType`,\r\n CASE\r\nWHEN (\r\n	`bond`.`bond_subtype` IN (\"BGB\")\r\n) THEN\r\n	\"01\"\r\nWHEN (\r\n	`bond`.`bond_subtype` IN (\"SCB\")\r\n) THEN\r\n	\"02\"\r\nWHEN (\r\n	`bond`.`bond_subtype` IN (\"PBB\", \"PSB\")\r\n) THEN\r\n	\"03\"\r\nWHEN (\r\n	`bond`.`bond_subtype` IN (\"TLB\", \"LLB\")\r\n) THEN\r\n	\"04\"\r\nWHEN (\r\n	`bond`.`bond_subtype` IN (\"CCP\", \"LCP\", \"SSB\")\r\n) THEN\r\n	\"0506\"\r\nWHEN (\r\n	`bond`.`bond_subtype` IN (\"CSP\", \"LSP\")\r\n) THEN\r\n	\"0506\"\r\nWHEN (\r\n	`bond`.`bond_subtype` IN (\"CMN\", \"LMN\")\r\n) THEN\r\n	\"07\"\r\nWHEN (\r\n	(\r\n		`bond`.`bond_subtype` IN (\r\n			\"CCB\",\r\n			\"CEB\",\r\n			\"LEB\",\r\n			\"RAB\",\r\n			\"CVB\",\r\n			\"SCV\"\r\n		)\r\n	)\r\n	AND (`bond`.`Ent_Cor` = \"ENT\")\r\n) THEN\r\n	\"08\"\r\nWHEN (\r\n	(\r\n		`bond`.`bond_subtype` IN (\r\n			\"CCB\",\r\n			\"CEB\",\r\n			\"LEB\",\r\n			\"RAB\",\r\n			\"CVB\",\r\n			\"SCV\"\r\n		)\r\n	)\r\n	AND (`bond`.`Ent_Cor` = \"COP\")\r\n) THEN\r\n	\"0910\"\r\nWHEN (\r\n	(\r\n		`bond`.`bond_subtype` IN (\"PPN\")\r\n	)\r\n	AND (`bond`.`Ent_Cor` = \"COP\")\r\n) THEN\r\n	\"0910\"\r\nWHEN (\r\n	(\r\n		`bond`.`bond_subtype` IN (\"PPN\")\r\n	)\r\n	AND (`bond`.`Ent_Cor` IS NULL)\r\n) THEN\r\n	\"11\"\r\nWHEN (\r\n	`bond`.`bond_subtype` IN (\r\n		\"SPD\",\r\n		\"MCD\",\r\n		\"SHD\",\r\n		\"CCD\",\r\n		\"RTD\",\r\n		\"RRD\",\r\n		\"FRD\",\r\n		\"OTD\"\r\n	)\r\n) THEN\r\n	\"12\"\r\nWHEN (\r\n	`bond`.`bond_subtype` IN (\"AMP\", \"CBS\", \"LBS\", \"MBS\")\r\n) THEN\r\n	\"13\"\r\nELSE\r\n	\"14\"\r\nEND AS `qbBondType`,\r\n CASE\r\nWHEN (\r\n	ISNULL(\r\n		`bond`.`Issuer_Rating_Current`\r\n	)\r\n	AND ISNULL(`bond`.`Rating_Current`)\r\n) THEN\r\n	\"--\"\r\nWHEN (\r\n	ISNULL(\r\n		`bond`.`Issuer_Rating_Current`\r\n	)\r\n	AND (\r\n		NOT ISNULL(`bond`.`Rating_Current`)\r\n	)\r\n) THEN\r\n	CONCAT(\r\n		\"--/\",\r\n		`bond`.`Rating_Current`\r\n	)\r\nWHEN (\r\n	(\r\n		NOT ISNULL(\r\n			`bond`.`Issuer_Rating_Current`\r\n		)\r\n	)\r\n	AND ISNULL(`bond`.`Rating_Current`)\r\n) THEN\r\n	CONCAT(\r\n		`bond`.`Issuer_Rating_Current`,\r\n		\"/--\"\r\n	)\r\nWHEN (\r\n	(\r\n		NOT ISNULL(\r\n			`bond`.`Issuer_Rating_Current`\r\n		)\r\n	)\r\n	AND (\r\n		NOT ISNULL(`bond`.`Rating_Current`)\r\n	)\r\n	AND (\r\n		`bond`.`Issuer_Rating_Current` <> `bond`.`Rating_Current`\r\n	)\r\n) THEN\r\n	CONCAT(\r\n		`bond`.`Issuer_Rating_Current`,\r\n		\"/\",\r\n		`bond`.`Rating_Current`\r\n	)\r\nWHEN (\r\n	(\r\n		NOT ISNULL(\r\n			`bond`.`Issuer_Rating_Current`\r\n		)\r\n	)\r\n	AND (\r\n		NOT ISNULL(`bond`.`Rating_Current`)\r\n	)\r\n	AND (\r\n		`bond`.`Issuer_Rating_Current` = `bond`.`Rating_Current`\r\n	)\r\n) THEN\r\n	`bond`.`Issuer_Rating_Current`\r\nEND AS `corpBondRating`,\r\n CASE\r\nWHEN (\r\n	`bond`.`coupon_type` IN (\"ZRO\", \"DSC\", \"FRB\", \"PAM\")\r\n	OR (\r\n		`bond`.`Coupon_Type` = \"FRN\"\r\n		AND `bond`.`Next_Coupon_Date` = `bond`.`maturity_date`\r\n	)\r\n) THEN\r\n	\"03\"\r\nWHEN (\r\n	`bond`.`coupon_type` = \"FRN\"\r\n	AND `bond`.`FRN_Index_ID` LIKE \"%SHIBOR%\"\r\n	AND `bond`.`Next_Coupon_Date` != `bond`.`maturity_date`\r\n) THEN\r\n	\"01\"\r\nWHEN (\r\n	`bond`.`coupon_type` = \"FRN\"\r\n	AND `bond`.`FRN_Index_ID` LIKE \"%DEPO%\"\r\n	AND `bond`.`Next_Coupon_Date` != `bond`.`maturity_date`\r\n) THEN\r\n	\"02\"\r\nEND AS `couponType`,\r\n\r\nIF (\r\n	(\r\n		TO_DAYS(\r\n			(\r\n				SELECT\r\n					DATE_FORMAT(NOW(), \"%Y%m%d\") AS `DATE_FORMAT(NOW(), \"%Y%m%d\")`\r\n			)\r\n		) - TO_DAYS(`bond`.`Listed_Date`)\r\n	) < 6,\r\n	1,\r\n	0\r\n) AS `newListed`,\r\n CASE\r\nWHEN (`bond`.`Option_Type` = \"ETS\") THEN\r\n	\"01\"\r\nELSE\r\n	\"02\"\r\nEND AS `perpetualType`,\r\n CASE `bond`.`Rating_Current`\r\nWHEN \"AAA\" THEN\r\n	\"01\"\r\nWHEN \"A-1\" THEN\r\n	\"02\"\r\nWHEN \"AA+\" THEN\r\n	\"03\"\r\nWHEN \"AA\" THEN\r\n	\"04\"\r\nWHEN \"AA-\" THEN\r\n	\"05\"\r\nWHEN \"A+\" THEN\r\n	\"06\"\r\nELSE\r\n	\"07\"\r\nEND AS `bondRating`,\r\n CASE\r\nWHEN (\r\n	(\r\n		`bond`.`bond_subtype` = \"PBB\"\r\n	)\r\n	AND (\r\n		`bond`.`Issuer_Code` = \"G000124\"\r\n	)\r\n) THEN\r\n	\"01\"\r\nWHEN (\r\n	(\r\n		`bond`.`bond_subtype` = \"PBB\"\r\n	)\r\n	AND (\r\n		`bond`.`Issuer_Code` <> \"G000124\"\r\n	)\r\n) THEN\r\n	\"02\"\r\nEND AS `financialBondType`,\r\n CASE `p_bond_list_info`.`Listed_Market`\r\nWHEN \"CIB\" THEN\r\n	CONCAT(\r\n		`p_bond_list_info`.`Bond_ID`,\r\n		\".IB\"\r\n	)\r\nWHEN \"SSE\" THEN\r\n	`p_bond_list_info`.`Bond_ID`\r\nWHEN \"SZE\" THEN\r\n	`p_bond_list_info`.`Bond_ID`\r\nEND AS `bondCode`,\r\n\r\nIF (\r\n	(\r\n		`p_bond_list_info`.`Listed_Market` = \"CIB\"\r\n	),\r\n	1,\r\n	0\r\n) AS `interBank`,\r\n\r\nIF (\r\n	(\r\n		`p_bond_list_info`.`Listed_Market` = \"SSE\"\r\n	)\r\n	OR (\r\n		`p_bond_list_info`.`Listed_Market` = \"SZE\"\r\n	),\r\n	1,\r\n	0\r\n) AS `exchange`,\r\n\r\nIF (\r\n	(\r\n		(\r\n			`p_bond_list_info`.`Is_Mortgage` = \"Y\"\r\n		)\r\n		AND (\r\n			`bond`.`Issuer_Rating_Current` IN (\"AAA+\", \"AAA\", \"AA+\", \"AA\")\r\n		)\r\n		AND (\r\n			`bond`.`Rating_Current` = \"AAA\"\r\n		)\r\n		AND (\r\n			`bond`.`Issuer_Outlook_Current` IN (\"STB\", \"POS\")\r\n		)\r\n	),\r\n	1,\r\n	0\r\n) AS `pledge`\r\nFROM\r\n	`bond` AS `bond`\r\nLEFT JOIN `p_bond_list_info` AS `p_bond_list_info` ON (\r\n	`bond`.`Bond_Key` = `p_bond_list_info`.`Bond_Key`\r\n	AND (`bond`.`delflag` = 0)\r\n	AND (\r\n		`p_bond_list_info`.`delflag` = 0\r\n	)\r\n)\r\nLEFT JOIN (\r\n	SELECT\r\n		Bond_Key,\r\n		GROUP_CONCAT(\r\n			Payment_Date\r\n			ORDER BY\r\n				Payment_Date DESC SEPARATOR \'/\'\r\n		) AS cashflow_paymentdate\r\n	FROM\r\n		p_cash_flow\r\n	GROUP BY\r\n		Bond_Key\r\n) AS `cash_flow` ON (\r\n	`bond`.`Bond_Key` = `cash_flow`.`Bond_Key`\r\n)','',1,'','zhanzushun','2017-04-01 20:13:42','','','','');
INSERT INTO `t_api` VALUES (296,1,'webbond_recent_Nth_workday_CIB','1',1,2,1,'\r\nselect DATE_FORMAT(recent_30_days.date, \"%Y%m%d\") as recent_Nth_workday from\r\n(\r\nselect\r\n	selected_date as date\r\nfrom\r\n	(select adddate(\"2017-01-01\",t4*10000 + t3*1000 + t2*100 + t1*10 + t0) selected_date from\r\n	 (select 0 t0 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t0,\r\n	 (select 0 t1 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t1,\r\n	 (select 0 t2 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t2,\r\n	 (select 0 t3 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t3,\r\n	 (select 0 t4 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t4) all_days\r\nwhere all_days.selected_date between adddate(NOW(), -30) and NOW()\r\n) recent_30_days\r\n\r\nleft JOIN holiday_info\r\non\r\n	recent_30_days.date = holiday_info.holiday_date\r\n	and holiday_info.market_type=\"CIB\"\r\n	and holiday_info.delflag=\"0\"\r\n','holiday_info.ID is NULL order by date DESC',1,'','zhanzushun','2017-05-10 15:30:54','','','','');
INSERT INTO `t_api` VALUES (297,1,'webbond_recent_Nth_workday_SSE','1',1,2,1,'\r\nselect DATE_FORMAT(recent_30_days.date, \"%Y%m%d\") as recent_Nth_workday from\r\n(\r\nselect\r\n	selected_date as date\r\nfrom\r\n	(select adddate(\"2017-01-01\",t4*10000 + t3*1000 + t2*100 + t1*10 + t0) selected_date from\r\n	 (select 0 t0 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t0,\r\n	 (select 0 t1 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t1,\r\n	 (select 0 t2 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t2,\r\n	 (select 0 t3 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t3,\r\n	 (select 0 t4 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t4) all_days\r\nwhere all_days.selected_date between adddate(NOW(), -30) and NOW()\r\n) recent_30_days\r\n\r\nleft JOIN holiday_info\r\non\r\n	recent_30_days.date = holiday_info.holiday_date\r\n	and holiday_info.market_type=\"SSE\"\r\n	and holiday_info.delflag=\"0\"\r\n','holiday_info.ID is NULL order by date DESC',1,'','zhanzushun','2017-05-10 15:30:54','','','','');
INSERT INTO `t_api` VALUES (298,1,'webbond_recent_Nth_workday_SZE','1',1,2,1,'\r\nselect DATE_FORMAT(recent_30_days.date, \"%Y%m%d\") as recent_Nth_workday from\r\n(\r\nselect\r\n	selected_date as date\r\nfrom\r\n	(select adddate(\"2017-01-01\",t4*10000 + t3*1000 + t2*100 + t1*10 + t0) selected_date from\r\n	 (select 0 t0 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t0,\r\n	 (select 0 t1 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t1,\r\n	 (select 0 t2 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t2,\r\n	 (select 0 t3 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t3,\r\n	 (select 0 t4 union select 1 union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8 union select 9) t4) all_days\r\nwhere all_days.selected_date between adddate(NOW(), -30) and NOW()\r\n) recent_30_days\r\n\r\nleft JOIN holiday_info\r\non\r\n	recent_30_days.date = holiday_info.holiday_date\r\n	and holiday_info.market_type=\"SZE\"\r\n	and holiday_info.delflag=\"0\"\r\n','holiday_info.ID is NULL order by date DESC',1,'','zhanzushun','2017-05-10 15:30:54','','','','');
INSERT INTO `t_api` VALUES (299,1,'webbond_residual_maturity','1',1,2,1,'SELECT\n	[columns], CONCAT(\n\n		IF (\n			(\n				ISNULL(\n					`sc`.`Now_to_OptionDate_days`\n				)\n				OR (\n					`sc`.`Now_to_OptionDate_days` < 1\n				)\n			),\n			CONCAT(\n				`sc`.`Now_to_MaturityDate_days`,\n				\"D\"\n			),\n\n		IF (\n			(\n				NOT ISNULL(`sc`.`Term_structure`)\n			),\n			CONCAT(\n				CONCAT(\n					`sc`.`Now_to_OptionDate_days`,\n					\"D + \"\n				),\n				CONCAT(\n					`sc`.`OptionDate_to_MaturityDate_days`,\n					\"D\"\n				)\n			),\n			CONCAT(\n				`sc`.`Now_to_MaturityDate_days`,\n				\"D\"\n			)\n		)\n		),\n\n	IF (\n		(`sc`.`Option_Type` = \"ETS\"),\n		\" + N\",\n		\"\"\n	)\n	) AS `residual_maturity`,\n	`sc`.`Now_to_MaturityDate_days` AS `Now_to_MaturityDate_days`,\n	-- IFNULL(`sc`.`Now_to_OptionDate_days`, `sc`.`Now_to_MaturityDate_days`) AS `Now_to_OptionDate_or_to_MaturityDate_days`\nIF (\n	(\n		ISNULL(\n			`sc`.`Now_to_OptionDate_days`\n		)\n		OR (\n			`sc`.`Now_to_OptionDate_days` = 0\n		)\n	),\n	`sc`.`Now_to_MaturityDate_days`,\n	`sc`.`Now_to_OptionDate_days`\n) AS `Now_to_OptionDate_or_to_MaturityDate_days`\nFROM\n	(\n		SELECT\n			`bond`.`Bond_Key`,\n			`bond`.`Bond_ID`,\n			`bond`.`Short_Name`,\n			`bond`.`Term_structure`,\n			`bond`.`Option_Type`,\n			(\n				TO_DAYS(`bond`.`Option_Date`) -\n				IF (\n					(\n						TO_DAYS(NOW()) < TO_DAYS(\n							`bond`.`Interest_Start_Date`\n						)\n					),\n					TO_DAYS(\n						`bond`.`Interest_Start_Date`\n					),\n					TO_DAYS(NOW())\n				)\n			) AS `Now_to_OptionDate_days`,\n			(\n				TO_DAYS(`bond`.`Maturity_Date`) - TO_DAYS(`bond`.`Option_Date`)\n			) AS `OptionDate_to_MaturityDate_days`,\n			(\n				TO_DAYS(`bond`.`Maturity_Date`) -\n				IF (\n					(\n						TO_DAYS(NOW()) < TO_DAYS(\n							`bond`.`Interest_Start_Date`\n						)\n					),\n					TO_DAYS(\n						`bond`.`Interest_Start_Date`\n					),\n					TO_DAYS(NOW())\n				)\n			) AS `Now_to_MaturityDate_days`\n		FROM\n			`bond` AS `bond`\n		WHERE\n			(`bond`.`delflag` = 0)\n	) AS sc','',1,'','zhanzushun','2017-04-07 14:37:46','','','','');
INSERT INTO `t_api` VALUES (300,1,'YieldCurve','1',1,2,1,'select Date,IndexDesc,Period,Yield from cdc_yield_curve','Date=(select max(Date) from cdc_yield_curve where Date<=curdate()) and Period in (\'10Y\',\'15Y\',\'1D\',\'1M\',\'1W\',\'1Y\',\'20Y\',\'2M\',\'2Y\',\'30Y\',\'3M\',\'3Y\',\'4Y\',\'5Y\',\'6M\',\'6Y\',\'7Y\',\'9M\')',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (301,1,'yield_curve','1',1,2,1,'SELECT\r\n	`Date`,\r\n	CurveType AS Curve_Code,\r\n	IndexDesc AS Curve_Name,\r\n	Period,\r\n	Yield\r\nFROM\r\n	cdc_yield_curve','`Date` = (\r\n		SELECT\r\n			MAX(`Date`)\r\n		FROM\r\n			cdc_yield_curve\r\n	)',1,'','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (302,1,'TEST1','1',2,2,1,'select Bond_Key,create_date,username,Bond_ID,Short_Name,Issuer_Code from bond','delflag = 0',1,'LISTED_DATE:number','zz','2016-08-26 09:46:41','TEST','','','');
INSERT INTO `t_api` VALUES (303,0,'TEST1','1',3,2,1,'select Bond_Key from bond','delflag = 0',1,'LISTED_DATE:number','zz','2016-08-26 09:46:41','TEST','','','');
INSERT INTO `t_api` VALUES (314,1,'bond_id_deal_close','1,3',1,3,1,'\r\n\r\nSELECT \r\nDISTINCT\r\nCASE\r\n	WHEN\r\n	bt.code IS NOT NULL AND bt.ListedMarket=\'CIB\'\r\n	THEN\r\n	CONCAT(SUBSTRING_INDEX(bt.code,\'.\',1),\'.IB\')\r\n	WHEN\r\n	bt.code IS NOT NULL AND bt.ListedMarket=\'SSE\'\r\n	THEN\r\n	CONCAT(SUBSTRING_INDEX(bt.code,\'.\',1),\'.SH\')\r\n	WHEN\r\n	bt.code IS NOT NULL AND bt.ListedMarket=\'SZE\'\r\n	THEN\r\n	CONCAT(SUBSTRING_INDEX(bt.code,\'.\',1),\'.SZ\')\r\n	ELSE\r\n	bt.code\r\nEND AS code,\r\nDATE(bt.UpdatedAt) AS date,bt.Price AS close\r\nFROM \r\nbond_trade_v2_today AS bt \r\nINNER JOIN \r\n(SELECT BondKey,ListedMarket,MAX(UpdatedAt) AS midlUpdatedAt FROM bond_trade_v2_today where BrokerID IN (\'1\',\'2\',\'3\',\'4\',\'5\') AND dealstatus <=3 AND status<>2 AND internally<>2 GROUP BY BondKey,ListedMarket) AS midl\r\nON bt.BondKey=midl.BondKey AND bt.UpdatedAt=midl.midlUpdatedAt and bt.ListedMarket=midl.ListedMarket','',1,'','yangxb','2017-08-15 17:51:26','点石债券获取收盘价查询','','','');
INSERT INTO `t_api` VALUES (315,1,'bond_quote_v2_today','1,3',1,3,1,'select [columns] from bond_quote_v2_today','',1,'','sky','2017-05-24 13:53:10','','','','');
INSERT INTO `t_api` VALUES (316,1,'bond_quote_v2_today_history','1',1,3,1,'select [columns] from bond_quote_v2_today_history','',1,'','sky','2017-05-24 13:53:10','','','','');
INSERT INTO `t_api` VALUES (317,1,'bond_trade_v2_today','1,3',1,3,1,'select [columns] from bond_trade_v2_today','',1,'UpdatedAt:date','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (318,1,'bond_trade_v2_today_close','1,3',1,3,1,'\r\nselect [columns] from \r\n(\r\nSELECT \r\nDISTINCT\r\nbt.bondkey,bt.ListedMarket,DATE(bt.UpdatedAt) AS date,bt.Price AS close\r\nFROM \r\nbond_trade_v2_today AS bt \r\nINNER JOIN \r\n(SELECT BondKey,ListedMarket,MAX(UpdatedAt) AS midlUpdatedAt FROM bond_trade_v2_today where BrokerID IN (\'1\',\'2\',\'3\',\'4\',\'5\') AND dealstatus <=3 AND status<>2 AND internally<>2 GROUP BY BondKey,ListedMarket) AS midl\r\nON bt.BondKey=midl.BondKey AND bt.UpdatedAt=midl.midlUpdatedAt  AND bt.ListedMarket=midl.ListedMarket ) as result','',1,'','yangxb','2017-08-16 11:02:33','债券日终处理收盘价查询','','','');
INSERT INTO `t_api` VALUES (319,1,'bond_trade_v2_today_history','1',1,3,1,'select [columns] from bond_trade_v2_today_history','',1,'','sky','2017-05-24 13:53:10','','','','');
INSERT INTO `t_api` VALUES (320,1,'bond_trade_v2_today_open','1,3',1,3,1,'\r\nselect [columns] from \r\n(\r\nSELECT\r\ndistinct \r\nbt.bondkey,bt.ListedMarket,\r\nDATE(bt.UpdatedAt) AS date,bt.Price AS open\r\nFROM \r\nbond_trade_v2_today AS bt \r\nINNER JOIN \r\n(SELECT BondKey,ListedMarket,min(UpdatedAt) AS midlUpdatedAt FROM bond_trade_v2_today where BrokerID IN (\'1\',\'2\',\'3\',\'4\',\'5\') AND dealstatus <=3 AND status<>2 AND internally<>2 GROUP BY BondKey,ListedMarket) AS midl\r\nON bt.BondKey=midl.BondKey AND bt.UpdatedAt=midl.midlUpdatedAt AND bt.ListedMarket=midl.ListedMarket) as result','',1,'','yangxb','2017-08-15 18:01:52','债券日终处理开盘价查询','','','');
INSERT INTO `t_api` VALUES (321,1,'fxspot_kline_day','1',1,3,1,'select [columns] from fxspot_kline_day','',1,'DURATION_TIME:date','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (322,1,'fxspot_realtime','1',1,3,1,'select [columns] from fxspot_realtime','',1,'kline_date:date','sky','2016-09-19 09:51:17','','','','');
INSERT INTO `t_api` VALUES (323,1,'webbond_bbo','1,3',1,3,1,'SELECT [columns] FROM (SELECT webbond_bbo.*\r\n                      FROM (SELECT\r\n                              bondKey,\r\n                              ListedMarket,\r\n                              brokerId,\r\n                              MAX(updateDateTime) AS updateDateTime\r\n                            FROM webbond_bbo\r\n                            WHERE TO_DAYS(updateDateTime) = TO_DAYS(now())\r\n                            GROUP BY bondKey, ListedMarket, brokerId) AS t LEFT JOIN webbond_bbo\r\n                          ON t.bondKey = webbond_bbo.bondKey AND t.ListedMarket = webbond_bbo.ListedMarket AND\r\n                             t.brokerId = webbond_bbo.brokerId AND t.updateDateTime = webbond_bbo.updateDateTime) AS temp_webbond_bbo','',1,'','wangchengzhang','2016-02-15 16:10:20','最优报价表','','','');
INSERT INTO `t_api` VALUES (324,1,'webbond_bbo_2','1,3',1,3,1,'select [columns] from (SELECT webbond_bbo.*\r\n                      FROM (SELECT\r\n                              bondKey,\r\n                              ListedMarket,\r\n                              brokerId,\r\n                              max(updateDateTime) AS updateDateTime\r\n                            FROM webbond_bbo\r\n                            GROUP BY bondKey, ListedMarket, brokerId) as t LEFT JOIN webbond_bbo\r\n                          ON t.bondKey = webbond_bbo.bondKey AND t.ListedMarket = webbond_bbo.ListedMarket AND\r\n                             t.brokerId = webbond_bbo.brokerId AND t.updateDateTime = webbond_bbo.updateDateTime) as temp_webbond_bbo','',1,'','wangchengzhang','2016-02-15 16:10:20','最优报价表','','','');
INSERT INTO `t_api` VALUES (325,1,'webbond_bbo_history','1',1,3,1,'select [columns] from webbond_bbo_history','',1,'','sky','2017-05-24 13:53:10','','','','');
INSERT INTO `t_api` VALUES (326,1,'webbond_bbo_new','1,3',1,3,1,'\r\nSELECT [columns]\r\n\r\nFROM\r\n(\r\n\r\nSELECT temp.bondKey,temp.bondCode,temp.listedMarket,temp.remaintTime,temp.cdcValuation,temp.csiValuation,\r\nmaxofr.bbo_max_ofr,minofr.bbo_min_ofr,maxbid.bbo_max_bid,minbid.bbo_min_bid,\r\nmaxspread.bbo_max_spread,minspread.bbo_min_spread,avgspread.bbo_avg_spread,totalcnt.total_cnt,ofrcnt.ofr_cnt,bidcnt.bid_cnt,\r\ntemp.updateDateTime\r\nFROM \r\n(SELECT * FROM webbond_bbo GROUP BY bondkey,listedMarket) AS temp\r\nLEFT JOIN \r\n(SELECT bondkey,listedMarket,updateDateTime,MAX(ofr)  AS bbo_max_ofr FROM webbond_bbo  WHERE ofr<>\'--\' AND ofr<>\'ofr\' GROUP BY bondkey,listedMarket) AS maxofr\r\nON temp.bondkey=maxofr.bondkey AND temp.updateDateTime=maxofr.updateDateTime AND temp.ListedMarket=maxofr.ListedMarket\r\nLEFT JOIN \r\n(SELECT bondkey,listedMarket,updateDateTime,MIN(ofr) AS bbo_min_ofr FROM webbond_bbo  WHERE ofr<>\'--\' AND ofr<>\'ofr\' GROUP BY bondkey,listedMarket) AS minofr\r\nON temp.bondkey=minofr.bondkey AND temp.updateDateTime=minofr.updateDateTime AND temp.ListedMarket=minofr.ListedMarket\r\nLEFT JOIN \r\n(SELECT bondkey,listedMarket,updateDateTime,MAX(bid) AS bbo_max_bid FROM webbond_bbo  WHERE bid<>\'--\' AND bid<>\'bid\' GROUP BY bondkey,listedMarket) AS maxbid\r\nON temp.bondkey=maxbid.bondkey AND temp.updateDateTime=maxbid.updateDateTime AND temp.ListedMarket=maxbid.ListedMarket\r\nLEFT JOIN \r\n(SELECT bondkey,listedMarket,updateDateTime,MIN(bid) AS bbo_min_bid FROM webbond_bbo  WHERE bid<>\'--\' AND bid<>\'bid\' GROUP BY bondkey,listedMarket) AS minbid\r\nON temp.bondkey=minbid.bondkey AND temp.updateDateTime=minbid.updateDateTime AND temp.ListedMarket=minbid.ListedMarket\r\nLEFT JOIN \r\n(SELECT bondkey,listedMarket,updateDateTime,ROUND(MAX(bid-ofr),4) AS bbo_max_spread FROM webbond_bbo  WHERE  bid<>\'--\' AND ofr<>\'--\'AND bid<>\'bid\' AND ofr<>\'ofr\' GROUP BY bondkey,listedMarket) AS maxspread\r\nON temp.bondkey=maxspread.bondkey AND temp.updateDateTime=maxspread.updateDateTime AND temp.ListedMarket=maxspread.ListedMarket\r\nLEFT JOIN \r\n(SELECT bondkey,listedMarket,updateDateTime,ROUND(MIN(bid-ofr),4) AS bbo_min_spread FROM webbond_bbo  WHERE  bid<>\'--\' AND ofr<>\'--\'AND bid<>\'bid\' AND ofr<>\'ofr\' GROUP BY bondkey,listedMarket) AS minspread\r\nON temp.bondkey=minspread.bondkey AND temp.updateDateTime=minspread.updateDateTime  AND temp.ListedMarket=minspread.ListedMarket\r\nLEFT JOIN \r\n(SELECT bondkey,listedMarket,updateDateTime,ROUND(AVG(bid-ofr),4) AS bbo_avg_spread FROM webbond_bbo  WHERE  bid<>\'--\' AND ofr<>\'--\'AND bid<>\'bid\' AND ofr<>\'ofr\' GROUP BY bondkey,listedMarket) AS avgspread\r\nON temp.bondkey=avgspread.bondkey AND temp.updateDateTime=avgspread.updateDateTime AND temp.ListedMarket=avgspread.ListedMarket \r\nINNER JOIN \r\n(SELECT bondkey,listedMarket,updateDateTime,COUNT(*) AS total_cnt FROM webbond_bbo GROUP BY bondkey,listedMarket) AS totalcnt\r\nON temp.bondkey=totalcnt.bondkey AND temp.updateDateTime=totalcnt.updateDateTime AND temp.ListedMarket=totalcnt.ListedMarket \r\nLEFT JOIN \r\n(SELECT bondkey,listedMarket,updateDateTime,COUNT(*) AS ofr_cnt FROM webbond_bbo WHERE ofr<>\'--\' AND ofr<>\'\' GROUP BY bondkey,listedMarket) AS ofrcnt\r\nON temp.bondkey=ofrcnt.bondkey AND temp.updateDateTime=ofrcnt.updateDateTime AND temp.ListedMarket=ofrcnt.ListedMarket \r\nLEFT JOIN \r\n(SELECT bondkey,listedMarket,updateDateTime,COUNT(*) AS bid_cnt FROM webbond_bbo WHERE bid<>\'--\' AND bid<>\'\' GROUP BY bondkey,listedMarket) AS bidcnt\r\nON temp.bondkey=bidcnt.bondkey AND temp.updateDateTime=bidcnt.updateDateTime  AND temp.ListedMarket=bidcnt.ListedMarket\r\nGROUP BY temp.bondkey,temp.ListedMarket ) AS result','',1,'','yangxb','2017-08-16 10:45:02','债券日终处理webbond_bbo数据源查询','','','');
INSERT INTO `t_api` VALUES (327,1,'webbond_bbo_today','1,3',1,3,1,'select [columns] from webbond_bbo','',1,'','sky','2017-06-05 15:04:00','获取当日最优报价','','','');
INSERT INTO `t_api` VALUES (328,1,'webbond_trade','1',1,3,1,'select [columns] from webbond_trade','',1,'','wangchengzhang','2016-02-15 16:10:20','今日成交表','','','');
INSERT INTO `t_api` VALUES (329,1,'webbond_trade_history','1',1,3,1,'select [columns] from webbond_trade_history','',1,'','sky','2017-05-24 13:53:10','','','','');
INSERT INTO `t_api` VALUES (383,1,'datetest','1',1,1,1,'select [columns] from test.datetest',NULL,1,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
/*!40000 ALTER TABLE `t_api` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping data for table `t_api_group`
--

LOCK TABLES `t_api_group` WRITE;
/*!40000 ALTER TABLE `t_api_group` DISABLE KEYS */;
INSERT INTO `t_api_group` VALUES (1,'local',NULL,NULL,NULL,NULL);
INSERT INTO `t_api_group` VALUES (2,'nolocal',NULL,NULL,NULL,NULL);
/*!40000 ALTER TABLE `t_api_group` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping data for table `t_authority`
--

LOCK TABLES `t_authority` WRITE;
/*!40000 ALTER TABLE `t_authority` DISABLE KEYS */;
INSERT INTO `t_authority` VALUES (1,1,'1',NULL,NULL,'2018-03-22 00:00:00',NULL,NULL,NULL,NULL,1000,10000);
INSERT INTO `t_authority` VALUES (2,2,'1,2',NULL,NULL,'2018-03-22 00:00:00',NULL,NULL,NULL,NULL,5000,500000);
/*!40000 ALTER TABLE `t_authority` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping data for table `t_data_source`
--

LOCK TABLES `t_data_source` WRITE;
/*!40000 ALTER TABLE `t_data_source` DISABLE KEYS */;
INSERT INTO `t_data_source` VALUES (1,1,'local','jdbc:mysql://192.168.11.196/mysql?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&tinyInt1isBit=false',3,'gonwan','pMxuqaBSAJQgRg11CqmYgg==',NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO `t_data_source` VALUES (2,1,'8.89','jdbc:mysql://172.16.8.89/ss_product?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&tinyInt1isBit=false',3,'artogrid','dNtwqqwBUTxR3RiSkUycAqYX/mgtF9jRc5CXyGEfvJs=',NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO `t_data_source` VALUES (3,1,'66.120','jdbc:mysql://172.16.66.120/cdh_database?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&tinyInt1isBit=false',3,'artogrid','dNtwqqwBUTxR3RiSkUycAqYX/mgtF9jRc5CXyGEfvJs=',NULL,NULL,NULL,NULL,NULL,NULL);
/*!40000 ALTER TABLE `t_data_source` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping data for table `t_user`
--

LOCK TABLES `t_user` WRITE;
/*!40000 ALTER TABLE `t_user` DISABLE KEYS */;
INSERT INTO `t_user` VALUES (1,1,'test1','pMxuqaBSAJQgRg11CqmYgg==',NULL,NULL,NULL,NULL,NULL,'2018-03-22 00:00:00',NULL,NULL,NULL,NULL);
INSERT INTO `t_user` VALUES (2,1,'test2','pMxuqaBSAJQgRg11CqmYgg==',NULL,NULL,NULL,NULL,NULL,'2018-03-22 00:00:00',NULL,NULL,NULL,NULL);
/*!40000 ALTER TABLE `t_user` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping data for table `t_user_date_count`
--

LOCK TABLES `t_user_date_count` WRITE;
/*!40000 ALTER TABLE `t_user_date_count` DISABLE KEYS */;
INSERT INTO `t_user_date_count` VALUES ('test2','2018-03-25',700);
INSERT INTO `t_user_date_count` VALUES ('test2','2018-03-26',1012);
/*!40000 ALTER TABLE `t_user_date_count` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2018-03-27 13:07:59
